typeof JSON!="undefined"&&(window._vwdJSON=JSON);typeof define!="undefined"&&(window._vwdDefine=define,define=null);typeof onbeforeunload!="undefined"&&(window._vwdonbeforeunload=window.onbeforeunload);
;
/* NUGET: BEGIN LICENSE TEXT
 *
 * Microsoft grants you the right to use these script files for the sole
 * purpose of either: (i) interacting through your browser with the Microsoft
 * website or online service, subject to the applicable licensing or use
 * terms; or (ii) using the files as included with a Microsoft product subject
 * to that product's license terms. Microsoft reserves all other rights to the
 * files not expressly granted by Microsoft, whether by implication, estoppel
 * or otherwise. Insofar as a script file is dual licensed under GPL,
 * Microsoft neither took the code under GPL nor distributes it thereunder but
 * under the terms set out in this paragraph. All notices and licenses
 * below are for informational purposes only.
 *
 * NUGET: END LICENSE TEXT */
var JSON;JSON||(JSON={}),(function(){"use strict";function i(n){return n<10?"0"+n:n}function f(n){return o.lastIndex=0,o.test(n)?'"'+n.replace(o,function(n){var t=s[n];return typeof t=="string"?t:"\\u"+("0000"+n.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+n+'"'}function r(i,e){var h,l,c,a,v=n,s,o=e[i];o&&typeof o=="object"&&typeof o.toJSON=="function"&&(o=o.toJSON(i)),typeof t=="function"&&(o=t.call(e,i,o));switch(typeof o){case"string":return f(o);case"number":return isFinite(o)?String(o):"null";case"boolean":case"null":return String(o);case"object":if(!o)return"null";n+=u,s=[];if(Object.prototype.toString.apply(o)==="[object Array]"){for(a=o.length,h=0;h<a;h+=1)s[h]=r(h,o)||"null";return c=s.length===0?"[]":n?"[\n"+n+s.join(",\n"+n)+"\n"+v+"]":"["+s.join(",")+"]",n=v,c}if(t&&typeof t=="object")for(a=t.length,h=0;h<a;h+=1)typeof t[h]=="string"&&(l=t[h],c=r(l,o),c&&s.push(f(l)+(n?": ":":")+c));else for(l in o)Object.prototype.hasOwnProperty.call(o,l)&&(c=r(l,o),c&&s.push(f(l)+(n?": ":":")+c));return c=s.length===0?"{}":n?"{\n"+n+s.join(",\n"+n)+"\n"+v+"}":"{"+s.join(",")+"}",n=v,c}}typeof Date.prototype.toJSON!="function"&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+i(this.getUTCMonth()+1)+"-"+i(this.getUTCDate())+"T"+i(this.getUTCHours())+":"+i(this.getUTCMinutes())+":"+i(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var e=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,o=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,n,u,s={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},t;typeof JSON.stringify!="function"&&(JSON.stringify=function(i,f,e){var o;n="",u="";if(typeof e=="number")for(o=0;o<e;o+=1)u+=" ";else typeof e=="string"&&(u=e);t=f;if(f&&typeof f!="function"&&(typeof f!="object"||typeof f.length!="number"))throw new Error("JSON.stringify");return r("",{"":i})}),typeof JSON.parse!="function"&&(JSON.parse=function(n,t){function r(n,i){var f,e,u=n[i];if(u&&typeof u=="object")for(f in u)Object.prototype.hasOwnProperty.call(u,f)&&(e=r(u,f),e!==undefined?u[f]=e:delete u[f]);return t.call(n,i,u)}var i;n=String(n),e.lastIndex=0,e.test(n)&&(n=n.replace(e,function(n){return"\\u"+("0000"+n.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(n.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return i=eval("("+n+")"),typeof t=="function"?r({"":i},""):i;throw new SyntaxError("JSON.parse");})})()

;
/* NUGET: BEGIN LICENSE TEXT
 *
 * Microsoft grants you the right to use these script files for the sole
 * purpose of either: (i) interacting through your browser with the Microsoft
 * website or online service, subject to the applicable licensing or use
 * terms; or (ii) using the files as included with a Microsoft product subject
 * to that product's license terms. Microsoft reserves all other rights to the
 * files not expressly granted by Microsoft, whether by implication, estoppel
 * or otherwise. Insofar as a script file is dual licensed under GPL,
 * Microsoft neither took the code under GPL nor distributes it thereunder but
 * under the terms set out in this paragraph. All notices and licenses
 * below are for informational purposes only.
 *
 * JQUERY CORE 1.8.2; Copyright 2012 jQuery Foundation and other contributors; http://jquery.org/license
 * Includes Sizzle CSS Selector Engine; Copyright 2012 jQuery Foundation and other contributors; http://opensource.org/licenses/MIT
 *
 * NUGET: END LICENSE TEXT */
/*! jQuery v1.8.2 jquery.com | jquery.org/license */
(function(a,b){function G(a){var b=F[a]={};return p.each(a.split(s),function(a,c){b[c]=!0}),b}function J(a,c,d){if(d===b&&a.nodeType===1){var e="data-"+c.replace(I,"-$1").toLowerCase();d=a.getAttribute(e);if(typeof d=="string"){try{d=d==="true"?!0:d==="false"?!1:d==="null"?null:+d+""===d?+d:H.test(d)?p.parseJSON(d):d}catch(f){}p.data(a,c,d)}else d=b}return d}function K(a){var b;for(b in a){if(b==="data"&&p.isEmptyObject(a[b]))continue;if(b!=="toJSON")return!1}return!0}function ba(){return!1}function bb(){return!0}function bh(a){return!a||!a.parentNode||a.parentNode.nodeType===11}function bi(a,b){do a=a[b];while(a&&a.nodeType!==1);return a}function bj(a,b,c){b=b||0;if(p.isFunction(b))return p.grep(a,function(a,d){var e=!!b.call(a,d,a);return e===c});if(b.nodeType)return p.grep(a,function(a,d){return a===b===c});if(typeof b=="string"){var d=p.grep(a,function(a){return a.nodeType===1});if(be.test(b))return p.filter(b,d,!c);b=p.filter(b,d)}return p.grep(a,function(a,d){return p.inArray(a,b)>=0===c})}function bk(a){var b=bl.split("|"),c=a.createDocumentFragment();if(c.createElement)while(b.length)c.createElement(b.pop());return c}function bC(a,b){return a.getElementsByTagName(b)[0]||a.appendChild(a.ownerDocument.createElement(b))}function bD(a,b){if(b.nodeType!==1||!p.hasData(a))return;var c,d,e,f=p._data(a),g=p._data(b,f),h=f.events;if(h){delete g.handle,g.events={};for(c in h)for(d=0,e=h[c].length;d<e;d++)p.event.add(b,c,h[c][d])}g.data&&(g.data=p.extend({},g.data))}function bE(a,b){var c;if(b.nodeType!==1)return;b.clearAttributes&&b.clearAttributes(),b.mergeAttributes&&b.mergeAttributes(a),c=b.nodeName.toLowerCase(),c==="object"?(b.parentNode&&(b.outerHTML=a.outerHTML),p.support.html5Clone&&a.innerHTML&&!p.trim(b.innerHTML)&&(b.innerHTML=a.innerHTML)):c==="input"&&bv.test(a.type)?(b.defaultChecked=b.checked=a.checked,b.value!==a.value&&(b.value=a.value)):c==="option"?b.selected=a.defaultSelected:c==="input"||c==="textarea"?b.defaultValue=a.defaultValue:c==="script"&&b.text!==a.text&&(b.text=a.text),b.removeAttribute(p.expando)}function bF(a){return typeof a.getElementsByTagName!="undefined"?a.getElementsByTagName("*"):typeof a.querySelectorAll!="undefined"?a.querySelectorAll("*"):[]}function bG(a){bv.test(a.type)&&(a.defaultChecked=a.checked)}function bY(a,b){if(b in a)return b;var c=b.charAt(0).toUpperCase()+b.slice(1),d=b,e=bW.length;while(e--){b=bW[e]+c;if(b in a)return b}return d}function bZ(a,b){return a=b||a,p.css(a,"display")==="none"||!p.contains(a.ownerDocument,a)}function b$(a,b){var c,d,e=[],f=0,g=a.length;for(;f<g;f++){c=a[f];if(!c.style)continue;e[f]=p._data(c,"olddisplay"),b?(!e[f]&&c.style.display==="none"&&(c.style.display=""),c.style.display===""&&bZ(c)&&(e[f]=p._data(c,"olddisplay",cc(c.nodeName)))):(d=bH(c,"display"),!e[f]&&d!=="none"&&p._data(c,"olddisplay",d))}for(f=0;f<g;f++){c=a[f];if(!c.style)continue;if(!b||c.style.display==="none"||c.style.display==="")c.style.display=b?e[f]||"":"none"}return a}function b_(a,b,c){var d=bP.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function ca(a,b,c,d){var e=c===(d?"border":"content")?4:b==="width"?1:0,f=0;for(;e<4;e+=2)c==="margin"&&(f+=p.css(a,c+bV[e],!0)),d?(c==="content"&&(f-=parseFloat(bH(a,"padding"+bV[e]))||0),c!=="margin"&&(f-=parseFloat(bH(a,"border"+bV[e]+"Width"))||0)):(f+=parseFloat(bH(a,"padding"+bV[e]))||0,c!=="padding"&&(f+=parseFloat(bH(a,"border"+bV[e]+"Width"))||0));return f}function cb(a,b,c){var d=b==="width"?a.offsetWidth:a.offsetHeight,e=!0,f=p.support.boxSizing&&p.css(a,"boxSizing")==="border-box";if(d<=0||d==null){d=bH(a,b);if(d<0||d==null)d=a.style[b];if(bQ.test(d))return d;e=f&&(p.support.boxSizingReliable||d===a.style[b]),d=parseFloat(d)||0}return d+ca(a,b,c||(f?"border":"content"),e)+"px"}function cc(a){if(bS[a])return bS[a];var b=p("<"+a+">").appendTo(e.body),c=b.css("display");b.remove();if(c==="none"||c===""){bI=e.body.appendChild(bI||p.extend(e.createElement("iframe"),{frameBorder:0,width:0,height:0}));if(!bJ||!bI.createElement)bJ=(bI.contentWindow||bI.contentDocument).document,bJ.write("<!doctype html><html><body>"),bJ.close();b=bJ.body.appendChild(bJ.createElement(a)),c=bH(b,"display"),e.body.removeChild(bI)}return bS[a]=c,c}function ci(a,b,c,d){var e;if(p.isArray(b))p.each(b,function(b,e){c||ce.test(a)?d(a,e):ci(a+"["+(typeof e=="object"?b:"")+"]",e,c,d)});else if(!c&&p.type(b)==="object")for(e in b)ci(a+"["+e+"]",b[e],c,d);else d(a,b)}function cz(a){return function(b,c){typeof b!="string"&&(c=b,b="*");var d,e,f,g=b.toLowerCase().split(s),h=0,i=g.length;if(p.isFunction(c))for(;h<i;h++)d=g[h],f=/^\+/.test(d),f&&(d=d.substr(1)||"*"),e=a[d]=a[d]||[],e[f?"unshift":"push"](c)}}function cA(a,c,d,e,f,g){f=f||c.dataTypes[0],g=g||{},g[f]=!0;var h,i=a[f],j=0,k=i?i.length:0,l=a===cv;for(;j<k&&(l||!h);j++)h=i[j](c,d,e),typeof h=="string"&&(!l||g[h]?h=b:(c.dataTypes.unshift(h),h=cA(a,c,d,e,h,g)));return(l||!h)&&!g["*"]&&(h=cA(a,c,d,e,"*",g)),h}function cB(a,c){var d,e,f=p.ajaxSettings.flatOptions||{};for(d in c)c[d]!==b&&((f[d]?a:e||(e={}))[d]=c[d]);e&&p.extend(!0,a,e)}function cC(a,c,d){var e,f,g,h,i=a.contents,j=a.dataTypes,k=a.responseFields;for(f in k)f in d&&(c[k[f]]=d[f]);while(j[0]==="*")j.shift(),e===b&&(e=a.mimeType||c.getResponseHeader("content-type"));if(e)for(f in i)if(i[f]&&i[f].test(e)){j.unshift(f);break}if(j[0]in d)g=j[0];else{for(f in d){if(!j[0]||a.converters[f+" "+j[0]]){g=f;break}h||(h=f)}g=g||h}if(g)return g!==j[0]&&j.unshift(g),d[g]}function cD(a,b){var c,d,e,f,g=a.dataTypes.slice(),h=g[0],i={},j=0;a.dataFilter&&(b=a.dataFilter(b,a.dataType));if(g[1])for(c in a.converters)i[c.toLowerCase()]=a.converters[c];for(;e=g[++j];)if(e!=="*"){if(h!=="*"&&h!==e){c=i[h+" "+e]||i["* "+e];if(!c)for(d in i){f=d.split(" ");if(f[1]===e){c=i[h+" "+f[0]]||i["* "+f[0]];if(c){c===!0?c=i[d]:i[d]!==!0&&(e=f[0],g.splice(j--,0,e));break}}}if(c!==!0)if(c&&a["throws"])b=c(b);else try{b=c(b)}catch(k){return{state:"parsererror",error:c?k:"No conversion from "+h+" to "+e}}}h=e}return{state:"success",data:b}}function cL(){try{return new a.XMLHttpRequest}catch(b){}}function cM(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}function cU(){return setTimeout(function(){cN=b},0),cN=p.now()}function cV(a,b){p.each(b,function(b,c){var d=(cT[b]||[]).concat(cT["*"]),e=0,f=d.length;for(;e<f;e++)if(d[e].call(a,b,c))return})}function cW(a,b,c){var d,e=0,f=0,g=cS.length,h=p.Deferred().always(function(){delete i.elem}),i=function(){var b=cN||cU(),c=Math.max(0,j.startTime+j.duration-b),d=1-(c/j.duration||0),e=0,f=j.tweens.length;for(;e<f;e++)j.tweens[e].run(d);return h.notifyWith(a,[j,d,c]),d<1&&f?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:p.extend({},b),opts:p.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:cN||cU(),duration:c.duration,tweens:[],createTween:function(b,c,d){var e=p.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(e),e},stop:function(b){var c=0,d=b?j.tweens.length:0;for(;c<d;c++)j.tweens[c].run(1);return b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]),this}}),k=j.props;cX(k,j.opts.specialEasing);for(;e<g;e++){d=cS[e].call(j,a,k,j.opts);if(d)return d}return cV(j,k),p.isFunction(j.opts.start)&&j.opts.start.call(a,j),p.fx.timer(p.extend(i,{anim:j,queue:j.opts.queue,elem:a})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}function cX(a,b){var c,d,e,f,g;for(c in a){d=p.camelCase(c),e=b[d],f=a[c],p.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=p.cssHooks[d];if(g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}}function cY(a,b,c){var d,e,f,g,h,i,j,k,l=this,m=a.style,n={},o=[],q=a.nodeType&&bZ(a);c.queue||(j=p._queueHooks(a,"fx"),j.unqueued==null&&(j.unqueued=0,k=j.empty.fire,j.empty.fire=function(){j.unqueued||k()}),j.unqueued++,l.always(function(){l.always(function(){j.unqueued--,p.queue(a,"fx").length||j.empty.fire()})})),a.nodeType===1&&("height"in b||"width"in b)&&(c.overflow=[m.overflow,m.overflowX,m.overflowY],p.css(a,"display")==="inline"&&p.css(a,"float")==="none"&&(!p.support.inlineBlockNeedsLayout||cc(a.nodeName)==="inline"?m.display="inline-block":m.zoom=1)),c.overflow&&(m.overflow="hidden",p.support.shrinkWrapBlocks||l.done(function(){m.overflow=c.overflow[0],m.overflowX=c.overflow[1],m.overflowY=c.overflow[2]}));for(d in b){f=b[d];if(cP.exec(f)){delete b[d];if(f===(q?"hide":"show"))continue;o.push(d)}}g=o.length;if(g){h=p._data(a,"fxshow")||p._data(a,"fxshow",{}),q?p(a).show():l.done(function(){p(a).hide()}),l.done(function(){var b;p.removeData(a,"fxshow",!0);for(b in n)p.style(a,b,n[b])});for(d=0;d<g;d++)e=o[d],i=l.createTween(e,q?h[e]:0),n[e]=h[e]||p.style(a,e),e in h||(h[e]=i.start,q&&(i.end=i.start,i.start=e==="width"||e==="height"?1:0))}}function cZ(a,b,c,d,e){return new cZ.prototype.init(a,b,c,d,e)}function c$(a,b){var c,d={height:a},e=0;b=b?1:0;for(;e<4;e+=2-b)c=bV[e],d["margin"+c]=d["padding"+c]=a;return b&&(d.opacity=d.width=a),d}function da(a){return p.isWindow(a)?a:a.nodeType===9?a.defaultView||a.parentWindow:!1}var c,d,e=a.document,f=a.location,g=a.navigator,h=a.jQuery,i=a.$,j=Array.prototype.push,k=Array.prototype.slice,l=Array.prototype.indexOf,m=Object.prototype.toString,n=Object.prototype.hasOwnProperty,o=String.prototype.trim,p=function(a,b){return new p.fn.init(a,b,c)},q=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,r=/\S/,s=/\s+/,t=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,u=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,v=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,w=/^[\],:{}\s]*$/,x=/(?:^|:|,)(?:\s*\[)+/g,y=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,z=/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,A=/^-ms-/,B=/-([\da-z])/gi,C=function(a,b){return(b+"").toUpperCase()},D=function(){e.addEventListener?(e.removeEventListener("DOMContentLoaded",D,!1),p.ready()):e.readyState==="complete"&&(e.detachEvent("onreadystatechange",D),p.ready())},E={};p.fn=p.prototype={constructor:p,init:function(a,c,d){var f,g,h,i;if(!a)return this;if(a.nodeType)return this.context=this[0]=a,this.length=1,this;if(typeof a=="string"){a.charAt(0)==="<"&&a.charAt(a.length-1)===">"&&a.length>=3?f=[null,a,null]:f=u.exec(a);if(f&&(f[1]||!c)){if(f[1])return c=c instanceof p?c[0]:c,i=c&&c.nodeType?c.ownerDocument||c:e,a=p.parseHTML(f[1],i,!0),v.test(f[1])&&p.isPlainObject(c)&&this.attr.call(a,c,!0),p.merge(this,a);g=e.getElementById(f[2]);if(g&&g.parentNode){if(g.id!==f[2])return d.find(a);this.length=1,this[0]=g}return this.context=e,this.selector=a,this}return!c||c.jquery?(c||d).find(a):this.constructor(c).find(a)}return p.isFunction(a)?d.ready(a):(a.selector!==b&&(this.selector=a.selector,this.context=a.context),p.makeArray(a,this))},selector:"",jquery:"1.8.2",length:0,size:function(){return this.length},toArray:function(){return k.call(this)},get:function(a){return a==null?this.toArray():a<0?this[this.length+a]:this[a]},pushStack:function(a,b,c){var d=p.merge(this.constructor(),a);return d.prevObject=this,d.context=this.context,b==="find"?d.selector=this.selector+(this.selector?" ":"")+c:b&&(d.selector=this.selector+"."+b+"("+c+")"),d},each:function(a,b){return p.each(this,a,b)},ready:function(a){return p.ready.promise().done(a),this},eq:function(a){return a=+a,a===-1?this.slice(a):this.slice(a,a+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(k.apply(this,arguments),"slice",k.call(arguments).join(","))},map:function(a){return this.pushStack(p.map(this,function(b,c){return a.call(b,c,b)}))},end:function(){return this.prevObject||this.constructor(null)},push:j,sort:[].sort,splice:[].splice},p.fn.init.prototype=p.fn,p.extend=p.fn.extend=function(){var a,c,d,e,f,g,h=arguments[0]||{},i=1,j=arguments.length,k=!1;typeof h=="boolean"&&(k=h,h=arguments[1]||{},i=2),typeof h!="object"&&!p.isFunction(h)&&(h={}),j===i&&(h=this,--i);for(;i<j;i++)if((a=arguments[i])!=null)for(c in a){d=h[c],e=a[c];if(h===e)continue;k&&e&&(p.isPlainObject(e)||(f=p.isArray(e)))?(f?(f=!1,g=d&&p.isArray(d)?d:[]):g=d&&p.isPlainObject(d)?d:{},h[c]=p.extend(k,g,e)):e!==b&&(h[c]=e)}return h},p.extend({noConflict:function(b){return a.$===p&&(a.$=i),b&&a.jQuery===p&&(a.jQuery=h),p},isReady:!1,readyWait:1,holdReady:function(a){a?p.readyWait++:p.ready(!0)},ready:function(a){if(a===!0?--p.readyWait:p.isReady)return;if(!e.body)return setTimeout(p.ready,1);p.isReady=!0;if(a!==!0&&--p.readyWait>0)return;d.resolveWith(e,[p]),p.fn.trigger&&p(e).trigger("ready").off("ready")},isFunction:function(a){return p.type(a)==="function"},isArray:Array.isArray||function(a){return p.type(a)==="array"},isWindow:function(a){return a!=null&&a==a.window},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},type:function(a){return a==null?String(a):E[m.call(a)]||"object"},isPlainObject:function(a){if(!a||p.type(a)!=="object"||a.nodeType||p.isWindow(a))return!1;try{if(a.constructor&&!n.call(a,"constructor")&&!n.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(c){return!1}var d;for(d in a);return d===b||n.call(a,d)},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},error:function(a){throw new Error(a)},parseHTML:function(a,b,c){var d;return!a||typeof a!="string"?null:(typeof b=="boolean"&&(c=b,b=0),b=b||e,(d=v.exec(a))?[b.createElement(d[1])]:(d=p.buildFragment([a],b,c?null:[]),p.merge([],(d.cacheable?p.clone(d.fragment):d.fragment).childNodes)))},parseJSON:function(b){if(!b||typeof b!="string")return null;b=p.trim(b);if(a.JSON&&a.JSON.parse)return a.JSON.parse(b);if(w.test(b.replace(y,"@").replace(z,"]").replace(x,"")))return(new Function("return "+b))();p.error("Invalid JSON: "+b)},parseXML:function(c){var d,e;if(!c||typeof c!="string")return null;try{a.DOMParser?(e=new DOMParser,d=e.parseFromString(c,"text/xml")):(d=new ActiveXObject("Microsoft.XMLDOM"),d.async="false",d.loadXML(c))}catch(f){d=b}return(!d||!d.documentElement||d.getElementsByTagName("parsererror").length)&&p.error("Invalid XML: "+c),d},noop:function(){},globalEval:function(b){b&&r.test(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(A,"ms-").replace(B,C)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,c,d){var e,f=0,g=a.length,h=g===b||p.isFunction(a);if(d){if(h){for(e in a)if(c.apply(a[e],d)===!1)break}else for(;f<g;)if(c.apply(a[f++],d)===!1)break}else if(h){for(e in a)if(c.call(a[e],e,a[e])===!1)break}else for(;f<g;)if(c.call(a[f],f,a[f++])===!1)break;return a},trim:o&&!o.call("﻿ ")?function(a){return a==null?"":o.call(a)}:function(a){return a==null?"":(a+"").replace(t,"")},makeArray:function(a,b){var c,d=b||[];return a!=null&&(c=p.type(a),a.length==null||c==="string"||c==="function"||c==="regexp"||p.isWindow(a)?j.call(d,a):p.merge(d,a)),d},inArray:function(a,b,c){var d;if(b){if(l)return l.call(b,a,c);d=b.length,c=c?c<0?Math.max(0,d+c):c:0;for(;c<d;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,c){var d=c.length,e=a.length,f=0;if(typeof d=="number")for(;f<d;f++)a[e++]=c[f];else while(c[f]!==b)a[e++]=c[f++];return a.length=e,a},grep:function(a,b,c){var d,e=[],f=0,g=a.length;c=!!c;for(;f<g;f++)d=!!b(a[f],f),c!==d&&e.push(a[f]);return e},map:function(a,c,d){var e,f,g=[],h=0,i=a.length,j=a instanceof p||i!==b&&typeof i=="number"&&(i>0&&a[0]&&a[i-1]||i===0||p.isArray(a));if(j)for(;h<i;h++)e=c(a[h],h,d),e!=null&&(g[g.length]=e);else for(f in a)e=c(a[f],f,d),e!=null&&(g[g.length]=e);return g.concat.apply([],g)},guid:1,proxy:function(a,c){var d,e,f;return typeof c=="string"&&(d=a[c],c=a,a=d),p.isFunction(a)?(e=k.call(arguments,2),f=function(){return a.apply(c,e.concat(k.call(arguments)))},f.guid=a.guid=a.guid||p.guid++,f):b},access:function(a,c,d,e,f,g,h){var i,j=d==null,k=0,l=a.length;if(d&&typeof d=="object"){for(k in d)p.access(a,c,k,d[k],1,g,e);f=1}else if(e!==b){i=h===b&&p.isFunction(e),j&&(i?(i=c,c=function(a,b,c){return i.call(p(a),c)}):(c.call(a,e),c=null));if(c)for(;k<l;k++)c(a[k],d,i?e.call(a[k],k,c(a[k],d)):e,h);f=1}return f?a:j?c.call(a):l?c(a[0],d):g},now:function(){return(new Date).getTime()}}),p.ready.promise=function(b){if(!d){d=p.Deferred();if(e.readyState==="complete")setTimeout(p.ready,1);else if(e.addEventListener)e.addEventListener("DOMContentLoaded",D,!1),a.addEventListener("load",p.ready,!1);else{e.attachEvent("onreadystatechange",D),a.attachEvent("onload",p.ready);var c=!1;try{c=a.frameElement==null&&e.documentElement}catch(f){}c&&c.doScroll&&function g(){if(!p.isReady){try{c.doScroll("left")}catch(a){return setTimeout(g,50)}p.ready()}}()}}return d.promise(b)},p.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(a,b){E["[object "+b+"]"]=b.toLowerCase()}),c=p(e);var F={};p.Callbacks=function(a){a=typeof a=="string"?F[a]||G(a):p.extend({},a);var c,d,e,f,g,h,i=[],j=!a.once&&[],k=function(b){c=a.memory&&b,d=!0,h=f||0,f=0,g=i.length,e=!0;for(;i&&h<g;h++)if(i[h].apply(b[0],b[1])===!1&&a.stopOnFalse){c=!1;break}e=!1,i&&(j?j.length&&k(j.shift()):c?i=[]:l.disable())},l={add:function(){if(i){var b=i.length;(function d(b){p.each(b,function(b,c){var e=p.type(c);e==="function"&&(!a.unique||!l.has(c))?i.push(c):c&&c.length&&e!=="string"&&d(c)})})(arguments),e?g=i.length:c&&(f=b,k(c))}return this},remove:function(){return i&&p.each(arguments,function(a,b){var c;while((c=p.inArray(b,i,c))>-1)i.splice(c,1),e&&(c<=g&&g--,c<=h&&h--)}),this},has:function(a){return p.inArray(a,i)>-1},empty:function(){return i=[],this},disable:function(){return i=j=c=b,this},disabled:function(){return!i},lock:function(){return j=b,c||l.disable(),this},locked:function(){return!j},fireWith:function(a,b){return b=b||[],b=[a,b.slice?b.slice():b],i&&(!d||j)&&(e?j.push(b):k(b)),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!d}};return l},p.extend({Deferred:function(a){var b=[["resolve","done",p.Callbacks("once memory"),"resolved"],["reject","fail",p.Callbacks("once memory"),"rejected"],["notify","progress",p.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return p.Deferred(function(c){p.each(b,function(b,d){var f=d[0],g=a[b];e[d[1]](p.isFunction(g)?function(){var a=g.apply(this,arguments);a&&p.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[f+"With"](this===e?c:this,[a])}:c[f])}),a=null}).promise()},promise:function(a){return a!=null?p.extend(a,d):d}},e={};return d.pipe=d.then,p.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[a^1][2].disable,b[2][2].lock),e[f[0]]=g.fire,e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b=0,c=k.call(arguments),d=c.length,e=d!==1||a&&p.isFunction(a.promise)?d:0,f=e===1?a:p.Deferred(),g=function(a,b,c){return function(d){b[a]=this,c[a]=arguments.length>1?k.call(arguments):d,c===h?f.notifyWith(b,c):--e||f.resolveWith(b,c)}},h,i,j;if(d>1){h=new Array(d),i=new Array(d),j=new Array(d);for(;b<d;b++)c[b]&&p.isFunction(c[b].promise)?c[b].promise().done(g(b,j,c)).fail(f.reject).progress(g(b,i,h)):--e}return e||f.resolveWith(j,c),f.promise()}}),p.support=function(){var b,c,d,f,g,h,i,j,k,l,m,n=e.createElement("div");n.setAttribute("className","t"),n.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",c=n.getElementsByTagName("*"),d=n.getElementsByTagName("a")[0],d.style.cssText="top:1px;float:left;opacity:.5";if(!c||!c.length)return{};f=e.createElement("select"),g=f.appendChild(e.createElement("option")),h=n.getElementsByTagName("input")[0],b={leadingWhitespace:n.firstChild.nodeType===3,tbody:!n.getElementsByTagName("tbody").length,htmlSerialize:!!n.getElementsByTagName("link").length,style:/top/.test(d.getAttribute("style")),hrefNormalized:d.getAttribute("href")==="/a",opacity:/^0.5/.test(d.style.opacity),cssFloat:!!d.style.cssFloat,checkOn:h.value==="on",optSelected:g.selected,getSetAttribute:n.className!=="t",enctype:!!e.createElement("form").enctype,html5Clone:e.createElement("nav").cloneNode(!0).outerHTML!=="<:nav></:nav>",boxModel:e.compatMode==="CSS1Compat",submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},h.checked=!0,b.noCloneChecked=h.cloneNode(!0).checked,f.disabled=!0,b.optDisabled=!g.disabled;try{delete n.test}catch(o){b.deleteExpando=!1}!n.addEventListener&&n.attachEvent&&n.fireEvent&&(n.attachEvent("onclick",m=function(){b.noCloneEvent=!1}),n.cloneNode(!0).fireEvent("onclick"),n.detachEvent("onclick",m)),h=e.createElement("input"),h.value="t",h.setAttribute("type","radio"),b.radioValue=h.value==="t",h.setAttribute("checked","checked"),h.setAttribute("name","t"),n.appendChild(h),i=e.createDocumentFragment(),i.appendChild(n.lastChild),b.checkClone=i.cloneNode(!0).cloneNode(!0).lastChild.checked,b.appendChecked=h.checked,i.removeChild(h),i.appendChild(n);if(n.attachEvent)for(k in{submit:!0,change:!0,focusin:!0})j="on"+k,l=j in n,l||(n.setAttribute(j,"return;"),l=typeof n[j]=="function"),b[k+"Bubbles"]=l;return p(function(){var c,d,f,g,h="padding:0;margin:0;border:0;display:block;overflow:hidden;",i=e.getElementsByTagName("body")[0];if(!i)return;c=e.createElement("div"),c.style.cssText="visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px",i.insertBefore(c,i.firstChild),d=e.createElement("div"),c.appendChild(d),d.innerHTML="<table><tr><td></td><td>t</td></tr></table>",f=d.getElementsByTagName("td"),f[0].style.cssText="padding:0;margin:0;border:0;display:none",l=f[0].offsetHeight===0,f[0].style.display="",f[1].style.display="none",b.reliableHiddenOffsets=l&&f[0].offsetHeight===0,d.innerHTML="",d.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",b.boxSizing=d.offsetWidth===4,b.doesNotIncludeMarginInBodyOffset=i.offsetTop!==1,a.getComputedStyle&&(b.pixelPosition=(a.getComputedStyle(d,null)||{}).top!=="1%",b.boxSizingReliable=(a.getComputedStyle(d,null)||{width:"4px"}).width==="4px",g=e.createElement("div"),g.style.cssText=d.style.cssText=h,g.style.marginRight=g.style.width="0",d.style.width="1px",d.appendChild(g),b.reliableMarginRight=!parseFloat((a.getComputedStyle(g,null)||{}).marginRight)),typeof d.style.zoom!="undefined"&&(d.innerHTML="",d.style.cssText=h+"width:1px;padding:1px;display:inline;zoom:1",b.inlineBlockNeedsLayout=d.offsetWidth===3,d.style.display="block",d.style.overflow="visible",d.innerHTML="<div></div>",d.firstChild.style.width="5px",b.shrinkWrapBlocks=d.offsetWidth!==3,c.style.zoom=1),i.removeChild(c),c=d=f=g=null}),i.removeChild(n),c=d=f=g=h=i=n=null,b}();var H=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,I=/([A-Z])/g;p.extend({cache:{},deletedIds:[],uuid:0,expando:"jQuery"+(p.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(a){return a=a.nodeType?p.cache[a[p.expando]]:a[p.expando],!!a&&!K(a)},data:function(a,c,d,e){if(!p.acceptData(a))return;var f,g,h=p.expando,i=typeof c=="string",j=a.nodeType,k=j?p.cache:a,l=j?a[h]:a[h]&&h;if((!l||!k[l]||!e&&!k[l].data)&&i&&d===b)return;l||(j?a[h]=l=p.deletedIds.pop()||p.guid++:l=h),k[l]||(k[l]={},j||(k[l].toJSON=p.noop));if(typeof c=="object"||typeof c=="function")e?k[l]=p.extend(k[l],c):k[l].data=p.extend(k[l].data,c);return f=k[l],e||(f.data||(f.data={}),f=f.data),d!==b&&(f[p.camelCase(c)]=d),i?(g=f[c],g==null&&(g=f[p.camelCase(c)])):g=f,g},removeData:function(a,b,c){if(!p.acceptData(a))return;var d,e,f,g=a.nodeType,h=g?p.cache:a,i=g?a[p.expando]:p.expando;if(!h[i])return;if(b){d=c?h[i]:h[i].data;if(d){p.isArray(b)||(b in d?b=[b]:(b=p.camelCase(b),b in d?b=[b]:b=b.split(" ")));for(e=0,f=b.length;e<f;e++)delete d[b[e]];if(!(c?K:p.isEmptyObject)(d))return}}if(!c){delete h[i].data;if(!K(h[i]))return}g?p.cleanData([a],!0):p.support.deleteExpando||h!=h.window?delete h[i]:h[i]=null},_data:function(a,b,c){return p.data(a,b,c,!0)},acceptData:function(a){var b=a.nodeName&&p.noData[a.nodeName.toLowerCase()];return!b||b!==!0&&a.getAttribute("classid")===b}}),p.fn.extend({data:function(a,c){var d,e,f,g,h,i=this[0],j=0,k=null;if(a===b){if(this.length){k=p.data(i);if(i.nodeType===1&&!p._data(i,"parsedAttrs")){f=i.attributes;for(h=f.length;j<h;j++)g=f[j].name,g.indexOf("data-")||(g=p.camelCase(g.substring(5)),J(i,g,k[g]));p._data(i,"parsedAttrs",!0)}}return k}return typeof a=="object"?this.each(function(){p.data(this,a)}):(d=a.split(".",2),d[1]=d[1]?"."+d[1]:"",e=d[1]+"!",p.access(this,function(c){if(c===b)return k=this.triggerHandler("getData"+e,[d[0]]),k===b&&i&&(k=p.data(i,a),k=J(i,a,k)),k===b&&d[1]?this.data(d[0]):k;d[1]=c,this.each(function(){var b=p(this);b.triggerHandler("setData"+e,d),p.data(this,a,c),b.triggerHandler("changeData"+e,d)})},null,c,arguments.length>1,null,!1))},removeData:function(a){return this.each(function(){p.removeData(this,a)})}}),p.extend({queue:function(a,b,c){var d;if(a)return b=(b||"fx")+"queue",d=p._data(a,b),c&&(!d||p.isArray(c)?d=p._data(a,b,p.makeArray(c)):d.push(c)),d||[]},dequeue:function(a,b){b=b||"fx";var c=p.queue(a,b),d=c.length,e=c.shift(),f=p._queueHooks(a,b),g=function(){p.dequeue(a,b)};e==="inprogress"&&(e=c.shift(),d--),e&&(b==="fx"&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return p._data(a,c)||p._data(a,c,{empty:p.Callbacks("once memory").add(function(){p.removeData(a,b+"queue",!0),p.removeData(a,c,!0)})})}}),p.fn.extend({queue:function(a,c){var d=2;return typeof a!="string"&&(c=a,a="fx",d--),arguments.length<d?p.queue(this[0],a):c===b?this:this.each(function(){var b=p.queue(this,a,c);p._queueHooks(this,a),a==="fx"&&b[0]!=="inprogress"&&p.dequeue(this,a)})},dequeue:function(a){return this.each(function(){p.dequeue(this,a)})},delay:function(a,b){return a=p.fx?p.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,c){var d,e=1,f=p.Deferred(),g=this,h=this.length,i=function(){--e||f.resolveWith(g,[g])};typeof a!="string"&&(c=a,a=b),a=a||"fx";while(h--)d=p._data(g[h],a+"queueHooks"),d&&d.empty&&(e++,d.empty.add(i));return i(),f.promise(c)}});var L,M,N,O=/[\t\r\n]/g,P=/\r/g,Q=/^(?:button|input)$/i,R=/^(?:button|input|object|select|textarea)$/i,S=/^a(?:rea|)$/i,T=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,U=p.support.getSetAttribute;p.fn.extend({attr:function(a,b){return p.access(this,p.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){p.removeAttr(this,a)})},prop:function(a,b){return p.access(this,p.prop,a,b,arguments.length>1)},removeProp:function(a){return a=p.propFix[a]||a,this.each(function(){try{this[a]=b,delete this[a]}catch(c){}})},addClass:function(a){var b,c,d,e,f,g,h;if(p.isFunction(a))return this.each(function(b){p(this).addClass(a.call(this,b,this.className))});if(a&&typeof a=="string"){b=a.split(s);for(c=0,d=this.length;c<d;c++){e=this[c];if(e.nodeType===1)if(!e.className&&b.length===1)e.className=a;else{f=" "+e.className+" ";for(g=0,h=b.length;g<h;g++)f.indexOf(" "+b[g]+" ")<0&&(f+=b[g]+" ");e.className=p.trim(f)}}}return this},removeClass:function(a){var c,d,e,f,g,h,i;if(p.isFunction(a))return this.each(function(b){p(this).removeClass(a.call(this,b,this.className))});if(a&&typeof a=="string"||a===b){c=(a||"").split(s);for(h=0,i=this.length;h<i;h++){e=this[h];if(e.nodeType===1&&e.className){d=(" "+e.className+" ").replace(O," ");for(f=0,g=c.length;f<g;f++)while(d.indexOf(" "+c[f]+" ")>=0)d=d.replace(" "+c[f]+" "," ");e.className=a?p.trim(d):""}}}return this},toggleClass:function(a,b){var c=typeof a,d=typeof b=="boolean";return p.isFunction(a)?this.each(function(c){p(this).toggleClass(a.call(this,c,this.className,b),b)}):this.each(function(){if(c==="string"){var e,f=0,g=p(this),h=b,i=a.split(s);while(e=i[f++])h=d?h:!g.hasClass(e),g[h?"addClass":"removeClass"](e)}else if(c==="undefined"||c==="boolean")this.className&&p._data(this,"__className__",this.className),this.className=this.className||a===!1?"":p._data(this,"__className__")||""})},hasClass:function(a){var b=" "+a+" ",c=0,d=this.length;for(;c<d;c++)if(this[c].nodeType===1&&(" "+this[c].className+" ").replace(O," ").indexOf(b)>=0)return!0;return!1},val:function(a){var c,d,e,f=this[0];if(!arguments.length){if(f)return c=p.valHooks[f.type]||p.valHooks[f.nodeName.toLowerCase()],c&&"get"in c&&(d=c.get(f,"value"))!==b?d:(d=f.value,typeof d=="string"?d.replace(P,""):d==null?"":d);return}return e=p.isFunction(a),this.each(function(d){var f,g=p(this);if(this.nodeType!==1)return;e?f=a.call(this,d,g.val()):f=a,f==null?f="":typeof f=="number"?f+="":p.isArray(f)&&(f=p.map(f,function(a){return a==null?"":a+""})),c=p.valHooks[this.type]||p.valHooks[this.nodeName.toLowerCase()];if(!c||!("set"in c)||c.set(this,f,"value")===b)this.value=f})}}),p.extend({valHooks:{option:{get:function(a){var b=a.attributes.value;return!b||b.specified?a.value:a.text}},select:{get:function(a){var b,c,d,e,f=a.selectedIndex,g=[],h=a.options,i=a.type==="select-one";if(f<0)return null;c=i?f:0,d=i?f+1:h.length;for(;c<d;c++){e=h[c];if(e.selected&&(p.support.optDisabled?!e.disabled:e.getAttribute("disabled")===null)&&(!e.parentNode.disabled||!p.nodeName(e.parentNode,"optgroup"))){b=p(e).val();if(i)return b;g.push(b)}}return i&&!g.length&&h.length?p(h[f]).val():g},set:function(a,b){var c=p.makeArray(b);return p(a).find("option").each(function(){this.selected=p.inArray(p(this).val(),c)>=0}),c.length||(a.selectedIndex=-1),c}}},attrFn:{},attr:function(a,c,d,e){var f,g,h,i=a.nodeType;if(!a||i===3||i===8||i===2)return;if(e&&p.isFunction(p.fn[c]))return p(a)[c](d);if(typeof a.getAttribute=="undefined")return p.prop(a,c,d);h=i!==1||!p.isXMLDoc(a),h&&(c=c.toLowerCase(),g=p.attrHooks[c]||(T.test(c)?M:L));if(d!==b){if(d===null){p.removeAttr(a,c);return}return g&&"set"in g&&h&&(f=g.set(a,d,c))!==b?f:(a.setAttribute(c,d+""),d)}return g&&"get"in g&&h&&(f=g.get(a,c))!==null?f:(f=a.getAttribute(c),f===null?b:f)},removeAttr:function(a,b){var c,d,e,f,g=0;if(b&&a.nodeType===1){d=b.split(s);for(;g<d.length;g++)e=d[g],e&&(c=p.propFix[e]||e,f=T.test(e),f||p.attr(a,e,""),a.removeAttribute(U?e:c),f&&c in a&&(a[c]=!1))}},attrHooks:{type:{set:function(a,b){if(Q.test(a.nodeName)&&a.parentNode)p.error("type property can't be changed");else if(!p.support.radioValue&&b==="radio"&&p.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}},value:{get:function(a,b){return L&&p.nodeName(a,"button")?L.get(a,b):b in a?a.value:null},set:function(a,b,c){if(L&&p.nodeName(a,"button"))return L.set(a,b,c);a.value=b}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(a,c,d){var e,f,g,h=a.nodeType;if(!a||h===3||h===8||h===2)return;return g=h!==1||!p.isXMLDoc(a),g&&(c=p.propFix[c]||c,f=p.propHooks[c]),d!==b?f&&"set"in f&&(e=f.set(a,d,c))!==b?e:a[c]=d:f&&"get"in f&&(e=f.get(a,c))!==null?e:a[c]},propHooks:{tabIndex:{get:function(a){var c=a.getAttributeNode("tabindex");return c&&c.specified?parseInt(c.value,10):R.test(a.nodeName)||S.test(a.nodeName)&&a.href?0:b}}}}),M={get:function(a,c){var d,e=p.prop(a,c);return e===!0||typeof e!="boolean"&&(d=a.getAttributeNode(c))&&d.nodeValue!==!1?c.toLowerCase():b},set:function(a,b,c){var d;return b===!1?p.removeAttr(a,c):(d=p.propFix[c]||c,d in a&&(a[d]=!0),a.setAttribute(c,c.toLowerCase())),c}},U||(N={name:!0,id:!0,coords:!0},L=p.valHooks.button={get:function(a,c){var d;return d=a.getAttributeNode(c),d&&(N[c]?d.value!=="":d.specified)?d.value:b},set:function(a,b,c){var d=a.getAttributeNode(c);return d||(d=e.createAttribute(c),a.setAttributeNode(d)),d.value=b+""}},p.each(["width","height"],function(a,b){p.attrHooks[b]=p.extend(p.attrHooks[b],{set:function(a,c){if(c==="")return a.setAttribute(b,"auto"),c}})}),p.attrHooks.contenteditable={get:L.get,set:function(a,b,c){b===""&&(b="false"),L.set(a,b,c)}}),p.support.hrefNormalized||p.each(["href","src","width","height"],function(a,c){p.attrHooks[c]=p.extend(p.attrHooks[c],{get:function(a){var d=a.getAttribute(c,2);return d===null?b:d}})}),p.support.style||(p.attrHooks.style={get:function(a){return a.style.cssText.toLowerCase()||b},set:function(a,b){return a.style.cssText=b+""}}),p.support.optSelected||(p.propHooks.selected=p.extend(p.propHooks.selected,{get:function(a){var b=a.parentNode;return b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex),null}})),p.support.enctype||(p.propFix.enctype="encoding"),p.support.checkOn||p.each(["radio","checkbox"],function(){p.valHooks[this]={get:function(a){return a.getAttribute("value")===null?"on":a.value}}}),p.each(["radio","checkbox"],function(){p.valHooks[this]=p.extend(p.valHooks[this],{set:function(a,b){if(p.isArray(b))return a.checked=p.inArray(p(a).val(),b)>=0}})});var V=/^(?:textarea|input|select)$/i,W=/^([^\.]*|)(?:\.(.+)|)$/,X=/(?:^|\s)hover(\.\S+|)\b/,Y=/^key/,Z=/^(?:mouse|contextmenu)|click/,$=/^(?:focusinfocus|focusoutblur)$/,_=function(a){return p.event.special.hover?a:a.replace(X,"mouseenter$1 mouseleave$1")};p.event={add:function(a,c,d,e,f){var g,h,i,j,k,l,m,n,o,q,r;if(a.nodeType===3||a.nodeType===8||!c||!d||!(g=p._data(a)))return;d.handler&&(o=d,d=o.handler,f=o.selector),d.guid||(d.guid=p.guid++),i=g.events,i||(g.events=i={}),h=g.handle,h||(g.handle=h=function(a){return typeof p!="undefined"&&(!a||p.event.triggered!==a.type)?p.event.dispatch.apply(h.elem,arguments):b},h.elem=a),c=p.trim(_(c)).split(" ");for(j=0;j<c.length;j++){k=W.exec(c[j])||[],l=k[1],m=(k[2]||"").split(".").sort(),r=p.event.special[l]||{},l=(f?r.delegateType:r.bindType)||l,r=p.event.special[l]||{},n=p.extend({type:l,origType:k[1],data:e,handler:d,guid:d.guid,selector:f,needsContext:f&&p.expr.match.needsContext.test(f),namespace:m.join(".")},o),q=i[l];if(!q){q=i[l]=[],q.delegateCount=0;if(!r.setup||r.setup.call(a,e,m,h)===!1)a.addEventListener?a.addEventListener(l,h,!1):a.attachEvent&&a.attachEvent("on"+l,h)}r.add&&(r.add.call(a,n),n.handler.guid||(n.handler.guid=d.guid)),f?q.splice(q.delegateCount++,0,n):q.push(n),p.event.global[l]=!0}a=null},global:{},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,q,r=p.hasData(a)&&p._data(a);if(!r||!(m=r.events))return;b=p.trim(_(b||"")).split(" ");for(f=0;f<b.length;f++){g=W.exec(b[f])||[],h=i=g[1],j=g[2];if(!h){for(h in m)p.event.remove(a,h+b[f],c,d,!0);continue}n=p.event.special[h]||{},h=(d?n.delegateType:n.bindType)||h,o=m[h]||[],k=o.length,j=j?new RegExp("(^|\\.)"+j.split(".").sort().join("\\.(?:.*\\.|)")+"(\\.|$)"):null;for(l=0;l<o.length;l++)q=o[l],(e||i===q.origType)&&(!c||c.guid===q.guid)&&(!j||j.test(q.namespace))&&(!d||d===q.selector||d==="**"&&q.selector)&&(o.splice(l--,1),q.selector&&o.delegateCount--,n.remove&&n.remove.call(a,q));o.length===0&&k!==o.length&&((!n.teardown||n.teardown.call(a,j,r.handle)===!1)&&p.removeEvent(a,h,r.handle),delete m[h])}p.isEmptyObject(m)&&(delete r.handle,p.removeData(a,"events",!0))},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(c,d,f,g){if(!f||f.nodeType!==3&&f.nodeType!==8){var h,i,j,k,l,m,n,o,q,r,s=c.type||c,t=[];if($.test(s+p.event.triggered))return;s.indexOf("!")>=0&&(s=s.slice(0,-1),i=!0),s.indexOf(".")>=0&&(t=s.split("."),s=t.shift(),t.sort());if((!f||p.event.customEvent[s])&&!p.event.global[s])return;c=typeof c=="object"?c[p.expando]?c:new p.Event(s,c):new p.Event(s),c.type=s,c.isTrigger=!0,c.exclusive=i,c.namespace=t.join("."),c.namespace_re=c.namespace?new RegExp("(^|\\.)"+t.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,m=s.indexOf(":")<0?"on"+s:"";if(!f){h=p.cache;for(j in h)h[j].events&&h[j].events[s]&&p.event.trigger(c,d,h[j].handle.elem,!0);return}c.result=b,c.target||(c.target=f),d=d!=null?p.makeArray(d):[],d.unshift(c),n=p.event.special[s]||{};if(n.trigger&&n.trigger.apply(f,d)===!1)return;q=[[f,n.bindType||s]];if(!g&&!n.noBubble&&!p.isWindow(f)){r=n.delegateType||s,k=$.test(r+s)?f:f.parentNode;for(l=f;k;k=k.parentNode)q.push([k,r]),l=k;l===(f.ownerDocument||e)&&q.push([l.defaultView||l.parentWindow||a,r])}for(j=0;j<q.length&&!c.isPropagationStopped();j++)k=q[j][0],c.type=q[j][1],o=(p._data(k,"events")||{})[c.type]&&p._data(k,"handle"),o&&o.apply(k,d),o=m&&k[m],o&&p.acceptData(k)&&o.apply&&o.apply(k,d)===!1&&c.preventDefault();return c.type=s,!g&&!c.isDefaultPrevented()&&(!n._default||n._default.apply(f.ownerDocument,d)===!1)&&(s!=="click"||!p.nodeName(f,"a"))&&p.acceptData(f)&&m&&f[s]&&(s!=="focus"&&s!=="blur"||c.target.offsetWidth!==0)&&!p.isWindow(f)&&(l=f[m],l&&(f[m]=null),p.event.triggered=s,f[s](),p.event.triggered=b,l&&(f[m]=l)),c.result}return},dispatch:function(c){c=p.event.fix(c||a.event);var d,e,f,g,h,i,j,l,m,n,o=(p._data(this,"events")||{})[c.type]||[],q=o.delegateCount,r=k.call(arguments),s=!c.exclusive&&!c.namespace,t=p.event.special[c.type]||{},u=[];r[0]=c,c.delegateTarget=this;if(t.preDispatch&&t.preDispatch.call(this,c)===!1)return;if(q&&(!c.button||c.type!=="click"))for(f=c.target;f!=this;f=f.parentNode||this)if(f.disabled!==!0||c.type!=="click"){h={},j=[];for(d=0;d<q;d++)l=o[d],m=l.selector,h[m]===b&&(h[m]=l.needsContext?p(m,this).index(f)>=0:p.find(m,this,null,[f]).length),h[m]&&j.push(l);j.length&&u.push({elem:f,matches:j})}o.length>q&&u.push({elem:this,matches:o.slice(q)});for(d=0;d<u.length&&!c.isPropagationStopped();d++){i=u[d],c.currentTarget=i.elem;for(e=0;e<i.matches.length&&!c.isImmediatePropagationStopped();e++){l=i.matches[e];if(s||!c.namespace&&!l.namespace||c.namespace_re&&c.namespace_re.test(l.namespace))c.data=l.data,c.handleObj=l,g=((p.event.special[l.origType]||{}).handle||l.handler).apply(i.elem,r),g!==b&&(c.result=g,g===!1&&(c.preventDefault(),c.stopPropagation()))}}return t.postDispatch&&t.postDispatch.call(this,c),c.result},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return a.which==null&&(a.which=b.charCode!=null?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,c){var d,f,g,h=c.button,i=c.fromElement;return a.pageX==null&&c.clientX!=null&&(d=a.target.ownerDocument||e,f=d.documentElement,g=d.body,a.pageX=c.clientX+(f&&f.scrollLeft||g&&g.scrollLeft||0)-(f&&f.clientLeft||g&&g.clientLeft||0),a.pageY=c.clientY+(f&&f.scrollTop||g&&g.scrollTop||0)-(f&&f.clientTop||g&&g.clientTop||0)),!a.relatedTarget&&i&&(a.relatedTarget=i===a.target?c.toElement:i),!a.which&&h!==b&&(a.which=h&1?1:h&2?3:h&4?2:0),a}},fix:function(a){if(a[p.expando])return a;var b,c,d=a,f=p.event.fixHooks[a.type]||{},g=f.props?this.props.concat(f.props):this.props;a=p.Event(d);for(b=g.length;b;)c=g[--b],a[c]=d[c];return a.target||(a.target=d.srcElement||e),a.target.nodeType===3&&(a.target=a.target.parentNode),a.metaKey=!!a.metaKey,f.filter?f.filter(a,d):a},special:{load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(a,b,c){p.isWindow(this)&&(this.onbeforeunload=c)},teardown:function(a,b){this.onbeforeunload===b&&(this.onbeforeunload=null)}}},simulate:function(a,b,c,d){var e=p.extend(new p.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?p.event.trigger(e,null,b):p.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},p.event.handle=p.event.dispatch,p.removeEvent=e.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){var d="on"+b;a.detachEvent&&(typeof a[d]=="undefined"&&(a[d]=null),a.detachEvent(d,c))},p.Event=function(a,b){if(this instanceof p.Event)a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||a.returnValue===!1||a.getPreventDefault&&a.getPreventDefault()?bb:ba):this.type=a,b&&p.extend(this,b),this.timeStamp=a&&a.timeStamp||p.now(),this[p.expando]=!0;else return new p.Event(a,b)},p.Event.prototype={preventDefault:function(){this.isDefaultPrevented=bb;var a=this.originalEvent;if(!a)return;a.preventDefault?a.preventDefault():a.returnValue=!1},stopPropagation:function(){this.isPropagationStopped=bb;var a=this.originalEvent;if(!a)return;a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=bb,this.stopPropagation()},isDefaultPrevented:ba,isPropagationStopped:ba,isImmediatePropagationStopped:ba},p.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){p.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj,g=f.selector;if(!e||e!==d&&!p.contains(d,e))a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b;return c}}}),p.support.submitBubbles||(p.event.special.submit={setup:function(){if(p.nodeName(this,"form"))return!1;p.event.add(this,"click._submit keypress._submit",function(a){var c=a.target,d=p.nodeName(c,"input")||p.nodeName(c,"button")?c.form:b;d&&!p._data(d,"_submit_attached")&&(p.event.add(d,"submit._submit",function(a){a._submit_bubble=!0}),p._data(d,"_submit_attached",!0))})},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&p.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){if(p.nodeName(this,"form"))return!1;p.event.remove(this,"._submit")}}),p.support.changeBubbles||(p.event.special.change={setup:function(){if(V.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio")p.event.add(this,"propertychange._change",function(a){a.originalEvent.propertyName==="checked"&&(this._just_changed=!0)}),p.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1),p.event.simulate("change",this,a,!0)});return!1}p.event.add(this,"beforeactivate._change",function(a){var b=a.target;V.test(b.nodeName)&&!p._data(b,"_change_attached")&&(p.event.add(b,"change._change",function(a){this.parentNode&&!a.isSimulated&&!a.isTrigger&&p.event.simulate("change",this.parentNode,a,!0)}),p._data(b,"_change_attached",!0))})},handle:function(a){var b=a.target;if(this!==b||a.isSimulated||a.isTrigger||b.type!=="radio"&&b.type!=="checkbox")return a.handleObj.handler.apply(this,arguments)},teardown:function(){return p.event.remove(this,"._change"),!V.test(this.nodeName)}}),p.support.focusinBubbles||p.each({focus:"focusin",blur:"focusout"},function(a,b){var c=0,d=function(a){p.event.simulate(b,a.target,p.event.fix(a),!0)};p.event.special[b]={setup:function(){c++===0&&e.addEventListener(a,d,!0)},teardown:function(){--c===0&&e.removeEventListener(a,d,!0)}}}),p.fn.extend({on:function(a,c,d,e,f){var g,h;if(typeof a=="object"){typeof c!="string"&&(d=d||c,c=b);for(h in a)this.on(h,c,d,a[h],f);return this}d==null&&e==null?(e=c,d=c=b):e==null&&(typeof c=="string"?(e=d,d=b):(e=d,d=c,c=b));if(e===!1)e=ba;else if(!e)return this;return f===1&&(g=e,e=function(a){return p().off(a),g.apply(this,arguments)},e.guid=g.guid||(g.guid=p.guid++)),this.each(function(){p.event.add(this,a,e,d,c)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,c,d){var e,f;if(a&&a.preventDefault&&a.handleObj)return e=a.handleObj,p(a.delegateTarget).off(e.namespace?e.origType+"."+e.namespace:e.origType,e.selector,e.handler),this;if(typeof a=="object"){for(f in a)this.off(f,c,a[f]);return this}if(c===!1||typeof c=="function")d=c,c=b;return d===!1&&(d=ba),this.each(function(){p.event.remove(this,a,d,c)})},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},live:function(a,b,c){return p(this.context).on(a,this.selector,b,c),this},die:function(a,b){return p(this.context).off(a,this.selector||"**",b),this},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return arguments.length===1?this.off(a,"**"):this.off(b,a||"**",c)},trigger:function(a,b){return this.each(function(){p.event.trigger(a,b,this)})},triggerHandler:function(a,b){if(this[0])return p.event.trigger(a,b,this[0],!0)},toggle:function(a){var b=arguments,c=a.guid||p.guid++,d=0,e=function(c){var e=(p._data(this,"lastToggle"+a.guid)||0)%d;return p._data(this,"lastToggle"+a.guid,e+1),c.preventDefault(),b[e].apply(this,arguments)||!1};e.guid=c;while(d<b.length)b[d++].guid=c;return this.click(e)},hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}}),p.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){p.fn[b]=function(a,c){return c==null&&(c=a,a=null),arguments.length>0?this.on(b,null,a,c):this.trigger(b)},Y.test(b)&&(p.event.fixHooks[b]=p.event.keyHooks),Z.test(b)&&(p.event.fixHooks[b]=p.event.mouseHooks)}),function(a,b){function bc(a,b,c,d){c=c||[],b=b||r;var e,f,i,j,k=b.nodeType;if(!a||typeof a!="string")return c;if(k!==1&&k!==9)return[];i=g(b);if(!i&&!d)if(e=P.exec(a))if(j=e[1]){if(k===9){f=b.getElementById(j);if(!f||!f.parentNode)return c;if(f.id===j)return c.push(f),c}else if(b.ownerDocument&&(f=b.ownerDocument.getElementById(j))&&h(b,f)&&f.id===j)return c.push(f),c}else{if(e[2])return w.apply(c,x.call(b.getElementsByTagName(a),0)),c;if((j=e[3])&&_&&b.getElementsByClassName)return w.apply(c,x.call(b.getElementsByClassName(j),0)),c}return bp(a.replace(L,"$1"),b,c,d,i)}function bd(a){return function(b){var c=b.nodeName.toLowerCase();return c==="input"&&b.type===a}}function be(a){return function(b){var c=b.nodeName.toLowerCase();return(c==="input"||c==="button")&&b.type===a}}function bf(a){return z(function(b){return b=+b,z(function(c,d){var e,f=a([],c.length,b),g=f.length;while(g--)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function bg(a,b,c){if(a===b)return c;var d=a.nextSibling;while(d){if(d===b)return-1;d=d.nextSibling}return 1}function bh(a,b){var c,d,f,g,h,i,j,k=C[o][a];if(k)return b?0:k.slice(0);h=a,i=[],j=e.preFilter;while(h){if(!c||(d=M.exec(h)))d&&(h=h.slice(d[0].length)),i.push(f=[]);c=!1;if(d=N.exec(h))f.push(c=new q(d.shift())),h=h.slice(c.length),c.type=d[0].replace(L," ");for(g in e.filter)(d=W[g].exec(h))&&(!j[g]||(d=j[g](d,r,!0)))&&(f.push(c=new q(d.shift())),h=h.slice(c.length),c.type=g,c.matches=d);if(!c)break}return b?h.length:h?bc.error(a):C(a,i).slice(0)}function bi(a,b,d){var e=b.dir,f=d&&b.dir==="parentNode",g=u++;return b.first?function(b,c,d){while(b=b[e])if(f||b.nodeType===1)return a(b,c,d)}:function(b,d,h){if(!h){var i,j=t+" "+g+" ",k=j+c;while(b=b[e])if(f||b.nodeType===1){if((i=b[o])===k)return b.sizset;if(typeof i=="string"&&i.indexOf(j)===0){if(b.sizset)return b}else{b[o]=k;if(a(b,d,h))return b.sizset=!0,b;b.sizset=!1}}}else while(b=b[e])if(f||b.nodeType===1)if(a(b,d,h))return b}}function bj(a){return a.length>1?function(b,c,d){var e=a.length;while(e--)if(!a[e](b,c,d))return!1;return!0}:a[0]}function bk(a,b,c,d,e){var f,g=[],h=0,i=a.length,j=b!=null;for(;h<i;h++)if(f=a[h])if(!c||c(f,d,e))g.push(f),j&&b.push(h);return g}function bl(a,b,c,d,e,f){return d&&!d[o]&&(d=bl(d)),e&&!e[o]&&(e=bl(e,f)),z(function(f,g,h,i){if(f&&e)return;var j,k,l,m=[],n=[],o=g.length,p=f||bo(b||"*",h.nodeType?[h]:h,[],f),q=a&&(f||!b)?bk(p,m,a,h,i):p,r=c?e||(f?a:o||d)?[]:g:q;c&&c(q,r,h,i);if(d){l=bk(r,n),d(l,[],h,i),j=l.length;while(j--)if(k=l[j])r[n[j]]=!(q[n[j]]=k)}if(f){j=a&&r.length;while(j--)if(k=r[j])f[m[j]]=!(g[m[j]]=k)}else r=bk(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):w.apply(g,r)})}function bm(a){var b,c,d,f=a.length,g=e.relative[a[0].type],h=g||e.relative[" "],i=g?1:0,j=bi(function(a){return a===b},h,!0),k=bi(function(a){return y.call(b,a)>-1},h,!0),m=[function(a,c,d){return!g&&(d||c!==l)||((b=c).nodeType?j(a,c,d):k(a,c,d))}];for(;i<f;i++)if(c=e.relative[a[i].type])m=[bi(bj(m),c)];else{c=e.filter[a[i].type].apply(null,a[i].matches);if(c[o]){d=++i;for(;d<f;d++)if(e.relative[a[d].type])break;return bl(i>1&&bj(m),i>1&&a.slice(0,i-1).join("").replace(L,"$1"),c,i<d&&bm(a.slice(i,d)),d<f&&bm(a=a.slice(d)),d<f&&a.join(""))}m.push(c)}return bj(m)}function bn(a,b){var d=b.length>0,f=a.length>0,g=function(h,i,j,k,m){var n,o,p,q=[],s=0,u="0",x=h&&[],y=m!=null,z=l,A=h||f&&e.find.TAG("*",m&&i.parentNode||i),B=t+=z==null?1:Math.E;y&&(l=i!==r&&i,c=g.el);for(;(n=A[u])!=null;u++){if(f&&n){for(o=0;p=a[o];o++)if(p(n,i,j)){k.push(n);break}y&&(t=B,c=++g.el)}d&&((n=!p&&n)&&s--,h&&x.push(n))}s+=u;if(d&&u!==s){for(o=0;p=b[o];o++)p(x,q,i,j);if(h){if(s>0)while(u--)!x[u]&&!q[u]&&(q[u]=v.call(k));q=bk(q)}w.apply(k,q),y&&!h&&q.length>0&&s+b.length>1&&bc.uniqueSort(k)}return y&&(t=B,l=z),x};return g.el=0,d?z(g):g}function bo(a,b,c,d){var e=0,f=b.length;for(;e<f;e++)bc(a,b[e],c,d);return c}function bp(a,b,c,d,f){var g,h,j,k,l,m=bh(a),n=m.length;if(!d&&m.length===1){h=m[0]=m[0].slice(0);if(h.length>2&&(j=h[0]).type==="ID"&&b.nodeType===9&&!f&&e.relative[h[1].type]){b=e.find.ID(j.matches[0].replace(V,""),b,f)[0];if(!b)return c;a=a.slice(h.shift().length)}for(g=W.POS.test(a)?-1:h.length-1;g>=0;g--){j=h[g];if(e.relative[k=j.type])break;if(l=e.find[k])if(d=l(j.matches[0].replace(V,""),R.test(h[0].type)&&b.parentNode||b,f)){h.splice(g,1),a=d.length&&h.join("");if(!a)return w.apply(c,x.call(d,0)),c;break}}}return i(a,m)(d,b,f,c,R.test(a)),c}function bq(){}var c,d,e,f,g,h,i,j,k,l,m=!0,n="undefined",o=("sizcache"+Math.random()).replace(".",""),q=String,r=a.document,s=r.documentElement,t=0,u=0,v=[].pop,w=[].push,x=[].slice,y=[].indexOf||function(a){var b=0,c=this.length;for(;b<c;b++)if(this[b]===a)return b;return-1},z=function(a,b){return a[o]=b==null||b,a},A=function(){var a={},b=[];return z(function(c,d){return b.push(c)>e.cacheLength&&delete a[b.shift()],a[c]=d},a)},B=A(),C=A(),D=A(),E="[\\x20\\t\\r\\n\\f]",F="(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+",G=F.replace("w","w#"),H="([*^$|!~]?=)",I="\\["+E+"*("+F+")"+E+"*(?:"+H+E+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+G+")|)|)"+E+"*\\]",J=":("+F+")(?:\\((?:(['\"])((?:\\\\.|[^\\\\])*?)\\2|([^()[\\]]*|(?:(?:"+I+")|[^:]|\\\\.)*|.*))\\)|)",K=":(even|odd|eq|gt|lt|nth|first|last)(?:\\("+E+"*((?:-\\d)?\\d*)"+E+"*\\)|)(?=[^-]|$)",L=new RegExp("^"+E+"+|((?:^|[^\\\\])(?:\\\\.)*)"+E+"+$","g"),M=new RegExp("^"+E+"*,"+E+"*"),N=new RegExp("^"+E+"*([\\x20\\t\\r\\n\\f>+~])"+E+"*"),O=new RegExp(J),P=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,Q=/^:not/,R=/[\x20\t\r\n\f]*[+~]/,S=/:not\($/,T=/h\d/i,U=/input|select|textarea|button/i,V=/\\(?!\\)/g,W={ID:new RegExp("^#("+F+")"),CLASS:new RegExp("^\\.("+F+")"),NAME:new RegExp("^\\[name=['\"]?("+F+")['\"]?\\]"),TAG:new RegExp("^("+F.replace("w","w*")+")"),ATTR:new RegExp("^"+I),PSEUDO:new RegExp("^"+J),POS:new RegExp(K,"i"),CHILD:new RegExp("^:(only|nth|first|last)-child(?:\\("+E+"*(even|odd|(([+-]|)(\\d*)n|)"+E+"*(?:([+-]|)"+E+"*(\\d+)|))"+E+"*\\)|)","i"),needsContext:new RegExp("^"+E+"*[>+~]|"+K,"i")},X=function(a){var b=r.createElement("div");try{return a(b)}catch(c){return!1}finally{b=null}},Y=X(function(a){return a.appendChild(r.createComment("")),!a.getElementsByTagName("*").length}),Z=X(function(a){return a.innerHTML="<a href='#'></a>",a.firstChild&&typeof a.firstChild.getAttribute!==n&&a.firstChild.getAttribute("href")==="#"}),$=X(function(a){a.innerHTML="<select></select>";var b=typeof a.lastChild.getAttribute("multiple");return b!=="boolean"&&b!=="string"}),_=X(function(a){return a.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",!a.getElementsByClassName||!a.getElementsByClassName("e").length?!1:(a.lastChild.className="e",a.getElementsByClassName("e").length===2)}),ba=X(function(a){a.id=o+0,a.innerHTML="<a name='"+o+"'></a><div name='"+o+"'></div>",s.insertBefore(a,s.firstChild);var b=r.getElementsByName&&r.getElementsByName(o).length===2+r.getElementsByName(o+0).length;return d=!r.getElementById(o),s.removeChild(a),b});try{x.call(s.childNodes,0)[0].nodeType}catch(bb){x=function(a){var b,c=[];for(;b=this[a];a++)c.push(b);return c}}bc.matches=function(a,b){return bc(a,null,null,b)},bc.matchesSelector=function(a,b){return bc(b,null,null,[a]).length>0},f=bc.getText=function(a){var b,c="",d=0,e=a.nodeType;if(e){if(e===1||e===9||e===11){if(typeof a.textContent=="string")return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=f(a)}else if(e===3||e===4)return a.nodeValue}else for(;b=a[d];d++)c+=f(b);return c},g=bc.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?b.nodeName!=="HTML":!1},h=bc.contains=s.contains?function(a,b){var c=a.nodeType===9?a.documentElement:a,d=b&&b.parentNode;return a===d||!!(d&&d.nodeType===1&&c.contains&&c.contains(d))}:s.compareDocumentPosition?function(a,b){return b&&!!(a.compareDocumentPosition(b)&16)}:function(a,b){while(b=b.parentNode)if(b===a)return!0;return!1},bc.attr=function(a,b){var c,d=g(a);return d||(b=b.toLowerCase()),(c=e.attrHandle[b])?c(a):d||$?a.getAttribute(b):(c=a.getAttributeNode(b),c?typeof a[b]=="boolean"?a[b]?b:null:c.specified?c.value:null:null)},e=bc.selectors={cacheLength:50,createPseudo:z,match:W,attrHandle:Z?{}:{href:function(a){return a.getAttribute("href",2)},type:function(a){return a.getAttribute("type")}},find:{ID:d?function(a,b,c){if(typeof b.getElementById!==n&&!c){var d=b.getElementById(a);return d&&d.parentNode?[d]:[]}}:function(a,c,d){if(typeof c.getElementById!==n&&!d){var e=c.getElementById(a);return e?e.id===a||typeof e.getAttributeNode!==n&&e.getAttributeNode("id").value===a?[e]:b:[]}},TAG:Y?function(a,b){if(typeof b.getElementsByTagName!==n)return b.getElementsByTagName(a)}:function(a,b){var c=b.getElementsByTagName(a);if(a==="*"){var d,e=[],f=0;for(;d=c[f];f++)d.nodeType===1&&e.push(d);return e}return c},NAME:ba&&function(a,b){if(typeof b.getElementsByName!==n)return b.getElementsByName(name)},CLASS:_&&function(a,b,c){if(typeof b.getElementsByClassName!==n&&!c)return b.getElementsByClassName(a)}},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(V,""),a[3]=(a[4]||a[5]||"").replace(V,""),a[2]==="~="&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),a[1]==="nth"?(a[2]||bc.error(a[0]),a[3]=+(a[3]?a[4]+(a[5]||1):2*(a[2]==="even"||a[2]==="odd")),a[4]=+(a[6]+a[7]||a[2]==="odd")):a[2]&&bc.error(a[0]),a},PSEUDO:function(a){var b,c;if(W.CHILD.test(a[0]))return null;if(a[3])a[2]=a[3];else if(b=a[4])O.test(b)&&(c=bh(b,!0))&&(c=b.indexOf(")",b.length-c)-b.length)&&(b=b.slice(0,c),a[0]=a[0].slice(0,c)),a[2]=b;return a.slice(0,3)}},filter:{ID:d?function(a){return a=a.replace(V,""),function(b){return b.getAttribute("id")===a}}:function(a){return a=a.replace(V,""),function(b){var c=typeof b.getAttributeNode!==n&&b.getAttributeNode("id");return c&&c.value===a}},TAG:function(a){return a==="*"?function(){return!0}:(a=a.replace(V,"").toLowerCase(),function(b){return b.nodeName&&b.nodeName.toLowerCase()===a})},CLASS:function(a){var b=B[o][a];return b||(b=B(a,new RegExp("(^|"+E+")"+a+"("+E+"|$)"))),function(a){return b.test(a.className||typeof a.getAttribute!==n&&a.getAttribute("class")||"")}},ATTR:function(a,b,c){return function(d,e){var f=bc.attr(d,a);return f==null?b==="!=":b?(f+="",b==="="?f===c:b==="!="?f!==c:b==="^="?c&&f.indexOf(c)===0:b==="*="?c&&f.indexOf(c)>-1:b==="$="?c&&f.substr(f.length-c.length)===c:b==="~="?(" "+f+" ").indexOf(c)>-1:b==="|="?f===c||f.substr(0,c.length+1)===c+"-":!1):!0}},CHILD:function(a,b,c,d){return a==="nth"?function(a){var b,e,f=a.parentNode;if(c===1&&d===0)return!0;if(f){e=0;for(b=f.firstChild;b;b=b.nextSibling)if(b.nodeType===1){e++;if(a===b)break}}return e-=d,e===c||e%c===0&&e/c>=0}:function(b){var c=b;switch(a){case"only":case"first":while(c=c.previousSibling)if(c.nodeType===1)return!1;if(a==="first")return!0;c=b;case"last":while(c=c.nextSibling)if(c.nodeType===1)return!1;return!0}}},PSEUDO:function(a,b){var c,d=e.pseudos[a]||e.setFilters[a.toLowerCase()]||bc.error("unsupported pseudo: "+a);return d[o]?d(b):d.length>1?(c=[a,a,"",b],e.setFilters.hasOwnProperty(a.toLowerCase())?z(function(a,c){var e,f=d(a,b),g=f.length;while(g--)e=y.call(a,f[g]),a[e]=!(c[e]=f[g])}):function(a){return d(a,0,c)}):d}},pseudos:{not:z(function(a){var b=[],c=[],d=i(a.replace(L,"$1"));return d[o]?z(function(a,b,c,e){var f,g=d(a,null,e,[]),h=a.length;while(h--)if(f=g[h])a[h]=!(b[h]=f)}):function(a,e,f){return b[0]=a,d(b,null,f,c),!c.pop()}}),has:z(function(a){return function(b){return bc(a,b).length>0}}),contains:z(function(a){return function(b){return(b.textContent||b.innerText||f(b)).indexOf(a)>-1}}),enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return b==="input"&&!!a.checked||b==="option"&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},parent:function(a){return!e.pseudos.empty(a)},empty:function(a){var b;a=a.firstChild;while(a){if(a.nodeName>"@"||(b=a.nodeType)===3||b===4)return!1;a=a.nextSibling}return!0},header:function(a){return T.test(a.nodeName)},text:function(a){var b,c;return a.nodeName.toLowerCase()==="input"&&(b=a.type)==="text"&&((c=a.getAttribute("type"))==null||c.toLowerCase()===b)},radio:bd("radio"),checkbox:bd("checkbox"),file:bd("file"),password:bd("password"),image:bd("image"),submit:be("submit"),reset:be("reset"),button:function(a){var b=a.nodeName.toLowerCase();return b==="input"&&a.type==="button"||b==="button"},input:function(a){return U.test(a.nodeName)},focus:function(a){var b=a.ownerDocument;return a===b.activeElement&&(!b.hasFocus||b.hasFocus())&&(!!a.type||!!a.href)},active:function(a){return a===a.ownerDocument.activeElement},first:bf(function(a,b,c){return[0]}),last:bf(function(a,b,c){return[b-1]}),eq:bf(function(a,b,c){return[c<0?c+b:c]}),even:bf(function(a,b,c){for(var d=0;d<b;d+=2)a.push(d);return a}),odd:bf(function(a,b,c){for(var d=1;d<b;d+=2)a.push(d);return a}),lt:bf(function(a,b,c){for(var d=c<0?c+b:c;--d>=0;)a.push(d);return a}),gt:bf(function(a,b,c){for(var d=c<0?c+b:c;++d<b;)a.push(d);return a})}},j=s.compareDocumentPosition?function(a,b){return a===b?(k=!0,0):(!a.compareDocumentPosition||!b.compareDocumentPosition?a.compareDocumentPosition:a.compareDocumentPosition(b)&4)?-1:1}:function(a,b){if(a===b)return k=!0,0;if(a.sourceIndex&&b.sourceIndex)return a.sourceIndex-b.sourceIndex;var c,d,e=[],f=[],g=a.parentNode,h=b.parentNode,i=g;if(g===h)return bg(a,b);if(!g)return-1;if(!h)return 1;while(i)e.unshift(i),i=i.parentNode;i=h;while(i)f.unshift(i),i=i.parentNode;c=e.length,d=f.length;for(var j=0;j<c&&j<d;j++)if(e[j]!==f[j])return bg(e[j],f[j]);return j===c?bg(a,f[j],-1):bg(e[j],b,1)},[0,0].sort(j),m=!k,bc.uniqueSort=function(a){var b,c=1;k=m,a.sort(j);if(k)for(;b=a[c];c++)b===a[c-1]&&a.splice(c--,1);return a},bc.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},i=bc.compile=function(a,b){var c,d=[],e=[],f=D[o][a];if(!f){b||(b=bh(a)),c=b.length;while(c--)f=bm(b[c]),f[o]?d.push(f):e.push(f);f=D(a,bn(e,d))}return f},r.querySelectorAll&&function(){var a,b=bp,c=/'|\\/g,d=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,e=[":focus"],f=[":active",":focus"],h=s.matchesSelector||s.mozMatchesSelector||s.webkitMatchesSelector||s.oMatchesSelector||s.msMatchesSelector;X(function(a){a.innerHTML="<select><option selected=''></option></select>",a.querySelectorAll("[selected]").length||e.push("\\["+E+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),a.querySelectorAll(":checked").length||e.push(":checked")}),X(function(a){a.innerHTML="<p test=''></p>",a.querySelectorAll("[test^='']").length&&e.push("[*^$]="+E+"*(?:\"\"|'')"),a.innerHTML="<input type='hidden'/>",a.querySelectorAll(":enabled").length||e.push(":enabled",":disabled")}),e=new RegExp(e.join("|")),bp=function(a,d,f,g,h){if(!g&&!h&&(!e||!e.test(a))){var i,j,k=!0,l=o,m=d,n=d.nodeType===9&&a;if(d.nodeType===1&&d.nodeName.toLowerCase()!=="object"){i=bh(a),(k=d.getAttribute("id"))?l=k.replace(c,"\\$&"):d.setAttribute("id",l),l="[id='"+l+"'] ",j=i.length;while(j--)i[j]=l+i[j].join("");m=R.test(a)&&d.parentNode||d,n=i.join(",")}if(n)try{return w.apply(f,x.call(m.querySelectorAll(n),0)),f}catch(p){}finally{k||d.removeAttribute("id")}}return b(a,d,f,g,h)},h&&(X(function(b){a=h.call(b,"div");try{h.call(b,"[test!='']:sizzle"),f.push("!=",J)}catch(c){}}),f=new RegExp(f.join("|")),bc.matchesSelector=function(b,c){c=c.replace(d,"='$1']");if(!g(b)&&!f.test(c)&&(!e||!e.test(c)))try{var i=h.call(b,c);if(i||a||b.document&&b.document.nodeType!==11)return i}catch(j){}return bc(c,null,null,[b]).length>0})}(),e.pseudos.nth=e.pseudos.eq,e.filters=bq.prototype=e.pseudos,e.setFilters=new bq,bc.attr=p.attr,p.find=bc,p.expr=bc.selectors,p.expr[":"]=p.expr.pseudos,p.unique=bc.uniqueSort,p.text=bc.getText,p.isXMLDoc=bc.isXML,p.contains=bc.contains}(a);var bc=/Until$/,bd=/^(?:parents|prev(?:Until|All))/,be=/^.[^:#\[\.,]*$/,bf=p.expr.match.needsContext,bg={children:!0,contents:!0,next:!0,prev:!0};p.fn.extend({find:function(a){var b,c,d,e,f,g,h=this;if(typeof a!="string")return p(a).filter(function(){for(b=0,c=h.length;b<c;b++)if(p.contains(h[b],this))return!0});g=this.pushStack("","find",a);for(b=0,c=this.length;b<c;b++){d=g.length,p.find(a,this[b],g);if(b>0)for(e=d;e<g.length;e++)for(f=0;f<d;f++)if(g[f]===g[e]){g.splice(e--,1);break}}return g},has:function(a){var b,c=p(a,this),d=c.length;return this.filter(function(){for(b=0;b<d;b++)if(p.contains(this,c[b]))return!0})},not:function(a){return this.pushStack(bj(this,a,!1),"not",a)},filter:function(a){return this.pushStack(bj(this,a,!0),"filter",a)},is:function(a){return!!a&&(typeof a=="string"?bf.test(a)?p(a,this.context).index(this[0])>=0:p.filter(a,this).length>0:this.filter(a).length>0)},closest:function(a,b){var c,d=0,e=this.length,f=[],g=bf.test(a)||typeof a!="string"?p(a,b||this.context):0;for(;d<e;d++){c=this[d];while(c&&c.ownerDocument&&c!==b&&c.nodeType!==11){if(g?g.index(c)>-1:p.find.matchesSelector(c,a)){f.push(c);break}c=c.parentNode}}return f=f.length>1?p.unique(f):f,this.pushStack(f,"closest",a)},index:function(a){return a?typeof a=="string"?p.inArray(this[0],p(a)):p.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(a,b){var c=typeof a=="string"?p(a,b):p.makeArray(a&&a.nodeType?[a]:a),d=p.merge(this.get(),c);return this.pushStack(bh(c[0])||bh(d[0])?d:p.unique(d))},addBack:function(a){return this.add(a==null?this.prevObject:this.prevObject.filter(a))}}),p.fn.andSelf=p.fn.addBack,p.each({parent:function(a){var b=a.parentNode;return b&&b.nodeType!==11?b:null},parents:function(a){return p.dir(a,"parentNode")},parentsUntil:function(a,b,c){return p.dir(a,"parentNode",c)},next:function(a){return bi(a,"nextSibling")},prev:function(a){return bi(a,"previousSibling")},nextAll:function(a){return p.dir(a,"nextSibling")},prevAll:function(a){return p.dir(a,"previousSibling")},nextUntil:function(a,b,c){return p.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return p.dir(a,"previousSibling",c)},siblings:function(a){return p.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return p.sibling(a.firstChild)},contents:function(a){return p.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:p.merge([],a.childNodes)}},function(a,b){p.fn[a]=function(c,d){var e=p.map(this,b,c);return bc.test(a)||(d=c),d&&typeof d=="string"&&(e=p.filter(d,e)),e=this.length>1&&!bg[a]?p.unique(e):e,this.length>1&&bd.test(a)&&(e=e.reverse()),this.pushStack(e,a,k.call(arguments).join(","))}}),p.extend({filter:function(a,b,c){return c&&(a=":not("+a+")"),b.length===1?p.find.matchesSelector(b[0],a)?[b[0]]:[]:p.find.matches(a,b)},dir:function(a,c,d){var e=[],f=a[c];while(f&&f.nodeType!==9&&(d===b||f.nodeType!==1||!p(f).is(d)))f.nodeType===1&&e.push(f),f=f[c];return e},sibling:function(a,b){var c=[];for(;a;a=a.nextSibling)a.nodeType===1&&a!==b&&c.push(a);return c}});var bl="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",bm=/ jQuery\d+="(?:null|\d+)"/g,bn=/^\s+/,bo=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,bp=/<([\w:]+)/,bq=/<tbody/i,br=/<|&#?\w+;/,bs=/<(?:script|style|link)/i,bt=/<(?:script|object|embed|option|style)/i,bu=new RegExp("<(?:"+bl+")[\\s/>]","i"),bv=/^(?:checkbox|radio)$/,bw=/checked\s*(?:[^=]|=\s*.checked.)/i,bx=/\/(java|ecma)script/i,by=/^\s*<!(?:\[CDATA\[|\-\-)|[\]\-]{2}>\s*$/g,bz={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},bA=bk(e),bB=bA.appendChild(e.createElement("div"));bz.optgroup=bz.option,bz.tbody=bz.tfoot=bz.colgroup=bz.caption=bz.thead,bz.th=bz.td,p.support.htmlSerialize||(bz._default=[1,"X<div>","</div>"]),p.fn.extend({text:function(a){return p.access(this,function(a){return a===b?p.text(this):this.empty().append((this[0]&&this[0].ownerDocument||e).createTextNode(a))},null,a,arguments.length)},wrapAll:function(a){if(p.isFunction(a))return this.each(function(b){p(this).wrapAll(a.call(this,b))});if(this[0]){var b=p(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstChild&&a.firstChild.nodeType===1)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return p.isFunction(a)?this.each(function(b){p(this).wrapInner(a.call(this,b))}):this.each(function(){var b=p(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=p.isFunction(a);return this.each(function(c){p(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){p.nodeName(this,"body")||p(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(a){(this.nodeType===1||this.nodeType===11)&&this.appendChild(a)})},prepend:function(){return this.domManip(arguments,!0,function(a){(this.nodeType===1||this.nodeType===11)&&this.insertBefore(a,this.firstChild)})},before:function(){if(!bh(this[0]))return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this)});if(arguments.length){var a=p.clean(arguments);return this.pushStack(p.merge(a,this),"before",this.selector)}},after:function(){if(!bh(this[0]))return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this.nextSibling)});if(arguments.length){var a=p.clean(arguments);return this.pushStack(p.merge(this,a),"after",this.selector)}},remove:function(a,b){var c,d=0;for(;(c=this[d])!=null;d++)if(!a||p.filter(a,[c]).length)!b&&c.nodeType===1&&(p.cleanData(c.getElementsByTagName("*")),p.cleanData([c])),c.parentNode&&c.parentNode.removeChild(c);return this},empty:function(){var a,b=0;for(;(a=this[b])!=null;b++){a.nodeType===1&&p.cleanData(a.getElementsByTagName("*"));while(a.firstChild)a.removeChild(a.firstChild)}return this},clone:function(a,b){return a=a==null?!1:a,b=b==null?a:b,this.map(function(){return p.clone(this,a,b)})},html:function(a){return p.access(this,function(a){var c=this[0]||{},d=0,e=this.length;if(a===b)return c.nodeType===1?c.innerHTML.replace(bm,""):b;if(typeof a=="string"&&!bs.test(a)&&(p.support.htmlSerialize||!bu.test(a))&&(p.support.leadingWhitespace||!bn.test(a))&&!bz[(bp.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(bo,"<$1></$2>");try{for(;d<e;d++)c=this[d]||{},c.nodeType===1&&(p.cleanData(c.getElementsByTagName("*")),c.innerHTML=a);c=0}catch(f){}}c&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(a){return bh(this[0])?this.length?this.pushStack(p(p.isFunction(a)?a():a),"replaceWith",a):this:p.isFunction(a)?this.each(function(b){var c=p(this),d=c.html();c.replaceWith(a.call(this,b,d))}):(typeof a!="string"&&(a=p(a).detach()),this.each(function(){var b=this.nextSibling,c=this.parentNode;p(this).remove(),b?p(b).before(a):p(c).append(a)}))},detach:function(a){return this.remove(a,!0)},domManip:function(a,c,d){a=[].concat.apply([],a);var e,f,g,h,i=0,j=a[0],k=[],l=this.length;if(!p.support.checkClone&&l>1&&typeof j=="string"&&bw.test(j))return this.each(function(){p(this).domManip(a,c,d)});if(p.isFunction(j))return this.each(function(e){var f=p(this);a[0]=j.call(this,e,c?f.html():b),f.domManip(a,c,d)});if(this[0]){e=p.buildFragment(a,this,k),g=e.fragment,f=g.firstChild,g.childNodes.length===1&&(g=f);if(f){c=c&&p.nodeName(f,"tr");for(h=e.cacheable||l-1;i<l;i++)d.call(c&&p.nodeName(this[i],"table")?bC(this[i],"tbody"):this[i],i===h?g:p.clone(g,!0,!0))}g=f=null,k.length&&p.each(k,function(a,b){b.src?p.ajax?p.ajax({url:b.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):p.error("no ajax"):p.globalEval((b.text||b.textContent||b.innerHTML||"").replace(by,"")),b.parentNode&&b.parentNode.removeChild(b)})}return this}}),p.buildFragment=function(a,c,d){var f,g,h,i=a[0];return c=c||e,c=!c.nodeType&&c[0]||c,c=c.ownerDocument||c,a.length===1&&typeof i=="string"&&i.length<512&&c===e&&i.charAt(0)==="<"&&!bt.test(i)&&(p.support.checkClone||!bw.test(i))&&(p.support.html5Clone||!bu.test(i))&&(g=!0,f=p.fragments[i],h=f!==b),f||(f=c.createDocumentFragment(),p.clean(a,c,f,d),g&&(p.fragments[i]=h&&f)),{fragment:f,cacheable:g}},p.fragments={},p.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){p.fn[a]=function(c){var d,e=0,f=[],g=p(c),h=g.length,i=this.length===1&&this[0].parentNode;if((i==null||i&&i.nodeType===11&&i.childNodes.length===1)&&h===1)return g[b](this[0]),this;for(;e<h;e++)d=(e>0?this.clone(!0):this).get(),p(g[e])[b](d),f=f.concat(d);return this.pushStack(f,a,g.selector)}}),p.extend({clone:function(a,b,c){var d,e,f,g;p.support.html5Clone||p.isXMLDoc(a)||!bu.test("<"+a.nodeName+">")?g=a.cloneNode(!0):(bB.innerHTML=a.outerHTML,bB.removeChild(g=bB.firstChild));if((!p.support.noCloneEvent||!p.support.noCloneChecked)&&(a.nodeType===1||a.nodeType===11)&&!p.isXMLDoc(a)){bE(a,g),d=bF(a),e=bF(g);for(f=0;d[f];++f)e[f]&&bE(d[f],e[f])}if(b){bD(a,g);if(c){d=bF(a),e=bF(g);for(f=0;d[f];++f)bD(d[f],e[f])}}return d=e=null,g},clean:function(a,b,c,d){var f,g,h,i,j,k,l,m,n,o,q,r,s=b===e&&bA,t=[];if(!b||typeof b.createDocumentFragment=="undefined")b=e;for(f=0;(h=a[f])!=null;f++){typeof h=="number"&&(h+="");if(!h)continue;if(typeof h=="string")if(!br.test(h))h=b.createTextNode(h);else{s=s||bk(b),l=b.createElement("div"),s.appendChild(l),h=h.replace(bo,"<$1></$2>"),i=(bp.exec(h)||["",""])[1].toLowerCase(),j=bz[i]||bz._default,k=j[0],l.innerHTML=j[1]+h+j[2];while(k--)l=l.lastChild;if(!p.support.tbody){m=bq.test(h),n=i==="table"&&!m?l.firstChild&&l.firstChild.childNodes:j[1]==="<table>"&&!m?l.childNodes:[];for(g=n.length-1;g>=0;--g)p.nodeName(n[g],"tbody")&&!n[g].childNodes.length&&n[g].parentNode.removeChild(n[g])}!p.support.leadingWhitespace&&bn.test(h)&&l.insertBefore(b.createTextNode(bn.exec(h)[0]),l.firstChild),h=l.childNodes,l.parentNode.removeChild(l)}h.nodeType?t.push(h):p.merge(t,h)}l&&(h=l=s=null);if(!p.support.appendChecked)for(f=0;(h=t[f])!=null;f++)p.nodeName(h,"input")?bG(h):typeof h.getElementsByTagName!="undefined"&&p.grep(h.getElementsByTagName("input"),bG);if(c){q=function(a){if(!a.type||bx.test(a.type))return d?d.push(a.parentNode?a.parentNode.removeChild(a):a):c.appendChild(a)};for(f=0;(h=t[f])!=null;f++)if(!p.nodeName(h,"script")||!q(h))c.appendChild(h),typeof h.getElementsByTagName!="undefined"&&(r=p.grep(p.merge([],h.getElementsByTagName("script")),q),t.splice.apply(t,[f+1,0].concat(r)),f+=r.length)}return t},cleanData:function(a,b){var c,d,e,f,g=0,h=p.expando,i=p.cache,j=p.support.deleteExpando,k=p.event.special;for(;(e=a[g])!=null;g++)if(b||p.acceptData(e)){d=e[h],c=d&&i[d];if(c){if(c.events)for(f in c.events)k[f]?p.event.remove(e,f):p.removeEvent(e,f,c.handle);i[d]&&(delete i[d],j?delete e[h]:e.removeAttribute?e.removeAttribute(h):e[h]=null,p.deletedIds.push(d))}}}}),function(){var a,b;p.uaMatch=function(a){a=a.toLowerCase();var b=/(chrome)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+)/.exec(a)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a)||/(msie) ([\w.]+)/.exec(a)||a.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(a)||[];return{browser:b[1]||"",version:b[2]||"0"}},a=p.uaMatch(g.userAgent),b={},a.browser&&(b[a.browser]=!0,b.version=a.version),b.chrome?b.webkit=!0:b.webkit&&(b.safari=!0),p.browser=b,p.sub=function(){function a(b,c){return new a.fn.init(b,c)}p.extend(!0,a,this),a.superclass=this,a.fn=a.prototype=this(),a.fn.constructor=a,a.sub=this.sub,a.fn.init=function c(c,d){return d&&d instanceof p&&!(d instanceof a)&&(d=a(d)),p.fn.init.call(this,c,d,b)},a.fn.init.prototype=a.fn;var b=a(e);return a}}();var bH,bI,bJ,bK=/alpha\([^)]*\)/i,bL=/opacity=([^)]*)/,bM=/^(top|right|bottom|left)$/,bN=/^(none|table(?!-c[ea]).+)/,bO=/^margin/,bP=new RegExp("^("+q+")(.*)$","i"),bQ=new RegExp("^("+q+")(?!px)[a-z%]+$","i"),bR=new RegExp("^([-+])=("+q+")","i"),bS={},bT={position:"absolute",visibility:"hidden",display:"block"},bU={letterSpacing:0,fontWeight:400},bV=["Top","Right","Bottom","Left"],bW=["Webkit","O","Moz","ms"],bX=p.fn.toggle;p.fn.extend({css:function(a,c){return p.access(this,function(a,c,d){return d!==b?p.style(a,c,d):p.css(a,c)},a,c,arguments.length>1)},show:function(){return b$(this,!0)},hide:function(){return b$(this)},toggle:function(a,b){var c=typeof a=="boolean";return p.isFunction(a)&&p.isFunction(b)?bX.apply(this,arguments):this.each(function(){(c?a:bZ(this))?p(this).show():p(this).hide()})}}),p.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=bH(a,"opacity");return c===""?"1":c}}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":p.support.cssFloat?"cssFloat":"styleFloat"},style:function(a,c,d,e){if(!a||a.nodeType===3||a.nodeType===8||!a.style)return;var f,g,h,i=p.camelCase(c),j=a.style;c=p.cssProps[i]||(p.cssProps[i]=bY(j,i)),h=p.cssHooks[c]||p.cssHooks[i];if(d===b)return h&&"get"in h&&(f=h.get(a,!1,e))!==b?f:j[c];g=typeof d,g==="string"&&(f=bR.exec(d))&&(d=(f[1]+1)*f[2]+parseFloat(p.css(a,c)),g="number");if(d==null||g==="number"&&isNaN(d))return;g==="number"&&!p.cssNumber[i]&&(d+="px");if(!h||!("set"in h)||(d=h.set(a,d,e))!==b)try{j[c]=d}catch(k){}},css:function(a,c,d,e){var f,g,h,i=p.camelCase(c);return c=p.cssProps[i]||(p.cssProps[i]=bY(a.style,i)),h=p.cssHooks[c]||p.cssHooks[i],h&&"get"in h&&(f=h.get(a,!0,e)),f===b&&(f=bH(a,c)),f==="normal"&&c in bU&&(f=bU[c]),d||e!==b?(g=parseFloat(f),d||p.isNumeric(g)?g||0:f):f},swap:function(a,b,c){var d,e,f={};for(e in b)f[e]=a.style[e],a.style[e]=b[e];d=c.call(a);for(e in b)a.style[e]=f[e];return d}}),a.getComputedStyle?bH=function(b,c){var d,e,f,g,h=a.getComputedStyle(b,null),i=b.style;return h&&(d=h[c],d===""&&!p.contains(b.ownerDocument,b)&&(d=p.style(b,c)),bQ.test(d)&&bO.test(c)&&(e=i.width,f=i.minWidth,g=i.maxWidth,i.minWidth=i.maxWidth=i.width=d,d=h.width,i.width=e,i.minWidth=f,i.maxWidth=g)),d}:e.documentElement.currentStyle&&(bH=function(a,b){var c,d,e=a.currentStyle&&a.currentStyle[b],f=a.style;return e==null&&f&&f[b]&&(e=f[b]),bQ.test(e)&&!bM.test(b)&&(c=f.left,d=a.runtimeStyle&&a.runtimeStyle.left,d&&(a.runtimeStyle.left=a.currentStyle.left),f.left=b==="fontSize"?"1em":e,e=f.pixelLeft+"px",f.left=c,d&&(a.runtimeStyle.left=d)),e===""?"auto":e}),p.each(["height","width"],function(a,b){p.cssHooks[b]={get:function(a,c,d){if(c)return a.offsetWidth===0&&bN.test(bH(a,"display"))?p.swap(a,bT,function(){return cb(a,b,d)}):cb(a,b,d)},set:function(a,c,d){return b_(a,c,d?ca(a,b,d,p.support.boxSizing&&p.css(a,"boxSizing")==="border-box"):0)}}}),p.support.opacity||(p.cssHooks.opacity={get:function(a,b){return bL.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,e=p.isNumeric(b)?"alpha(opacity="+b*100+")":"",f=d&&d.filter||c.filter||"";c.zoom=1;if(b>=1&&p.trim(f.replace(bK,""))===""&&c.removeAttribute){c.removeAttribute("filter");if(d&&!d.filter)return}c.filter=bK.test(f)?f.replace(bK,e):f+" "+e}}),p(function(){p.support.reliableMarginRight||(p.cssHooks.marginRight={get:function(a,b){return p.swap(a,{display:"inline-block"},function(){if(b)return bH(a,"marginRight")})}}),!p.support.pixelPosition&&p.fn.position&&p.each(["top","left"],function(a,b){p.cssHooks[b]={get:function(a,c){if(c){var d=bH(a,b);return bQ.test(d)?p(a).position()[b]+"px":d}}}})}),p.expr&&p.expr.filters&&(p.expr.filters.hidden=function(a){return a.offsetWidth===0&&a.offsetHeight===0||!p.support.reliableHiddenOffsets&&(a.style&&a.style.display||bH(a,"display"))==="none"},p.expr.filters.visible=function(a){return!p.expr.filters.hidden(a)}),p.each({margin:"",padding:"",border:"Width"},function(a,b){p.cssHooks[a+b]={expand:function(c){var d,e=typeof c=="string"?c.split(" "):[c],f={};for(d=0;d<4;d++)f[a+bV[d]+b]=e[d]||e[d-2]||e[0];return f}},bO.test(a)||(p.cssHooks[a+b].set=b_)});var cd=/%20/g,ce=/\[\]$/,cf=/\r?\n/g,cg=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,ch=/^(?:select|textarea)/i;p.fn.extend({serialize:function(){return p.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?p.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||ch.test(this.nodeName)||cg.test(this.type))}).map(function(a,b){var c=p(this).val();return c==null?null:p.isArray(c)?p.map(c,function(a,c){return{name:b.name,value:a.replace(cf,"\r\n")}}):{name:b.name,value:c.replace(cf,"\r\n")}}).get()}}),p.param=function(a,c){var d,e=[],f=function(a,b){b=p.isFunction(b)?b():b==null?"":b,e[e.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};c===b&&(c=p.ajaxSettings&&p.ajaxSettings.traditional);if(p.isArray(a)||a.jquery&&!p.isPlainObject(a))p.each(a,function(){f(this.name,this.value)});else for(d in a)ci(d,a[d],c,f);return e.join("&").replace(cd,"+")};var cj,ck,cl=/#.*$/,cm=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,cn=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,co=/^(?:GET|HEAD)$/,cp=/^\/\//,cq=/\?/,cr=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,cs=/([?&])_=[^&]*/,ct=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,cu=p.fn.load,cv={},cw={},cx=["*/"]+["*"];try{ck=f.href}catch(cy){ck=e.createElement("a"),ck.href="",ck=ck.href}cj=ct.exec(ck.toLowerCase())||[],p.fn.load=function(a,c,d){if(typeof a!="string"&&cu)return cu.apply(this,arguments);if(!this.length)return this;var e,f,g,h=this,i=a.indexOf(" ");return i>=0&&(e=a.slice(i,a.length),a=a.slice(0,i)),p.isFunction(c)?(d=c,c=b):c&&typeof c=="object"&&(f="POST"),p.ajax({url:a,type:f,dataType:"html",data:c,complete:function(a,b){d&&h.each(d,g||[a.responseText,b,a])}}).done(function(a){g=arguments,h.html(e?p("<div>").append(a.replace(cr,"")).find(e):a)}),this},p.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){p.fn[b]=function(a){return this.on(b,a)}}),p.each(["get","post"],function(a,c){p[c]=function(a,d,e,f){return p.isFunction(d)&&(f=f||e,e=d,d=b),p.ajax({type:c,url:a,data:d,success:e,dataType:f})}}),p.extend({getScript:function(a,c){return p.get(a,b,c,"script")},getJSON:function(a,b,c){return p.get(a,b,c,"json")},ajaxSetup:function(a,b){return b?cB(a,p.ajaxSettings):(b=a,a=p.ajaxSettings),cB(a,b),a},ajaxSettings:{url:ck,isLocal:cn.test(cj[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":cx},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":a.String,"text html":!0,"text json":p.parseJSON,"text xml":p.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:cz(cv),ajaxTransport:cz(cw),ajax:function(a,c){function y(a,c,f,i){var k,s,t,u,w,y=c;if(v===2)return;v=2,h&&clearTimeout(h),g=b,e=i||"",x.readyState=a>0?4:0,f&&(u=cC(l,x,f));if(a>=200&&a<300||a===304)l.ifModified&&(w=x.getResponseHeader("Last-Modified"),w&&(p.lastModified[d]=w),w=x.getResponseHeader("Etag"),w&&(p.etag[d]=w)),a===304?(y="notmodified",k=!0):(k=cD(l,u),y=k.state,s=k.data,t=k.error,k=!t);else{t=y;if(!y||a)y="error",a<0&&(a=0)}x.status=a,x.statusText=(c||y)+"",k?o.resolveWith(m,[s,y,x]):o.rejectWith(m,[x,y,t]),x.statusCode(r),r=b,j&&n.trigger("ajax"+(k?"Success":"Error"),[x,l,k?s:t]),q.fireWith(m,[x,y]),j&&(n.trigger("ajaxComplete",[x,l]),--p.active||p.event.trigger("ajaxStop"))}typeof a=="object"&&(c=a,a=b),c=c||{};var d,e,f,g,h,i,j,k,l=p.ajaxSetup({},c),m=l.context||l,n=m!==l&&(m.nodeType||m instanceof p)?p(m):p.event,o=p.Deferred(),q=p.Callbacks("once memory"),r=l.statusCode||{},t={},u={},v=0,w="canceled",x={readyState:0,setRequestHeader:function(a,b){if(!v){var c=a.toLowerCase();a=u[c]=u[c]||a,t[a]=b}return this},getAllResponseHeaders:function(){return v===2?e:null},getResponseHeader:function(a){var c;if(v===2){if(!f){f={};while(c=cm.exec(e))f[c[1].toLowerCase()]=c[2]}c=f[a.toLowerCase()]}return c===b?null:c},overrideMimeType:function(a){return v||(l.mimeType=a),this},abort:function(a){return a=a||w,g&&g.abort(a),y(0,a),this}};o.promise(x),x.success=x.done,x.error=x.fail,x.complete=q.add,x.statusCode=function(a){if(a){var b;if(v<2)for(b in a)r[b]=[r[b],a[b]];else b=a[x.status],x.always(b)}return this},l.url=((a||l.url)+"").replace(cl,"").replace(cp,cj[1]+"//"),l.dataTypes=p.trim(l.dataType||"*").toLowerCase().split(s),l.crossDomain==null&&(i=ct.exec(l.url.toLowerCase())||!1,l.crossDomain=i&&i.join(":")+(i[3]?"":i[1]==="http:"?80:443)!==cj.join(":")+(cj[3]?"":cj[1]==="http:"?80:443)),l.data&&l.processData&&typeof l.data!="string"&&(l.data=p.param(l.data,l.traditional)),cA(cv,l,c,x);if(v===2)return x;j=l.global,l.type=l.type.toUpperCase(),l.hasContent=!co.test(l.type),j&&p.active++===0&&p.event.trigger("ajaxStart");if(!l.hasContent){l.data&&(l.url+=(cq.test(l.url)?"&":"?")+l.data,delete l.data),d=l.url;if(l.cache===!1){var z=p.now(),A=l.url.replace(cs,"$1_="+z);l.url=A+(A===l.url?(cq.test(l.url)?"&":"?")+"_="+z:"")}}(l.data&&l.hasContent&&l.contentType!==!1||c.contentType)&&x.setRequestHeader("Content-Type",l.contentType),l.ifModified&&(d=d||l.url,p.lastModified[d]&&x.setRequestHeader("If-Modified-Since",p.lastModified[d]),p.etag[d]&&x.setRequestHeader("If-None-Match",p.etag[d])),x.setRequestHeader("Accept",l.dataTypes[0]&&l.accepts[l.dataTypes[0]]?l.accepts[l.dataTypes[0]]+(l.dataTypes[0]!=="*"?", "+cx+"; q=0.01":""):l.accepts["*"]);for(k in l.headers)x.setRequestHeader(k,l.headers[k]);if(!l.beforeSend||l.beforeSend.call(m,x,l)!==!1&&v!==2){w="abort";for(k in{success:1,error:1,complete:1})x[k](l[k]);g=cA(cw,l,c,x);if(!g)y(-1,"No Transport");else{x.readyState=1,j&&n.trigger("ajaxSend",[x,l]),l.async&&l.timeout>0&&(h=setTimeout(function(){x.abort("timeout")},l.timeout));try{v=1,g.send(t,y)}catch(B){if(v<2)y(-1,B);else throw B}}return x}return x.abort()},active:0,lastModified:{},etag:{}});var cE=[],cF=/\?/,cG=/(=)\?(?=&|$)|\?\?/,cH=p.now();p.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=cE.pop()||p.expando+"_"+cH++;return this[a]=!0,a}}),p.ajaxPrefilter("json jsonp",function(c,d,e){var f,g,h,i=c.data,j=c.url,k=c.jsonp!==!1,l=k&&cG.test(j),m=k&&!l&&typeof i=="string"&&!(c.contentType||"").indexOf("application/x-www-form-urlencoded")&&cG.test(i);if(c.dataTypes[0]==="jsonp"||l||m)return f=c.jsonpCallback=p.isFunction(c.jsonpCallback)?c.jsonpCallback():c.jsonpCallback,g=a[f],l?c.url=j.replace(cG,"$1"+f):m?c.data=i.replace(cG,"$1"+f):k&&(c.url+=(cF.test(j)?"&":"?")+c.jsonp+"="+f),c.converters["script json"]=function(){return h||p.error(f+" was not called"),h[0]},c.dataTypes[0]="json",a[f]=function(){h=arguments},e.always(function(){a[f]=g,c[f]&&(c.jsonpCallback=d.jsonpCallback,cE.push(f)),h&&p.isFunction(g)&&g(h[0]),h=g=b}),"script"}),p.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(a){return p.globalEval(a),a}}}),p.ajaxPrefilter("script",function(a){a.cache===b&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),p.ajaxTransport("script",function(a){if(a.crossDomain){var c,d=e.head||e.getElementsByTagName("head")[0]||e.documentElement;return{send:function(f,g){c=e.createElement("script"),c.async="async",a.scriptCharset&&(c.charset=a.scriptCharset),c.src=a.url,c.onload=c.onreadystatechange=function(a,e){if(e||!c.readyState||/loaded|complete/.test(c.readyState))c.onload=c.onreadystatechange=null,d&&c.parentNode&&d.removeChild(c),c=b,e||g(200,"success")},d.insertBefore(c,d.firstChild)},abort:function(){c&&c.onload(0,1)}}}});var cI,cJ=a.ActiveXObject?function(){for(var a in cI)cI[a](0,1)}:!1,cK=0;p.ajaxSettings.xhr=a.ActiveXObject?function(){return!this.isLocal&&cL()||cM()}:cL,function(a){p.extend(p.support,{ajax:!!a,cors:!!a&&"withCredentials"in a})}(p.ajaxSettings.xhr()),p.support.ajax&&p.ajaxTransport(function(c){if(!c.crossDomain||p.support.cors){var d;return{send:function(e,f){var g,h,i=c.xhr();c.username?i.open(c.type,c.url,c.async,c.username,c.password):i.open(c.type,c.url,c.async);if(c.xhrFields)for(h in c.xhrFields)i[h]=c.xhrFields[h];c.mimeType&&i.overrideMimeType&&i.overrideMimeType(c.mimeType),!c.crossDomain&&!e["X-Requested-With"]&&(e["X-Requested-With"]="XMLHttpRequest");try{for(h in e)i.setRequestHeader(h,e[h])}catch(j){}i.send(c.hasContent&&c.data||null),d=function(a,e){var h,j,k,l,m;try{if(d&&(e||i.readyState===4)){d=b,g&&(i.onreadystatechange=p.noop,cJ&&delete cI[g]);if(e)i.readyState!==4&&i.abort();else{h=i.status,k=i.getAllResponseHeaders(),l={},m=i.responseXML,m&&m.documentElement&&(l.xml=m);try{l.text=i.responseText}catch(a){}try{j=i.statusText}catch(n){j=""}!h&&c.isLocal&&!c.crossDomain?h=l.text?200:404:h===1223&&(h=204)}}}catch(o){e||f(-1,o)}l&&f(h,j,l,k)},c.async?i.readyState===4?setTimeout(d,0):(g=++cK,cJ&&(cI||(cI={},p(a).unload(cJ)),cI[g]=d),i.onreadystatechange=d):d()},abort:function(){d&&d(0,1)}}}});var cN,cO,cP=/^(?:toggle|show|hide)$/,cQ=new RegExp("^(?:([-+])=|)("+q+")([a-z%]*)$","i"),cR=/queueHooks$/,cS=[cY],cT={"*":[function(a,b){var c,d,e=this.createTween(a,b),f=cQ.exec(b),g=e.cur(),h=+g||0,i=1,j=20;if(f){c=+f[2],d=f[3]||(p.cssNumber[a]?"":"px");if(d!=="px"&&h){h=p.css(e.elem,a,!0)||c||1;do i=i||".5",h=h/i,p.style(e.elem,a,h+d);while(i!==(i=e.cur()/g)&&i!==1&&--j)}e.unit=d,e.start=h,e.end=f[1]?h+(f[1]+1)*c:c}return e}]};p.Animation=p.extend(cW,{tweener:function(a,b){p.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");var c,d=0,e=a.length;for(;d<e;d++)c=a[d],cT[c]=cT[c]||[],cT[c].unshift(b)},prefilter:function(a,b){b?cS.unshift(a):cS.push(a)}}),p.Tween=cZ,cZ.prototype={constructor:cZ,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(p.cssNumber[c]?"":"px")},cur:function(){var a=cZ.propHooks[this.prop];return a&&a.get?a.get(this):cZ.propHooks._default.get(this)},run:function(a){var b,c=cZ.propHooks[this.prop];return this.options.duration?this.pos=b=p.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):cZ.propHooks._default.set(this),this}},cZ.prototype.init.prototype=cZ.prototype,cZ.propHooks={_default:{get:function(a){var b;return a.elem[a.prop]==null||!!a.elem.style&&a.elem.style[a.prop]!=null?(b=p.css(a.elem,a.prop,!1,""),!b||b==="auto"?0:b):a.elem[a.prop]},set:function(a){p.fx.step[a.prop]?p.fx.step[a.prop](a):a.elem.style&&(a.elem.style[p.cssProps[a.prop]]!=null||p.cssHooks[a.prop])?p.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},cZ.propHooks.scrollTop=cZ.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},p.each(["toggle","show","hide"],function(a,b){var c=p.fn[b];p.fn[b]=function(d,e,f){return d==null||typeof d=="boolean"||!a&&p.isFunction(d)&&p.isFunction(e)?c.apply(this,arguments):this.animate(c$(b,!0),d,e,f)}}),p.fn.extend({fadeTo:function(a,b,c,d){return this.filter(bZ).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=p.isEmptyObject(a),f=p.speed(b,c,d),g=function(){var b=cW(this,p.extend({},a),f);e&&b.stop(!0)};return e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,c,d){var e=function(a){var b=a.stop;delete a.stop,b(d)};return typeof a!="string"&&(d=c,c=a,a=b),c&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,c=a!=null&&a+"queueHooks",f=p.timers,g=p._data(this);if(c)g[c]&&g[c].stop&&e(g[c]);else for(c in g)g[c]&&g[c].stop&&cR.test(c)&&e(g[c]);for(c=f.length;c--;)f[c].elem===this&&(a==null||f[c].queue===a)&&(f[c].anim.stop(d),b=!1,f.splice(c,1));(b||!d)&&p.dequeue(this,a)})}}),p.each({slideDown:c$("show"),slideUp:c$("hide"),slideToggle:c$("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){p.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),p.speed=function(a,b,c){var d=a&&typeof a=="object"?p.extend({},a):{complete:c||!c&&b||p.isFunction(a)&&a,duration:a,easing:c&&b||b&&!p.isFunction(b)&&b};d.duration=p.fx.off?0:typeof d.duration=="number"?d.duration:d.duration in p.fx.speeds?p.fx.speeds[d.duration]:p.fx.speeds._default;if(d.queue==null||d.queue===!0)d.queue="fx";return d.old=d.complete,d.complete=function(){p.isFunction(d.old)&&d.old.call(this),d.queue&&p.dequeue(this,d.queue)},d},p.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}},p.timers=[],p.fx=cZ.prototype.init,p.fx.tick=function(){var a,b=p.timers,c=0;for(;c<b.length;c++)a=b[c],!a()&&b[c]===a&&b.splice(c--,1);b.length||p.fx.stop()},p.fx.timer=function(a){a()&&p.timers.push(a)&&!cO&&(cO=setInterval(p.fx.tick,p.fx.interval))},p.fx.interval=13,p.fx.stop=function(){clearInterval(cO),cO=null},p.fx.speeds={slow:600,fast:200,_default:400},p.fx.step={},p.expr&&p.expr.filters&&(p.expr.filters.animated=function(a){return p.grep(p.timers,function(b){return a===b.elem}).length});var c_=/^(?:body|html)$/i;p.fn.offset=function(a){if(arguments.length)return a===b?this:this.each(function(b){p.offset.setOffset(this,a,b)});var c,d,e,f,g,h,i,j={top:0,left:0},k=this[0],l=k&&k.ownerDocument;if(!l)return;return(d=l.body)===k?p.offset.bodyOffset(k):(c=l.documentElement,p.contains(c,k)?(typeof k.getBoundingClientRect!="undefined"&&(j=k.getBoundingClientRect()),e=da(l),f=c.clientTop||d.clientTop||0,g=c.clientLeft||d.clientLeft||0,h=e.pageYOffset||c.scrollTop,i=e.pageXOffset||c.scrollLeft,{top:j.top+h-f,left:j.left+i-g}):j)},p.offset={bodyOffset:function(a){var b=a.offsetTop,c=a.offsetLeft;return p.support.doesNotIncludeMarginInBodyOffset&&(b+=parseFloat(p.css(a,"marginTop"))||0,c+=parseFloat(p.css(a,"marginLeft"))||0),{top:b,left:c}},setOffset:function(a,b,c){var d=p.css(a,"position");d==="static"&&(a.style.position="relative");var e=p(a),f=e.offset(),g=p.css(a,"top"),h=p.css(a,"left"),i=(d==="absolute"||d==="fixed")&&p.inArray("auto",[g,h])>-1,j={},k={},l,m;i?(k=e.position(),l=k.top,m=k.left):(l=parseFloat(g)||0,m=parseFloat(h)||0),p.isFunction(b)&&(b=b.call(a,c,f)),b.top!=null&&(j.top=b.top-f.top+l),b.left!=null&&(j.left=b.left-f.left+m),"using"in b?b.using.call(a,j):e.css(j)}},p.fn.extend({position:function(){if(!this[0])return;var a=this[0],b=this.offsetParent(),c=this.offset(),d=c_.test(b[0].nodeName)?{top:0,left:0}:b.offset();return c.top-=parseFloat(p.css(a,"marginTop"))||0,c.left-=parseFloat(p.css(a,"marginLeft"))||0,d.top+=parseFloat(p.css(b[0],"borderTopWidth"))||0,d.left+=parseFloat(p.css(b[0],"borderLeftWidth"))||0,{top:c.top-d.top,left:c.left-d.left}},offsetParent:function(){return this.map(function(){var a=this.offsetParent||e.body;while(a&&!c_.test(a.nodeName)&&p.css(a,"position")==="static")a=a.offsetParent;return a||e.body})}}),p.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,c){var d=/Y/.test(c);p.fn[a]=function(e){return p.access(this,function(a,e,f){var g=da(a);if(f===b)return g?c in g?g[c]:g.document.documentElement[e]:a[e];g?g.scrollTo(d?p(g).scrollLeft():f,d?f:p(g).scrollTop()):a[e]=f},a,e,arguments.length,null)}}),p.each({Height:"height",Width:"width"},function(a,c){p.each({padding:"inner"+a,content:c,"":"outer"+a},function(d,e){p.fn[e]=function(e,f){var g=arguments.length&&(d||typeof e!="boolean"),h=d||(e===!0||f===!0?"margin":"border");return p.access(this,function(c,d,e){var f;return p.isWindow(c)?c.document.documentElement["client"+a]:c.nodeType===9?(f=c.documentElement,Math.max(c.body["scroll"+a],f["scroll"+a],c.body["offset"+a],f["offset"+a],f["client"+a])):e===b?p.css(c,d,e,h):p.style(c,d,e,h)},c,g?e:b,g,null)}})}),a.jQuery=a.$=p,typeof define=="function"&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return p})})(window);

;
/* NUGET: BEGIN LICENSE TEXT
 *
 * Microsoft grants you the right to use these script files for the sole
 * purpose of either: (i) interacting through your browser with the Microsoft
 * website or online service, subject to the applicable licensing or use
 * terms; or (ii) using the files as included with a Microsoft product subject
 * to that product's license terms. Microsoft reserves all other rights to the
 * files not expressly granted by Microsoft, whether by implication, estoppel
 * or otherwise. Insofar as a script file is dual licensed under GPL,
 * Microsoft neither took the code under GPL nor distributes it thereunder but
 * under the terms set out in this paragraph. All notices and licenses
 * below are for informational purposes only.
 *
 * ASP.NET SignalR JavaScript Library v2.0.2; Copyright (C) Microsoft Corporation; https://github.com/SignalR/SignalR/blob/master/LICENSE.md
 *
 * NUGET: END LICENSE TEXT */
/*!
 * ASP.NET SignalR JavaScript Library v2.0.2
 * http://signalr.net/
 *
 * Copyright (C) Microsoft Corporation. All rights reserved.
 *
 */
(function(n,t,i){"use strict";function p(t,i){var u,f;if(n.isArray(t)){for(u=t.length-1;u>=0;u--)f=t[u],n.type(f)==="string"&&r.transports[f]||(i.log("Invalid transport: "+f+", removing it from the transports list."),t.splice(u,1));t.length===0&&(i.log("No transports remain within the specified transport array."),t=null)}else if(r.transports[t]||t==="auto"){if(t==="auto"&&r._.ieVersion<=8)return["longPolling"]}else i.log("Invalid transport: "+t.toString()+"."),t=null;return t}function w(n){return n==="http:"?80:n==="https:"?443:void 0}function l(n,t){return t.match(/:\d+$/)?t:t+":"+w(n)}function b(t,i){var u=this,r=[];u.tryBuffer=function(i){return t.state===n.signalR.connectionState.connecting?(r.push(i),!0):!1};u.drain=function(){if(t.state===n.signalR.connectionState.connected)while(r.length>0)i(r.shift())};u.clear=function(){r=[]}}var f={nojQuery:"jQuery was not found. Please ensure jQuery is referenced before the SignalR client JavaScript file.",noTransportOnInit:"No transport could be initialized successfully. Try specifying a different transport or none at all for auto initialization.",errorOnNegotiate:"Error during negotiation request.",stoppedWhileLoading:"The connection was stopped during page load.",stoppedWhileNegotiating:"The connection was stopped during the negotiate request.",errorParsingNegotiateResponse:"Error parsing negotiate response.",protocolIncompatible:"You are using a version of the client that isn't compatible with the server. Client version {0}, server version {1}.",sendFailed:"Send failed.",parseFailed:"Failed at parsing response: {0}",longPollFailed:"Long polling request failed.",eventSourceFailedToConnect:"EventSource failed to connect.",eventSourceError:"Error raised by EventSource",webSocketClosed:"WebSocket closed.",pingServerFailedInvalidResponse:"Invalid ping response when pinging server: '{0}'.",pingServerFailed:"Failed to ping server.",pingServerFailedStatusCode:"Failed to ping server.  Server responded with status code {0}, stopping the connection.",pingServerFailedParse:"Failed to parse ping server response, stopping the connection.",noConnectionTransport:"Connection is in an invalid state, there is no transport active.",webSocketsInvalidState:"The Web Socket transport is in an invalid state, transitioning into reconnecting."};if(typeof n!="function")throw new Error(f.nojQuery);var r,h,s=t.document.readyState==="complete",e=n(t),c="__Negotiate Aborted__",u={onStart:"onStart",onStarting:"onStarting",onReceived:"onReceived",onError:"onError",onConnectionSlow:"onConnectionSlow",onReconnecting:"onReconnecting",onReconnect:"onReconnect",onStateChanged:"onStateChanged",onDisconnect:"onDisconnect"},a=function(n,i){if(i!==!1){var r;typeof t.console!="undefined"&&(r="["+(new Date).toTimeString()+"] SignalR: "+n,t.console.debug?t.console.debug(r):t.console.log&&t.console.log(r))}},o=function(t,i,r){return i===t.state?(t.state=r,n(t).triggerHandler(u.onStateChanged,[{oldState:i,newState:r}]),!0):!1},v=function(n){return n.state===r.connectionState.disconnected},y=function(n){var i,u;n._.configuredStopReconnectingTimeout||(u=function(n){n.log("Couldn't reconnect within the configured timeout ("+n.disconnectTimeout+"ms), disconnecting.");n.stop(!1,!1)},n.reconnecting(function(){var n=this;n.state===r.connectionState.reconnecting&&(i=t.setTimeout(function(){u(n)},n.disconnectTimeout))}),n.stateChanged(function(n){n.oldState===r.connectionState.reconnecting&&t.clearTimeout(i)}),n._.configuredStopReconnectingTimeout=!0)};r=function(n,t,i){return new r.fn.init(n,t,i)};r._={defaultContentType:"application/x-www-form-urlencoded; charset=UTF-8",ieVersion:function(){var i,n;return t.navigator.appName==="Microsoft Internet Explorer"&&(n=/MSIE ([0-9]+\.[0-9]+)/.exec(t.navigator.userAgent),n&&(i=t.parseFloat(n[1]))),i}(),error:function(n,t,i){var r=new Error(n);return r.source=t,typeof i!="undefined"&&(r.context=i),r},transportError:function(n,t,r,u){var f=this.error(n,r,u);return f.transport=t?t.name:i,f},format:function(){for(var t=arguments[0],n=0;n<arguments.length-1;n++)t=t.replace("{"+n+"}",arguments[n+1]);return t},firefoxMajorVersion:function(n){var t=n.match(/Firefox\/(\d+)/);return!t||!t.length||t.length<2?0:parseInt(t[1],10)},configurePingInterval:function(i){var f=i._.config,e=function(t){n(i).triggerHandler(u.onError,[t])};f&&!i._.pingIntervalId&&f.pingInterval&&(i._.pingIntervalId=t.setInterval(function(){r.transports._logic.pingServer(i).fail(e)},f.pingInterval))}};r.events=u;r.resources=f;r.ajaxDefaults={processData:!0,timeout:null,async:!0,global:!1,cache:!1};r.changeState=o;r.isDisconnecting=v;r.connectionState={connecting:0,connected:1,reconnecting:2,disconnected:4};r.hub={start:function(){throw new Error("SignalR: Error loading hubs. Ensure your hubs reference is correct, e.g. <script src='/signalr/js'><\/script>.");}};e.load(function(){s=!0});r.fn=r.prototype={init:function(t,i,r){var f=n(this);this.url=t;this.qs=i;this._={keepAliveData:{},connectingMessageBuffer:new b(this,function(n){f.triggerHandler(u.onReceived,[n])}),onFailedTimeoutHandle:null,lastMessageAt:(new Date).getTime(),lastActiveAt:(new Date).getTime(),beatInterval:5e3,beatHandle:null};typeof r=="boolean"&&(this.logging=r)},_parseResponse:function(n){var t=this;return n?typeof n=="string"?t.json.parse(n):n:n},json:t.JSON,isCrossDomain:function(i,r){var u;return(i=n.trim(i),r=r||t.location,i.indexOf("http")!==0)?!1:(u=t.document.createElement("a"),u.href=i,u.protocol+l(u.protocol,u.host)!==r.protocol+l(r.protocol,r.host))},ajaxDataType:"text",contentType:"application/json; charset=UTF-8",logging:!1,state:r.connectionState.disconnected,clientProtocol:"1.3",reconnectDelay:2e3,transportConnectTimeout:0,disconnectTimeout:3e4,reconnectWindow:3e4,keepAliveWarnAt:2/3,start:function(i,h){var l=this,a={pingInterval:3e5,waitForPageLoad:!0,transport:"auto",jsonp:!1},k,v=l._deferral||n.Deferred(),w=t.document.createElement("a"),b,d;if(l._deferral=v,!l.json)throw new Error("SignalR: No JSON parser found. Please ensure json2.js is referenced before the SignalR.js file if you need to support clients without native JSON parsing support, e.g. IE<8.");if(n.type(i)==="function"?h=i:n.type(i)==="object"&&(n.extend(a,i),n.type(a.callback)==="function"&&(h=a.callback)),a.transport=p(a.transport,l),!a.transport)throw new Error("SignalR: Invalid transport(s) specified, aborting start.");return(l._.config=a,!s&&a.waitForPageLoad===!0)?(l._.deferredStartHandler=function(){l.start(i,h)},e.bind("load",l._.deferredStartHandler),v.promise()):l.state===r.connectionState.connecting?v.promise():o(l,r.connectionState.disconnected,r.connectionState.connecting)===!1?(v.resolve(l),v.promise()):(y(l),w.href=l.url,w.protocol&&w.protocol!==":"?(l.protocol=w.protocol,l.host=w.host,l.baseUrl=w.protocol+"//"+w.host):(l.protocol=t.document.location.protocol,l.host=t.document.location.host,l.baseUrl=l.protocol+"//"+l.host),l.wsProtocol=l.protocol==="https:"?"wss://":"ws://",a.transport==="auto"&&a.jsonp===!0&&(a.transport="longPolling"),l.url.indexOf("//")===0&&(l.url=t.location.protocol+l.url,l.log("Protocol relative URL detected, normalizing it to '"+l.url+"'.")),this.isCrossDomain(l.url)&&(l.log("Auto detected cross domain url."),a.transport==="auto"&&(a.transport=["webSockets","longPolling"]),typeof a.withCredentials=="undefined"&&(a.withCredentials=!0),a.jsonp||(a.jsonp=!n.support.cors,a.jsonp&&l.log("Using jsonp because this browser doesn't support CORS.")),l.contentType=r._.defaultContentType),l.withCredentials=a.withCredentials,l.ajaxDataType=a.jsonp?"jsonp":"text",n(l).bind(u.onStart,function(){n.type(h)==="function"&&h.call(l);v.resolve(l)}),k=function(i,s){var y=r._.error(f.noTransportOnInit);if(s=s||0,s>=i.length){n(l).triggerHandler(u.onError,[y]);v.reject(y);l.stop();return}if(l.state!==r.connectionState.disconnected){var p=i[s],h=r.transports[p],c=!1,a=function(){c||(c=!0,t.clearTimeout(l._.onFailedTimeoutHandle),h.stop(l),k(i,s+1))};l.transport=h;try{l._.onFailedTimeoutHandle=t.setTimeout(function(){l.log(h.name+" timed out when trying to connect.");a()},l.transportConnectTimeout);h.start(l,function(){var i=r._.firefoxMajorVersion(t.navigator.userAgent)>=11,f=!!l.withCredentials&&i;l.state!==r.connectionState.disconnected&&(c||(c=!0,t.clearTimeout(l._.onFailedTimeoutHandle),h.supportsKeepAlive&&l._.keepAliveData.activated&&r.transports._logic.monitorKeepAlive(l),r.transports._logic.startHeartbeat(l),r._.configurePingInterval(l),o(l,r.connectionState.connecting,r.connectionState.connected),l._.connectingMessageBuffer.drain(),n(l).triggerHandler(u.onStart),e.bind("unload",function(){l.log("Window unloading, stopping the connection.");l.stop(f)}),i&&e.bind("beforeunload",function(){t.setTimeout(function(){l.stop(f)},0)})))},a)}catch(w){l.log(h.name+" transport threw '"+w.message+"' when attempting to start.");a()}}},b=l.url+"/negotiate",d=function(t,i){var e=r._.error(f.errorOnNegotiate,t,i._.negotiateRequest);n(i).triggerHandler(u.onError,e);v.reject(e);i.stop()},n(l).triggerHandler(u.onStarting),b=r.transports._logic.prepareQueryString(l,b),b=r.transports._logic.addQs(b,{clientProtocol:l.clientProtocol}),l.log("Negotiating with '"+b+"'."),l._.negotiateRequest=n.ajax(n.extend({},n.signalR.ajaxDefaults,{xhrFields:{withCredentials:l.withCredentials},url:b,type:"GET",contentType:l.contentType,data:{},dataType:l.ajaxDataType,error:function(n,t){t!==c?d(n,l):v.reject(r._.error(f.stoppedWhileNegotiating,null,l._.negotiateRequest))},success:function(t){var i,e,h,o=[],s=[];try{i=l._parseResponse(t)}catch(c){d(r._.error(f.errorParsingNegotiateResponse,c),l);return}if(e=l._.keepAliveData,l.appRelativeUrl=i.Url,l.id=i.ConnectionId,l.token=i.ConnectionToken,l.webSocketServerUrl=i.WebSocketServerUrl,l.disconnectTimeout=i.DisconnectTimeout*1e3,l.transportConnectTimeout=l.transportConnectTimeout+i.TransportConnectTimeout*1e3,i.KeepAliveTimeout?(e.activated=!0,e.timeout=i.KeepAliveTimeout*1e3,e.timeoutWarning=e.timeout*l.keepAliveWarnAt,l._.beatInterval=(e.timeout-e.timeoutWarning)/3):e.activated=!1,l.reconnectWindow=l.disconnectTimeout+(e.timeout||0),!i.ProtocolVersion||i.ProtocolVersion!==l.clientProtocol){h=r._.error(r._.format(f.protocolIncompatible,l.clientProtocol,i.ProtocolVersion));n(l).triggerHandler(u.onError,[h]);v.reject(h);return}n.each(r.transports,function(n){if(n.indexOf("_")===0||n==="webSockets"&&!i.TryWebSockets)return!0;s.push(n)});n.isArray(a.transport)?n.each(a.transport,function(t,i){n.inArray(i,s)>=0&&o.push(i)}):a.transport==="auto"?o=s:n.inArray(a.transport,s)>=0&&o.push(a.transport);k(o)}})),v.promise())},starting:function(t){var i=this;return n(i).bind(u.onStarting,function(){t.call(i)}),i},send:function(n){var t=this;if(t.state===r.connectionState.disconnected)throw new Error("SignalR: Connection must be started before data can be sent. Call .start() before .send()");if(t.state===r.connectionState.connecting)throw new Error("SignalR: Connection has not been fully initialized. Use .start().done() or .start().fail() to run logic after the connection has started.");return t.transport.send(t,n),t},received:function(t){var i=this;return n(i).bind(u.onReceived,function(n,r){t.call(i,r)}),i},stateChanged:function(t){var i=this;return n(i).bind(u.onStateChanged,function(n,r){t.call(i,r)}),i},error:function(t){var i=this;return n(i).bind(u.onError,function(n,r,u){t.call(i,r,u)}),i},disconnected:function(t){var i=this;return n(i).bind(u.onDisconnect,function(){t.call(i)}),i},connectionSlow:function(t){var i=this;return n(i).bind(u.onConnectionSlow,function(){t.call(i)}),i},reconnecting:function(t){var i=this;return n(i).bind(u.onReconnecting,function(){t.call(i)}),i},reconnected:function(t){var i=this;return n(i).bind(u.onReconnect,function(){t.call(i)}),i},stop:function(i,h){var l=this,a=l._deferral;if(l._.deferredStartHandler&&e.unbind("load",l._.deferredStartHandler),delete l._deferral,delete l._.config,delete l._.deferredStartHandler,!s&&(!l._.config||l._.config.waitForPageLoad===!0)){l.log("Stopping connection prior to negotiate.");a&&a.reject(r._.error(f.stoppedWhileLoading));return}if(l.state!==r.connectionState.disconnected)return l.log("Stopping connection."),o(l,l.state,r.connectionState.disconnected),t.clearTimeout(l._.beatHandle),t.clearTimeout(l._.onFailedTimeoutHandle),t.clearInterval(l._.pingIntervalId),l.transport&&(l.transport.stop(l),h!==!1&&l.transport.abort(l,i),l.transport.supportsKeepAlive&&l._.keepAliveData.activated&&r.transports._logic.stopMonitoringKeepAlive(l),l.transport=null),l._.negotiateRequest&&(l._.negotiateRequest.abort(c),delete l._.negotiateRequest),n(l).triggerHandler(u.onDisconnect),delete l.messageId,delete l.groupsToken,delete l.id,delete l._.pingIntervalId,delete l._.lastMessageAt,delete l._.lastActiveAt,l._.connectingMessageBuffer.clear(),l},log:function(n){a(n,this.logging)}};r.fn.init.prototype=r.fn;r.noConflict=function(){return n.connection===r&&(n.connection=h),r};n.connection&&(h=n.connection);n.connection=n.signalR=r})(window.jQuery,window),function(n,t){"use strict";function f(n){n._.keepAliveData.monitoring&&o(n);r.markActive(n)&&(n._.beatHandle=t.setTimeout(function(){f(n)},n._.beatInterval))}function o(t){var r=t._.keepAliveData,f;t.state===i.connectionState.connected&&(f=(new Date).getTime()-t._.lastMessageAt,f>=r.timeout?(t.log("Keep alive timed out.  Notifying transport that connection has been lost."),t.transport.lostConnection(t)):f>=r.timeoutWarning?r.userNotified||(t.log("Keep alive has been missed, connection may be dead/slow."),n(t).triggerHandler(u.onConnectionSlow),r.userNotified=!0):r.userNotified=!1)}function s(n){return n.state===i.connectionState.connected||n.state===i.connectionState.reconnecting}function h(n,i){var r=n.indexOf("?")!==-1?"&":"?";return i&&(n+=r+"connectionData="+t.encodeURIComponent(i)),n}var i=n.signalR,u=n.signalR.events,e=n.signalR.changeState,r;i.transports={};r=i.transports._logic={pingServer:function(t){var e,u=n.Deferred(),f;return t.transport?(e=t.url+"/ping",e=r.addQs(e,t.qs),f=n.ajax(n.extend({},n.signalR.ajaxDefaults,{xhrFields:{withCredentials:t.withCredentials},url:e,type:"GET",contentType:t.contentType,data:{},dataType:t.ajaxDataType,success:function(n){var r;try{r=t._parseResponse(n)}catch(e){u.reject(i._.transportError(i.resources.pingServerFailedParse,t.transport,e,f));t.stop();return}r.Response==="pong"?u.resolve():u.reject(i._.transportError(i._.format(i.resources.pingServerFailedInvalidResponse,n.responseText),t.transport,null,f))},error:function(n){n.status===401||n.status===403?(u.reject(i._.transportError(i._.format(i.resources.pingServerFailedStatusCode,n.status),t.transport,n,f)),t.stop()):u.reject(i._.transportError(i.resources.pingServerFailed,t.transport,n,f))}}))):u.reject(i._.transportError(i.resources.noConnectionTransport,t.transport)),u.promise()},prepareQueryString:function(n,t){return t=r.addQs(t,n.qs),h(t,n.data)},addQs:function(t,i){var r=t.indexOf("?")!==-1?"&":"?",u;if(!i)return t;if(typeof i=="object")return t+r+n.param(i);if(typeof i=="string")return u=i.charAt(0),(u==="?"||u==="&")&&(r=""),t+r+i;throw new Error("Query string property must be either a string or object.");},getUrl:function(n,i,u,f){var s=i==="webSockets"?"":n.baseUrl,e=s+n.appRelativeUrl,o="transport="+i+"&connectionToken="+t.encodeURIComponent(n.token);return n.groupsToken&&(o+="&groupsToken="+t.encodeURIComponent(n.groupsToken)),u?(e+=f?"/poll":"/reconnect",n.messageId&&(o+="&messageId="+t.encodeURIComponent(n.messageId))):e+="/connect",e+="?"+o,e=r.prepareQueryString(n,e),e+("&tid="+Math.floor(Math.random()*11))},maximizePersistentResponse:function(n){return{MessageId:n.C,Messages:n.M,Initialized:typeof n.S!="undefined"?!0:!1,Disconnect:typeof n.D!="undefined"?!0:!1,ShouldReconnect:typeof n.T!="undefined"?!0:!1,LongPollDelay:n.L,GroupsToken:n.G}},updateGroups:function(n,t){t&&(n.groupsToken=t)},stringifySend:function(n,t){return typeof t=="string"||typeof t=="undefined"||t===null?t:n.json.stringify(t)},ajaxSend:function(f,e){var c=r.stringifySend(f,e),o=f.url+"/send?transport="+f.transport.name+"&connectionToken="+t.encodeURIComponent(f.token),s,h=function(t,r){n(r).triggerHandler(u.onError,[i._.transportError(i.resources.sendFailed,r.transport,t,s),e])};return o=r.prepareQueryString(f,o),s=n.ajax(n.extend({},n.signalR.ajaxDefaults,{xhrFields:{withCredentials:f.withCredentials},url:o,type:f.ajaxDataType==="jsonp"?"GET":"POST",contentType:i._.defaultContentType,dataType:f.ajaxDataType,data:{data:c},success:function(n){var t;if(n){try{t=f._parseResponse(n)}catch(i){h(i,f);f.stop();return}r.triggerReceived(f,t)}},error:function(n,t){t!=="abort"&&t!=="parsererror"&&h(n,f)}}))},ajaxAbort:function(i,u){if(typeof i.transport!="undefined"){u=typeof u=="undefined"?!0:u;var f=i.url+"/abort?transport="+i.transport.name+"&connectionToken="+t.encodeURIComponent(i.token);f=r.prepareQueryString(i,f);n.ajax(n.extend({},n.signalR.ajaxDefaults,{xhrFields:{withCredentials:i.withCredentials},url:f,async:u,timeout:1e3,type:"POST",contentType:i.contentType,dataType:i.ajaxDataType,data:{}}));i.log("Fired ajax abort async = "+u+".")}},tryInitialize:function(n,t){n.Initialized&&t()},triggerReceived:function(t,i){t._.connectingMessageBuffer.tryBuffer(i)||n(t).triggerHandler(u.onReceived,[i])},processMessages:function(t,i,u){var f;if(r.markLastMessage(t),i){if(f=r.maximizePersistentResponse(i),f.Disconnect){t.log("Disconnect command received from server.");t.stop(!1,!1);return}r.updateGroups(t,f.GroupsToken);f.MessageId&&(t.messageId=f.MessageId);f.Messages&&(n.each(f.Messages,function(n,i){r.triggerReceived(t,i)}),r.tryInitialize(f,u))}},monitorKeepAlive:function(t){var i=t._.keepAliveData;i.monitoring?t.log("Tried to monitor keep alive but it's already being monitored."):(i.monitoring=!0,r.markLastMessage(t),t._.keepAliveData.reconnectKeepAliveUpdate=function(){r.markLastMessage(t)},n(t).bind(u.onReconnect,t._.keepAliveData.reconnectKeepAliveUpdate),t.log("Now monitoring keep alive with a warning timeout of "+i.timeoutWarning+" and a connection lost timeout of "+i.timeout+"."))},stopMonitoringKeepAlive:function(t){var i=t._.keepAliveData;i.monitoring&&(i.monitoring=!1,n(t).unbind(u.onReconnect,t._.keepAliveData.reconnectKeepAliveUpdate),t._.keepAliveData={},t.log("Stopping the monitoring of the keep alive."))},startHeartbeat:function(n){f(n)},markLastMessage:function(n){n._.lastMessageAt=(new Date).getTime()},markActive:function(n){return r.verifyLastActive(n)?(n._.lastActiveAt=(new Date).getTime(),!0):!1},ensureReconnectingState:function(t){return e(t,i.connectionState.connected,i.connectionState.reconnecting)===!0&&n(t).triggerHandler(u.onReconnecting),t.state===i.connectionState.reconnecting},clearReconnectTimeout:function(n){n&&n._.reconnectTimeout&&(t.clearTimeout(n._.reconnectTimeout),delete n._.reconnectTimeout)},verifyLastActive:function(n){return(new Date).getTime()-n._.lastActiveAt>=n.reconnectWindow?(n.log("There has not been an active server connection for an extended period of time. Stopping connection."),n.stop(),!1):!0},reconnect:function(n,u){var f=i.transports[u];if(s(n)&&!n._.reconnectTimeout){if(!r.verifyLastActive(n))return;n._.reconnectTimeout=t.setTimeout(function(){r.verifyLastActive(n)&&(f.stop(n),r.ensureReconnectingState(n)&&(n.log(u+" reconnecting."),f.start(n)))},n.reconnectDelay)}},handleParseFailure:function(t,r,f,e,o){t.state===i.connectionState.connecting?(t.log("Failed to parse server response while attempting to connect."),e()):(n(t).triggerHandler(u.onError,[i._.transportError(i._.format(i.resources.parseFailed,r),t.transport,f,o)]),t.stop())},foreverFrame:{count:0,connections:{}}}}(window.jQuery,window),function(n,t){"use strict";var r=n.signalR,u=n.signalR.events,f=n.signalR.changeState,i=r.transports._logic;r.transports.webSockets={name:"webSockets",supportsKeepAlive:!0,send:function(t,f){var e=i.stringifySend(t,f);try{t.socket.send(e)}catch(o){n(t).triggerHandler(u.onError,[r._.transportError(r.resources.webSocketsInvalidState,t.transport,o,t.socket),f])}},start:function(e,o,s){var h,c=!1,l=this,a=!o,v=n(e);if(!t.WebSocket){s();return}e.socket||(h=e.webSocketServerUrl?e.webSocketServerUrl:e.wsProtocol+e.host,h+=i.getUrl(e,this.name,a),e.log("Connecting to websocket endpoint '"+h+"'."),e.socket=new t.WebSocket(h),e.socket.onopen=function(){c=!0;e.log("Websocket opened.");i.clearReconnectTimeout(e);f(e,r.connectionState.reconnecting,r.connectionState.connected)===!0&&v.triggerHandler(u.onReconnect)},e.socket.onclose=function(t){if(this===e.socket){if(c)typeof t.wasClean!="undefined"&&t.wasClean===!1?(n(e).triggerHandler(u.onError,[r._.transportError(r.resources.webSocketClosed,e.transport,t)]),e.log("Unclean disconnect from websocket: "+t.reason||"[no reason given].")):e.log("Websocket closed.");else{s?s():a&&l.reconnect(e);return}l.reconnect(e)}},e.socket.onmessage=function(t){var r;try{r=e._parseResponse(t.data)}catch(u){i.handleParseFailure(e,t.data,u,s,t);return}r&&(n.isEmptyObject(r)||r.M?i.processMessages(e,r,o):i.triggerReceived(e,r))})},reconnect:function(n){i.reconnect(n,this.name)},lostConnection:function(n){this.reconnect(n)},stop:function(n){i.clearReconnectTimeout(n);n.socket&&(n.log("Closing the Websocket."),n.socket.close(),n.socket=null)},abort:function(n,t){i.ajaxAbort(n,t)}}}(window.jQuery,window),function(n,t){"use strict";var i=n.signalR,u=n.signalR.events,f=n.signalR.changeState,r=i.transports._logic;i.transports.serverSentEvents={name:"serverSentEvents",supportsKeepAlive:!0,timeOut:3e3,start:function(e,o,s){var h=this,c=!1,l=n(e),a=!o,v,y;if(e.eventSource&&(e.log("The connection already has an event source. Stopping it."),e.stop()),!t.EventSource){s&&(e.log("This browser doesn't support SSE."),s());return}v=r.getUrl(e,this.name,a);try{e.log("Attempting to connect to SSE endpoint '"+v+"'.");e.eventSource=new t.EventSource(v)}catch(p){e.log("EventSource failed trying to connect with error "+p.Message+".");s?s():(l.triggerHandler(u.onError,[i._.transportError(i.resources.eventSourceFailedToConnect,e.transport,p)]),a&&h.reconnect(e));return}a&&(y=t.setTimeout(function(){c===!1&&e.eventSource.readyState!==t.EventSource.OPEN&&h.reconnect(e)},h.timeOut));e.eventSource.addEventListener("open",function(){e.log("EventSource connected.");y&&t.clearTimeout(y);r.clearReconnectTimeout(e);c===!1&&(c=!0,f(e,i.connectionState.reconnecting,i.connectionState.connected)===!0&&l.triggerHandler(u.onReconnect))},!1);e.eventSource.addEventListener("message",function(n){var t;if(n.data!=="initialized"){try{t=e._parseResponse(n.data)}catch(i){r.handleParseFailure(e,n.data,i,s,n);return}r.processMessages(e,t,o)}},!1);e.eventSource.addEventListener("error",function(n){if(this===e.eventSource){if(!c){s&&s();return}e.log("EventSource readyState: "+e.eventSource.readyState+".");n.eventPhase===t.EventSource.CLOSED?(e.log("EventSource reconnecting due to the server connection ending."),h.reconnect(e)):(e.log("EventSource error."),l.triggerHandler(u.onError,[i._.transportError(i.resources.eventSourceError,e.transport,n)]))}},!1)},reconnect:function(n){r.reconnect(n,this.name)},lostConnection:function(n){this.reconnect(n)},send:function(n,t){r.ajaxSend(n,t)},stop:function(n){r.clearReconnectTimeout(n);n&&n.eventSource&&(n.log("EventSource calling close()."),n.eventSource.close(),n.eventSource=null,delete n.eventSource)},abort:function(n,t){r.ajaxAbort(n,t)}}}(window.jQuery,window),function(n,t){"use strict";var r=n.signalR,e=n.signalR.events,o=n.signalR.changeState,i=r.transports._logic,u=function(){var n=t.document.createElement("iframe");return n.setAttribute("style","position:absolute;top:0;left:0;width:0;height:0;visibility:hidden;"),n},f=function(){var i=null,f=1e3,n=0;return{prevent:function(){r._.ieVersion<=8&&(n===0&&(i=t.setInterval(function(){var n=u();t.document.body.appendChild(n);t.document.body.removeChild(n);n=null},f)),n++)},cancel:function(){n===1&&t.clearInterval(i);n>0&&n--}}}();r.transports.foreverFrame={name:"foreverFrame",supportsKeepAlive:!0,iframeClearThreshold:50,start:function(n,r,e){var l=this,s=i.foreverFrame.count+=1,h,o=u(),c=function(){n.log("Forever frame iframe finished loading and is no longer receiving messages, reconnecting.");l.reconnect(n)};if(t.EventSource){e&&(n.log("This browser supports SSE, skipping Forever Frame."),e());return}o.setAttribute("data-signalr-connection-id",n.id);f.prevent();h=i.getUrl(n,this.name);h+="&frameId="+s;t.document.body.appendChild(o);n.log("Binding to iframe's load event.");o.addEventListener?o.addEventListener("load",c,!1):o.attachEvent&&o.attachEvent("onload",c);o.src=h;i.foreverFrame.connections[s]=n;n.frame=o;n.frameId=s;r&&(n.onSuccess=function(){n.log("Iframe transport started.");r()})},reconnect:function(n){var r=this;i.verifyLastActive(n)&&t.setTimeout(function(){if(i.verifyLastActive(n)&&n.frame&&i.ensureReconnectingState(n)){var u=n.frame,t=i.getUrl(n,r.name,!0)+"&frameId="+n.frameId;n.log("Updating iframe src to '"+t+"'.");u.src=t}},n.reconnectDelay)},lostConnection:function(n){this.reconnect(n)},send:function(n,t){i.ajaxSend(n,t)},receive:function(t,u){var f,e;if(i.processMessages(t,u,t.onSuccess),t.state===n.signalR.connectionState.connected&&(t.frameMessageCount=(t.frameMessageCount||0)+1,t.frameMessageCount>r.transports.foreverFrame.iframeClearThreshold&&(t.frameMessageCount=0,f=t.frame.contentWindow||t.frame.contentDocument,f&&f.document&&f.document.body)))for(e=f.document.body;e.firstChild;)e.removeChild(e.firstChild)},stop:function(n){var r=null;if(f.cancel(),n.frame){if(n.frame.stop)n.frame.stop();else try{r=n.frame.contentWindow||n.frame.contentDocument;r.document&&r.document.execCommand&&r.document.execCommand("Stop")}catch(u){n.log("Error occured when stopping foreverFrame transport. Message = "+u.message+".")}n.frame.parentNode===t.document.body&&t.document.body.removeChild(n.frame);delete i.foreverFrame.connections[n.frameId];n.frame=null;n.frameId=null;delete n.frame;delete n.frameId;delete n.onSuccess;delete n.frameMessageCount;n.log("Stopping forever frame.")}},abort:function(n,t){i.ajaxAbort(n,t)},getConnection:function(n){return i.foreverFrame.connections[n]},started:function(t){o(t,r.connectionState.reconnecting,r.connectionState.connected)===!0&&n(t).triggerHandler(e.onReconnect)}}}(window.jQuery,window),function(n,t){"use strict";var i=n.signalR,u=n.signalR.events,e=n.signalR.changeState,f=n.signalR.isDisconnecting,r=i.transports._logic;i.transports.longPolling={name:"longPolling",supportsKeepAlive:!1,reconnectDelay:3e3,start:function(o,s,h){var a=this,v=function(){v=n.noop;o.log("LongPolling connected.");s();h=null},y=function(){return h?(h(),h=null,o.log("LongPolling failed to connect."),!0):!1},c=o._,l=0,p=function(r){t.clearTimeout(c.reconnectTimeoutId);c.reconnectTimeoutId=null;e(r,i.connectionState.reconnecting,i.connectionState.connected)===!0&&(r.log("Raising the reconnect event"),n(r).triggerHandler(u.onReconnect))},w=36e5;o.pollXhr&&(o.log("Polling xhr requests already exists, aborting."),o.stop());o.messageId=null;c.reconnectTimeoutId=null;c.pollTimeoutId=t.setTimeout(function(){(function e(s,h){var d=s.messageId,g=d===null,b=!g,nt=!h,k=r.getUrl(s,a.name,b,nt);f(s)!==!0&&(o.log("Opening long polling request to '"+k+"'."),s.pollXhr=n.ajax(n.extend({},n.signalR.ajaxDefaults,{xhrFields:{withCredentials:o.withCredentials},url:k,type:"GET",dataType:o.ajaxDataType,contentType:o.contentType,success:function(i){var h,w=0,u,a;o.log("Long poll complete.");l=0;try{h=o._parseResponse(i)}catch(b){r.handleParseFailure(s,i,b,y,s.pollXhr);return}(c.reconnectTimeoutId!==null&&p(s),h&&(u=r.maximizePersistentResponse(h)),r.processMessages(s,h,v),u&&n.type(u.LongPollDelay)==="number"&&(w=u.LongPollDelay),u&&u.Disconnect)||f(s)!==!0&&(a=u&&u.ShouldReconnect,!a||r.ensureReconnectingState(s))&&(w>0?c.pollTimeoutId=t.setTimeout(function(){e(s,a)},w):e(s,a))},error:function(f,h){if(t.clearTimeout(c.reconnectTimeoutId),c.reconnectTimeoutId=null,h==="abort"){o.log("Aborted xhr request.");return}if(!y()){if(l++,o.state!==i.connectionState.reconnecting&&(o.log("An error occurred using longPolling. Status = "+h+".  Response = "+f.responseText+"."),n(s).triggerHandler(u.onError,[i._.transportError(i.resources.longPollFailed,o.transport,f,s.pollXhr)])),(o.state===i.connectionState.connected||o.state===i.connectionState.reconnecting)&&!r.verifyLastActive(o))return;if(!r.ensureReconnectingState(s))return;c.pollTimeoutId=t.setTimeout(function(){e(s,!0)},a.reconnectDelay)}}})),b&&h===!0&&(c.reconnectTimeoutId=t.setTimeout(function(){p(s)},Math.min(1e3*(Math.pow(2,l)-1),w))))})(o)},250)},lostConnection:function(){throw new Error("Lost Connection not handled for LongPolling");},send:function(n,t){r.ajaxSend(n,t)},stop:function(n){t.clearTimeout(n._.pollTimeoutId);t.clearTimeout(n._.reconnectTimeoutId);delete n._.pollTimeoutId;delete n._.reconnectTimeoutId;n.pollXhr&&(n.pollXhr.abort(),n.pollXhr=null,delete n.pollXhr)},abort:function(n,t){r.ajaxAbort(n,t)}}}(window.jQuery,window),function(n){"use strict";function r(n){return n+e}function s(n,t,i){for(var f=n.length,u=[],r=0;r<f;r+=1)n.hasOwnProperty(r)&&(u[r]=t.call(i,n[r],r,n));return u}function h(t){return n.isFunction(t)?null:n.type(t)==="undefined"?null:t}function u(n){for(var t in n)if(n.hasOwnProperty(t))return!0;return!1}function f(n,t){var i=n._.invocationCallbacks,r,f;u(i)&&n.log("Clearing hub invocation callbacks with error: "+t+".");n._.invocationCallbackId=0;delete n._.invocationCallbacks;n._.invocationCallbacks={};for(f in i)r=i[f],r.method.call(r.scope,{E:t})}function i(n,t){return new i.fn.init(n,t)}function t(i,r){var u={qs:null,logging:!1,useDefaultPath:!0};return n.extend(u,r),(!i||u.useDefaultPath)&&(i=(i||"")+"/signalr"),new t.fn.init(i,u)}var e=".hubProxy",o=n.signalR;i.fn=i.prototype={init:function(n,t){this.state={};this.connection=n;this.hubName=t;this._={callbackMap:{}}},hasSubscriptions:function(){return u(this._.callbackMap)},on:function(t,i){var u=this,f=u._.callbackMap;return t=t.toLowerCase(),f[t]||(f[t]={}),f[t][i]=function(n,t){i.apply(u,t)},n(u).bind(r(t),f[t][i]),u},off:function(t,i){var e=this,o=e._.callbackMap,f;return t=t.toLowerCase(),f=o[t],f&&(f[i]?(n(e).unbind(r(t),f[i]),delete f[i],u(f)||delete o[t]):i||(n(e).unbind(r(t)),delete o[t])),e},invoke:function(t){var i=this,r=i.connection,e=n.makeArray(arguments).slice(1),c=s(e,h),f={H:i.hubName,M:t,A:c,I:r._.invocationCallbackId},u=n.Deferred(),l=function(f){var e=i._maximizeHubResponse(f),h,s;n.extend(i.state,e.State);e.Error?(e.StackTrace&&r.log(e.Error+"\n"+e.StackTrace+"."),h=e.IsHubException?"HubException":"Exception",s=o._.error(e.Error,h),s.data=e.ErrorData,r.log(i.hubName+"."+t+" failed to execute. Error: "+s.message),u.rejectWith(i,[s])):(r.log("Invoked "+i.hubName+"."+t),u.resolveWith(i,[e.Result]))};return r._.invocationCallbacks[r._.invocationCallbackId.toString()]={scope:i,method:l},r._.invocationCallbackId+=1,n.isEmptyObject(i.state)||(f.S=i.state),r.log("Invoking "+i.hubName+"."+t),r.send(f),u.promise()},_maximizeHubResponse:function(n){return{State:n.S,Result:n.R,Id:n.I,IsHubException:n.H,Error:n.E,StackTrace:n.T,ErrorData:n.D}}};i.fn.init.prototype=i.fn;t.fn=t.prototype=n.connection();t.fn.init=function(t,i){var e={qs:null,logging:!1,useDefaultPath:!0},u=this;n.extend(e,i);n.signalR.fn.init.call(u,t,e.qs,e.logging);u.proxies={};u._.invocationCallbackId=0;u._.invocationCallbacks={};u.received(function(t){var i,o,f,e,s,h;t&&(typeof t.I!="undefined"?(f=t.I.toString(),e=u._.invocationCallbacks[f],e&&(u._.invocationCallbacks[f]=null,delete u._.invocationCallbacks[f],e.method.call(e.scope,t))):(i=this._maximizeClientHubInvocation(t),u.log("Triggering client hub event '"+i.Method+"' on hub '"+i.Hub+"'."),s=i.Hub.toLowerCase(),h=i.Method.toLowerCase(),o=this.proxies[s],n.extend(o.state,i.State),n(o).triggerHandler(r(h),[i.Args])))});u.error(function(n,t){var i,r;t&&(i=t.I,r=u._.invocationCallbacks[i],r&&(u._.invocationCallbacks[i]=null,delete u._.invocationCallbacks[i],r.method.call(r.scope,{E:n})))});u.reconnecting(function(){u.transport&&u.transport.name==="webSockets"&&f(u,"Connection started reconnecting before invocation result was received.")});u.disconnected(function(){f(u,"Connection was disconnected before invocation result was received.")})};t.fn._maximizeClientHubInvocation=function(n){return{Hub:n.H,Method:n.M,Args:n.A,State:n.S}};t.fn._registerSubscribedHubs=function(){var t=this;t._subscribedToHubs||(t._subscribedToHubs=!0,t.starting(function(){var i=[];n.each(t.proxies,function(n){this.hasSubscriptions()&&(i.push({name:n}),t.log("Client subscribed to hub '"+n+"'."))});i.length===0&&t.log("No hubs have been subscribed to.  The client will not receive data from hubs.  To fix, declare at least one client side function prior to connection start for each hub you wish to subscribe to.");t.data=t.json.stringify(i)}))};t.fn.createHubProxy=function(n){n=n.toLowerCase();var t=this.proxies[n];return t||(t=i(this,n),this.proxies[n]=t),this._registerSubscribedHubs(),t};t.fn.init.prototype=t.fn;n.hubConnection=t}(window.jQuery,window),function(n){n.signalR.version="2.0.2"}(window.jQuery)

;
(function(n,t){"use strict";var r=[],u={},f=function(n,t){typeof n!="undefined"&&n>=0&&(t&&typeof t.then=="function"&&typeof t.catch=="function"?t.then(function(t){f(n,t)}).catch(function(t){s(n,t)}):t&&t.continueWith?t.continueWith(function(t){f(n,t)}):i.invoke("sys.callback",!1,[n,t]))},s=function(n,t){i.invoke("sys.callbackException",!1,[n,t])},e,o,i;typeof Promise=="function"?(o=function(n){n.continueWith=function(t){var i=n.then(t);return o(i),i}},e=function(){var n={id:i.generateId()};return n.promise=new Promise(function(t,i){n.setResult=t;n.setException=i}),o(n.promise),n}):e=function(){var n={id:i.generateId(),callback:null,promise:{continueWith:function(t){if(typeof t=="function")if(n.callback){var i=n.callback;n.callback=function(n){return t(i(n))}}else n.callback=t;return n.promise}},setResult:function(n){this.callback!==null&&this.callback(n)},setException:function(){}};return n};i={extensions:[],inits:[],callbackTable:[],nextId:0,connection:null,isReconnecting:!1,isUnloading:!1,extractName:function(n){var t=n.lastIndexOf("."),i=null,r=null;return t>0&&(i=n.substr(0,t).toLowerCase(),r=n.substr(t+1)),{factoryName:i,methodName:r}},log:function(){typeof console!="undefined"&&(window.console.debug?window.console.debug.apply(null,arguments):window.console.log&&window.console.log.apply(null,arguments))},invoke:function(n,i,r){var u={},h,f,c,o,l,s,a;u.name=n;u.args=r;u.callbackId=-1;i&&(f=e(),c=f.promise,this.callbackTable[f.id]=f,u.callbackId=f.id);h=t.stringify(u);try{for(o=this.breakIntoSegments(h),l=o.length>1?this.generateId():0,s=0;s<o.length;s++)a="id-"+l+" index-"+s+" total-"+o.length+" "+o[s],this.connection.send(a)}catch(v){this.log("Failed to send message to browser link server:\n"+v.toString())}return c},breakIntoSegments:function(n){for(var u=3072,f=[],t=n.length,r=0,i;t>0;)i=t>u?u:t,f.push(n.substring(r,r+i)),r+=i,t-=i;return f},dispatchCallback:function(n,t,i){var r=this.extractName(n),e,u,o,c;if(r.factoryName&&r.methodName){if(r.factoryName==="sys"){if(r.methodName==="callback"){e=t[0];u=t[1];try{this.callbackTable[e].setResult(u)}catch(h){this.log("Failed to invoke return value callback:\n"+h.toString())}this.removeTask(e)}if(r.methodName==="callbackException"){e=t[0];u=t[1];try{this.callbackTable[e].setException(new Error(u).toString())}catch(h){this.log("Failed to invoke exception handler callback:\n"+h.toString())}this.removeTask(e)}return}if(o=this.extensions[r.factoryName],!o||!o[r.methodName]){this.log("Failed to match method call "+n);return}for(c=t.length;c<15;c++)t[c]=null;try{u=o[r.methodName](t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14])}catch(h){u=undefined;this.log("Exception thrown in callback method "+r.methodName+": %o",h);s(i,h.toString())}typeof u!="undefined"&&f(i,u)}},addExtensions:function(){try {{ var extension =
(function(n){"use strict";return{log:function(t){n.log(t)}}});;
this.addExtension("Microsoft.WebTools.BrowserLink.CoreExtensionFactory", extension); }} catch(e) {{ this.log("Invalid extension script encountered for extension 'Microsoft.WebTools.BrowserLink.CoreExtensionFactory'."); return; }}
try {{ var extension =
(function(n,t){"use strict";var f=[],i=[],h=function(n){for(var i,t=0;t<f.length;t++)if(f[t]===n)return f[t];return i={key:n,value:null},f.push(i),i},r=function(n){var t=n.__browserLink_sourceMapping;return t?t:h(n).value},nt=function(n,t){n.__browserLink_sourceMapping=t;h(n).value=t},c=function(n){if(n==="float")return t.support.cssFloat?"cssFloat":"styleFloat";/^-/.test(n)&&(n=n.substring(1));return n.replace(/-\w/g,function(n){return n.substring(1).toUpperCase()})},s=function(n){try{var t=n.cssRules;return t||(t=n.rules),t}catch(i){return null}},l=function(n){var t=function(i){var f=s(i),u,r;if(f)for(u=0;u<f.length;u++)if(r=f[u],r.type==3){if(n(r.styleSheet)||t(r.styleSheet))return!0}else if(r.type==4&&t(r))return!0},i=function(r){for(var u,f=0;f<r.length;f++){if(u=r[f],n(u))return!0;if(u.imports){if(i(u.imports))return!0}else if(t(u))return!0}};i(document.styleSheets)},a=function(n){var t=null;return l(function(i){return i.href==n&&(t=i),t}),t},v=function(n,t){var i=function(n){var f=s(n),u,r,e;if(f)for(u=0;u<f.length;u++)if(r=f[u],(r.type==1||r.type==3||r.type==4)&&((e={domRule:r,collection:f,index:u,source:n},t(e))||r.type==4&&i(r)))return!0};i(n)},e=function(n,t){var i;return v(n,function(n){return t(n.domRule)&&(i=n),i}),i},tt=function(n){return e(n.parentStyleSheet,function(t){return t==n})},y=function(n,t){var i=r(n);return i&&typeof i.originalStart!="undefined"&&t>=i.originalStart&&t<=i.originalStart+i.originalLength},o=function(n,t){return e(n,function(n){return n.type!=1?!1:y(n,t)})},it=function(n,t,i){return e(n,function(n){var u=r(n);return u&&typeof u.originalStart!="undefined"&&u.originalStart==t&&u.originalLength==i})},p=function(n){var t=s(n);return{index:t.length,source:n,collection:t}},w=function(n,t){var r=n.index-1,i;return r>=0&&(i=n.collection[r],i.type==4&&y(i,t))?(n=p(i),w(n,t)):n},rt=function(n,t){var i=e(n,function(n){var i=r(n);return i&&typeof i.originalStart!="undefined"&&t<i.originalStart});return i||(i=p(n)),w(i,t)},u=function(){return!0},ut={CssDomChangeDeleteRule:function(n,t){var i=o(n,t.RuleOriginalPosition);return i?(i.source.deleteRule(i.index),!0):!1},CssDomChangeDeleteProperty:function(n,t){var i=o(n,t.PropertyOriginalPosition);return i?(i.domRule.style[c(t.PropertyName)]="",!0):!1},CssDomChangeSetSelector:function(n,t){var i=o(n,t.RuleOriginalPosition),u,f,e;return i?(u=i.domRule.cssText,f=u.indexOf("{"),u=t.NewSelector+u.substring(f),e=r(i.domRule),i.source.deleteRule(i.index),i.source.insertRule(u,i.index),nt(i.collection[i.index],e),!0):!1},CssDomChangeInsertRule:u,CssDomChangeSetProperty:u},ft={CssDomChangeInsertRule:function(t,i){var r=rt(t,i.RuleFinalPosition),u;return r.source.insertRule(i.Selector+"{"+i.StyleText+"}",r.index),u=r.collection[r.index],n.sourceMapping.internal.addMappingRangeForObject(u,{startPosition:i.RuleFinalPosition,length:i.RuleLength,sourceUrl:t.href}),k(u),!0},CssDomChangeSetProperty:function(n,t){var i=o(n,t.PropertyFinalPosition);return i?(i.domRule.style[c(t.PropertyName)]=t.NewValue,!0):!1},CssDomChangeDeleteRule:u,CssDomChangeDeleteProperty:u,CssDomChangeSetSelector:u},b=function(t,i,r){for(var u,e,f=0;f<i.length;f++){if(u=i[f],e=r[u.Type],!e)return n.log("Unknown change type: "+u.Type),!1;if(!e(t,u))return n.log("Failed to apply change: "+u.Type),!1}return!0},et=function(n,t){for(var i,f,e,u=0;u<t.length;u++){if(i=t[u],f=it(n,i.OldStart,i.OldLength),!f)return!1;e=r(f.domRule);e.start=i.NewStart;e.length=i.NewLength}return!0},k=function(n){var t=r(n);t&&(t.originalStart=t.start,t.originalLength=t.length)},d=function(n){v(n,function(n){k(n.domRule)})},g=function(){var f=[],r=[],u=[],t;for(l(function(t){n.sourceMapping.validateStyleSheet(t)&&(i.indexOf(t.href)<0?(r.push(t.href),i.push(t.href),n.sourceMapping.ensureCssUpToDateAsync(function(){d(t)})):f.push(t.href))}),t=0;t<i.length;t++)f.indexOf(i[t])<0&&r.indexOf(i[t])<0&&(u.push(i[t]),i.splice(t,1),t--);(r.length||u.length)&&n.sourceMapping.ensureCssUpToDateAsync(function(){n.invoke("trackCssDocuments",r,u)});setTimeout(g,1e3)};return{onConnected:function(){Array.prototype.indexOf&&g()},changeStyleSheetUrl:function(n,t){var r=a(n),i;r&&(r.ownerNode?r.ownerNode.href=t:r.ownerRule&&(i=tt(r.ownerRule),i&&(i.source.deleteRule(i.index),i.source.insertRule("@import url('"+t+"')",i.index))))},applyCssChanges:function(n,t,i){try{var r=a(n);return r?b(r,t,ut)?et(r,i)?(d(r),!b(r,t,ft))?!1:!0:!1:!1:!1}catch(u){return!1}}}});;
this.addExtension("Microsoft.WebTools.BrowserLink.CSSAutoSyncExtensionFactory", extension); }} catch(e) {{ this.log("Invalid extension script encountered for extension 'Microsoft.WebTools.BrowserLink.CSSAutoSyncExtensionFactory'."); return; }}
try {{ var extension =
(function(n){"use strict";function t(t){var i;t&&t.detail&&t.detail.node&&t.detail.origin!=="vs"&&(i=t.detail.node,n.sourceMapping.canMapToSource(i)&&n.sourceMapping.ensureUpToDateAsync(function(){return n.sourceMapping.selectCompleteRange(i)}))}var i=function(){window.addEventListener("BPT-SelectedNode",t)};return{onConnected:function(){typeof addEventListener=="function"&&window.setTimeout(i,500)}}});;
this.addExtension("Microsoft.WebTools.BrowserLink.InspectModeExtensionFactory", extension); }} catch(e) {{ this.log("Invalid extension script encountered for extension 'Microsoft.WebTools.BrowserLink.InspectModeExtensionFactory'."); return; }}
try {{ var extension =
(function(n,t){"use strict";function d(){this.start={};this.children=[];this.attributes=[];this.getDomIdentifier=function(){return this.properties.DomID};this.getDomNode=function(){return this.domNode};var n=function(t,i){for(var f,u,r=t.children.length-1;r>=0;r--)if(f=t.children[r],u=n(f,i),u)return u;return t.getDomNode()===i?{logicalNode:t}:t.getDomNode()?{foundOtherDomNode:!0}:null},u=function(t,r){for(var o,f,e=t.parent,s=e.children.indexOf(t),u=s-1;u>=0;u--)if(o=e.children[u],f=n(o,r),i,f)return f;return null},t=function(n,i){var r=u(n,i);return r?r:n.parent?n.parent.getDomNode()===i?{logicalNode:n.parent}:n.parent.getDomNode()?{foundOtherDomNode:!0}:t(n.parent,i):null},r=function(n){return o.innerHTML=n,o.innerHTML},f=function(n){for(var f,t=n.__browserLink_LogicalNodes.slice(),u="",i=0;i<t.length;i++)f=t[i],u+=r(f.text);return t.length>1&&u==n.textContent?!0:!1},e=function(n){for(var f,e,t=n.__browserLink_LogicalNodes.slice(),i=n,u=0;u<t.length-1;u++)f=r(t[u].text).length,e=i.splitText(f),t[u].setDomNode(i),i=e;t[t.length-1].setDomNode(i)};this.disconnectRelatedDomNode=function(){var n=this.domNode.__browserLink_LogicalNodes,t;n&&n.length>0&&(t=n.indexOf(this),t>=0&&n.splice(t,1))};this.setupRelatedDomNode=function(){var n,i;this.domNode.__browserLink_LogicalNodes?(n=t(this,this.domNode),n&&n.logicalNode?(i=this.domNode.__browserLink_LogicalNodes.indexOf(n.logicalNode),this.domNode.__browserLink_LogicalNodes.splice(i+1,0,this)):this.domNode.__browserLink_LogicalNodes.splice(0,0,this),this.domNode.nodeType===Node.TEXT_NODE&&f(this.domNode)&&e(this.domNode)):this.domNode.__browserLink_LogicalNodes=[this]};this.setDomNode=function(n){this.domNode!==n&&(this.domNode&&this.disconnectRelatedDomNode(),this.domNode=n,this.domNode&&this.setupRelatedDomNode())}}function ht(){var f,e;this.root={};var u="\0",s=1,h={},k=this;this.createNewLogicalNode=function(n,t,i,r){var u=new d,f,e;return n&&(u.type=n),t&&u.setDomNode(t),i&&(u.parent=i,n===st.Attribute?i.attributes.push(u):(f=r?i.children.indexOf(r):-1,f>=0?(e=f+1,i.children.splice(e,0,u)):i.children.splice(0,0,u))),u};var c=function(n){var r=t.extend(new d,n),i,u,f;if(n.children)for(i=0;i<n.children.length;i++)u=n.children[i],r.children[i]=c(u);if(n.attributes)for(i=0;i<n.attributes.length;i++)f=n.attributes[i],r.attributes[i]=c(f);return r},v=function(n){var t=function(n,t){var i,r;if(t)for(i=0;i<t.length;i++)r=t[i],r.parent=n,v(r)};t(n,n.children);t(n,n.attributes)},g=function(){l(k.root);h=null},l=function(n){var i=n.getDomIdentifier(),r,t;if(i>0&&(r=h[i],n.setDomNode(r)),n.children)for(t=0;t<n.children.length;t++)l(n.children[t]);if(n.attributes)for(t=0;t<n.attributes.length;t++)l(n.attributes[t])},i=function(n,t,i,r){var f=t+u+s+u+i;r.push(f);h[s]=n;s++},r={StartTag:0,EndTag:1,Attribute:2,Doctype:3,Comment:4,Text:5},y=function(n,t){for(var f,e,c,o,s,l=n.childNodes,h=0;h<l.length;h++){f=l[h];switch(f.nodeType){case f.ELEMENT_NODE:for(e=f.nodeName.toLowerCase(),i(f,r.StartTag,e,t),c=f.attributes,o=0;o<c.length;o++)s=c[o],i(s,r.Attribute,s.name+u+s.value,t);y(f,t);i(f,r.EndTag,e,t);break;case f.DOCUMENT_TYPE_NODE:e="!doctype";i(f,r.StartTag,e,t);i(f,r.Attribute,"html"+u,t);f.publicId?(i(f,r.Attribute,"public"+u,t),i(f,r.Attribute,f.publicId+u,t)):f.systemId&&(i(f,r.Attribute,"system"+u,t),i(f,r.Attribute,f.systemId+u,t));i(f,r.EndTag,e,t);break;case f.COMMENT_NODE:i(f,r.Comment,f.textContent,t);break;case f.TEXT_NODE:i(f,r.Text,f.nodeValue,t)}}},p=function(n,t,i,r){var u,f;if(n)for(u=0;u<n.length;u++)f=n[u],b(f,t,i,r)},w=function(n,t,i,r){p(n.attributes,t,i,r);p(n.children,t,i,r)},b=function(n,t,i,r){if(n.start==null||n.start.path!==t){w(n,t,i,r);return}var u=n.start.position,f=n.length,o=u+f;if(!(o<=i)){var s=n.startTagLength||0,h=u+s,e=i-r;u>=i?e>=o?(u=i,f=0,s=0):e>u?(u=i,f=o-e,s=e>=h?0:h-e):u+=r:h>i?(e>h?s=i-u:s+=r,e>o?f=i-u:f+=r):o>i&&(e>o?f=i-u:f+=r);n.start.position=u;n.length=f;n.startTagLength&&(n.startTagLength=s);w(n,t,i,r)}};this.buildDocumentBlockList=function(){var t=[];y(document,t);n.invoke("UpdateBlockListFromDOM",n.initializationData.requestId,t)};this.initialize=function(t){o==null&&(o=document.createElement("textarea"));this.root=c(t.root);v(this.root);g();a=!0;n.sourceMapping.ensureUpToDateAsync(null)};this.applyChangesInFile=function(n,t){while(t.length>=2){var i=t.shift(),r=t.shift();b(this.root,n,i,r)}};this.getLogicalNodesFromDomNode=function(n){return n&&n.__browserLink_LogicalNodes?n.__browserLink_LogicalNodes:[]};this.getFirstLogicalNodeFromDomNode=function(n){var t=this.getLogicalNodesFromDomNode(n);return t&&t.length>0?t[0]:null};this.getAllNodesStartingAtPosition=function(n,t){var i=[];return f(n,t,this.root,i),i};f=function(n,t,i,r){var e,u,o;if(i){if(i.start&&t===i.start.position&&n===i.start.path&&r.push(i),i.children)for(u=0;u<i.children.length;u++)e=i.children[u],f(n,t,e,r);if(i.attributes)for(u=0;u<i.attributes.length;u++)o=i.attributes[u],f(n,t,o,r)}};this.getShortestNodeContainingPosition=function(n,t){return e(n,t,this.root)};e=function(n,t,i){var r=null,u,o,f,s;if(t>=i.start.position&&t<i.start.position+i.length&&n===i.start.path&&(r=i),i.children)for(u=0;u<i.children.length;u++)o=i.children[u],f=e(n,t,o),f!==null&&(r===null||r.length>=f.length)&&(r=f);if(i.attributes)for(u=0;u<i.attributes.length;u++)s=i.attributes[u],f=e(n,t,s),f!==null&&(r===null||r.length>=f.length)&&(r=f);return r}}function ct(){var s=this,v=function(n){return w(n)},p=function(n,t,r){if(n<i.length){var u=i[n];if(u)return{sourcePath:u,startPosition:t,length:r}}return null},o=function(t,i){t&&(i==null&&(i=!0),n.invoke("SelectRange",t.sourcePath,t.startPosition,t.length,i))},t,l;this.getCompleteRange=function(t){var i=n.logicalTree.getFirstLogicalNodeFromDomNode(t);return i?{sourcePath:i.start.path,startPosition:i.start.position,length:i.length}:null};this.getStartTagRange=function(t){var i=n.logicalTree.getFirstLogicalNodeFromDomNode(t);return i?{sourcePath:i.start.path,startPosition:i.start.position,length:i.startTagLength}:null};this.getCssRuleRange=function(n){var t=v(n);return t?p(t.sourceIndex,t.start,t.length):null};this.selectCompleteRangeFromLogicalNode=function(n){if(n){var t={sourcePath:n.start.path,startPosition:n.start.position,length:n.length};o(t)}};this.selectCompleteRange=function(n){o(s.getCompleteRange(n))};this.selectStartTagRange=function(n){o(s.getStartTagRange(n))};this.selectCssRule=function(n){o(s.getCssRuleRange(n))};this.canMapToSource=function(t){return n.logicalTree.getFirstLogicalNodeFromDomNode(t)!==null};this.ensureCssUpToDateAsync=function(n){var i=new y,u,t;if(c.push(i.complete),n&&i.Task.continueWith(n),it(),r>0)return i.Task;for(u=c,c=[],t=0;t<u.length;t++)try{u[t]()}catch(f){}this.ensureUpToDateAsync(null)};this.ensureUpToDateAsync=function(n){var t=new y;return(f.push(t.complete),n&&t.Task.continueWith(n),h)?t.Task:(it(),!a)?t.Task:r>0?t.Task:f.length==0?t.Task:(ot(function(){var t=f,n;for(f=[],n=0;n<t.length;n++)try{t[n]()}catch(i){}}),t.Task)};this.getElementAtPosition=function(t,i){var r=n.logicalTree.getShortestNodeContainingPosition(t,i);return r?r.getDomNode():null};this.getCssRuleAtPosition=function(n,t){for(var i,r,u,o=e(n),f=0;f<document.styleSheets.length;f++)if(i=document.styleSheets[f],o==e(i.href)){for(r=0;r<i.cssRules.length;r++)if(u=w(i.cssRules[r]),u&&u.start<=t&&u.length>=t-u.start)return i.cssRules[r];break}return null};this.getAllSourcePaths=function(){return i};this.internal={addMappingRangeForObject:function(n,t){var r=e(t.sourcePath||t.sourceUrl),i={sourceIndex:r,start:t.startPosition,length:t.length};b(n,i);u.push(i)}};t=5e3;l=[];this.validateStyleSheet=function(i){var u=l.indexOf(i.href)>=0,r;return u?!1:(r=function(n){var u=0,f,e;try{if(n&&n.cssRules&&(u+=i.cssRules.length,u>t))return u;for(f=0;f<n.cssRules.length;f++)if(e=n.cssRules[f],e.type===4&&(u+=r(e),u>t))break;return u}catch(o){return t+1}},r(i)>t)?(l.push(i.href),n.log(`CSS Hot Reload ignoring ${i.href} because it was inaccessible or had more than ${t} rules.`),!1):!0}}var i=[],s={},h=!1,a=!1,r=0,f=[],c=[],u=[],v={},y=function(){var n=[];this.complete=function(){for(var t=null;n.length;)t=n.shift()(t)};this.Task={continueWith:function(t){n.push(t)}}},rt=function(n){return n.selectorText||n.media},p=function(n){var r=rt(n),t,i,u;if(!r)return{value:null};for(t=v[r],t||(t=[],v[r]=t),i=0;i<t.length;i++)if(t[i].key===n)return t[i];return u={key:n,value:null},t.push(u),u},w=function(n){return n?n.__browserLink_sourceMapping||p(n).value:null},b=function(n,t){n&&(n.__browserLink_sourceMapping=t,p(n).value=t)},l=function(n){return n.toLowerCase()},k=function(n){return s[l(n)]},ut=function(n){return i.push(n),s[l(n)]=n,i.length-1},e=function(n,t){var r=i.indexOf(k(n));return r<0&&(r=ut(n,t)),t&&(s[l(t)]=n),r},ft=function(n,t,i){var r=n.start,u=n.length,o=r+u,e=n.startTag||0,s=r+e,f=t-i;r>=t?f>=o?(r=t,u=0,e=0):f>r?(u=o-f,r=t,e=f>=s?0:s-f):r+=i:s>t?(f>s?e=t-r:e+=i,f>o?u=t-r:u+=i):o>t&&(f>o?u=t-r:u+=i);n.start=r;n.length=u;n.startTag&&(n.startTag=e)},et=function(n,t){for(var f,e,i,r;t.length>=2;)for(f=t.shift(),e=t.shift(),i=0;i<u.length;i++)r=u[i],r.sourceIndex==n&&ft(r,f,e)},ot=function(t){h=!0;n.invokeAsync("GetChangesInFiles",i).continueWith(function(){h=!1;t&&t()})},st={Root:"Root",Element:"Element",Attribute:"Attribute",Comment:"Comment",Text:"Text"},o=null,g=function(n,t){var v=[],h,o,r,c,s,i,f,l,e,a;if(n)for(h=0;h<n.length;h++)for(o=n[h],r={selector:o[0],elements:[],isTemplateLike:!1},v.push(r),c=1;c<o.length;c++){if(s=o[c],i=null,s){for(f=s[0],l=s.length>=2?s[1]:{},i={selectorData:r,sourceIndex:f[0]+t,start:f[1],length:f[2],isLiteral:f[3],startTag:f.length>=5?f[4]:null,children:g(l.children,t),ancestors:g(l.ancestors,t)},l.templateLike&&o.length==2&&(r.isTemplateLike=!0,r.isInTemplateLike=!0),e=0;e<i.children.length;e++)i.children[e].parent=i,i.children[e].isParentTemplateLike=r.isTemplateLike,i.children[e].isInTemplateLike=r.isInTemplateLike;for(a=0;a<i.ancestors.length;a++)i.ancestors[a].descendant=i;u.push(i)}r.elements.push(i)}return v},lt=function(n){try{var t=n.cssRules;return t||(t=n.rules),t}catch(i){return null}},nt=function(n,t,i){var f=lt(n),u,r;if(f)for(u=0;u<f.length;u++)r=f[u],r.type==1?(t.push(r),i.push(r.selectorText)):r.type==4?(t.push(r),i.push(r.media.mediaText),nt(r,t,i)):r.type==3&&tt(r.styleSheet)},at=function(n,t,i){for(var f,s=e(t.resolvedPath,n),o=t.ranges,r=0;r<i.length&&r<o.length;r++)f=o[r],f&&(f.sourceIndex=s,b(i[r],f),u.push(f))},vt=function(n){return k(n.href)!=null},tt=function(t){if(t.href&&!vt(t)){var i=[],u=[];nt(t,u,i);r++;n.invokeAsync("GetCssMappingData",t.href,i).continueWith(function(i){try{i||(i={resolvedPath:t.href,ranges:[]});at(t.href,i,u)}catch(f){}r--;n.sourceMapping.ensureCssUpToDateAsync(null)})}},it=function(){var i,t,u;if(!(r>0))for(i=document.styleSheets,t=0;t<i.length;t++)(u=i[t],n.sourceMapping.validateStyleSheet(u))&&tt(u)};return n.addSharedService("sourceMapping",new ct),n.addSharedService("logicalTree",new ht),{applyChangesInFile:function(n,t){var r=i.indexOf(n);return r>=0?(et(r,t),!0):!1},applyChangesInFileToLogicalTree:function(t,i){n.logicalTree.applyChangesInFile(t,i)},onConnected:function(){Array.prototype.indexOf&&(n.logicalTree.buildDocumentBlockList(),n.sourceMapping.ensureUpToDateAsync(null))},setLogicalTree:function(t,r){i=i.concat(r);n.logicalTree.initialize(t)}}});;
this.addExtension("Microsoft.WebTools.BrowserLink.SourceMappingExtensionFactory", extension); }} catch(e) {{ this.log("Invalid extension script encountered for extension 'Microsoft.WebTools.BrowserLink.SourceMappingExtensionFactory'."); return; }}
try {{ var extension =
(function(){"use strict";return{refresh:function(){location.reload(!0)},navigate:function(n){location.href=n}}});;
this.addExtension("Microsoft.WebTools.BrowserLink.Package.RefreshExtensionFactory", extension); }} catch(e) {{ this.log("Invalid extension script encountered for extension 'Microsoft.WebTools.BrowserLink.Package.RefreshExtensionFactory'."); return; }}
try {{ var extension =
/*! For license information please see tools_bundle.js.LICENSE.txt */
function(){var e={676:function(e,t,i){"use strict";i.d(t,{pc:function(){return c},Yl:function(){return d},SO:function(){return h}});var o=i(906);const n=[],r=o.P.trustedTypes.createPolicy("fast-html",{createHTML:e=>e});let s=r;function a(){const e=1024;let t=0;for(;t<n.length;){if(n[t].call(),t++,t>e){for(let e=0,i=n.length-t;e<i;e++)n[e]=n[e+t];n.length-=t,t=0}}n.length=0}const l=`fast-${Math.random().toString(36).substring(2,8)}`,c=`${l}{`,d=`}${l}`,h=Object.freeze({supportsAdoptedStyleSheets:Array.isArray(document.adoptedStyleSheets)&&"replace"in CSSStyleSheet.prototype,setHTMLPolicy(e){if(s!==r)throw new Error("The HTML policy can only be set once.");s=e},createHTML:e=>s.createHTML(e),isMarker:e=>e&&8===e.nodeType&&e.data.startsWith(l),extractDirectiveIndexFromMarker:e=>parseInt(e.data.replace(`${l}:`,"")),createInterpolationPlaceholder:e=>`${c}${e}${d}`,createCustomAttributePlaceholder(e,t){return`${e}="${this.createInterpolationPlaceholder(t)}"`},createBlockPlaceholder:e=>`\x3c!--${l}:${e}--\x3e`,queueUpdate(e){n.length<1&&window.requestAnimationFrame(a),n.push(e)},nextUpdate:()=>new Promise((e=>{h.queueUpdate(e)})),setAttribute(e,t,i){null==i?e.removeAttribute(t):e.setAttribute(t,i)},setBooleanAttribute(e,t,i){i?e.setAttribute(t,""):e.removeAttribute(t)},removeChildNodes(e){for(let t=e.firstChild;null!==t;t=e.firstChild)e.removeChild(t)},createTemplateWalker:e=>document.createTreeWalker(e,133,null,!1)})},80:function(e,t,i){"use strict";i.d(t,{Observable:function(){return n.y$},observable:function(){return n.LO},volatile:function(){return n.lk},ref:function(){return s.i},when:function(){return a.g},repeat:function(){return l.rx},slotted:function(){return c.Q}});var o=i(204);i.o(o,"Observable")&&i.d(t,{Observable:function(){return o.Observable}}),i.o(o,"observable")&&i.d(t,{observable:function(){return o.observable}}),i.o(o,"ref")&&i.d(t,{ref:function(){return o.ref}}),i.o(o,"repeat")&&i.d(t,{repeat:function(){return o.repeat}}),i.o(o,"slotted")&&i.d(t,{slotted:function(){return o.slotted}}),i.o(o,"volatile")&&i.d(t,{volatile:function(){return o.volatile}}),i.o(o,"when")&&i.d(t,{when:function(){return o.when}});var n=i(202),r=i(992);i.o(r,"ref")&&i.d(t,{ref:function(){return r.ref}}),i.o(r,"repeat")&&i.d(t,{repeat:function(){return r.repeat}}),i.o(r,"slotted")&&i.d(t,{slotted:function(){return r.slotted}}),i.o(r,"when")&&i.d(t,{when:function(){return r.when}});var s=i(893),a=i(682),l=i(919),c=i(574)},204:function(){},992:function(){},868:function(e,t,i){"use strict";function o(e){const t=this.spillover;-1===t.indexOf(e)&&t.push(e)}function n(e){const t=this.spillover,i=t.indexOf(e);-1!==i&&t.splice(i,1)}function r(e){const t=this.spillover,i=this.source;for(let o=0,n=t.length;o<n;++o)t[o].handleChange(i,e)}function s(e){return-1!==this.spillover.indexOf(e)}i.d(t,{q:function(){return a},A:function(){return l}});class a{constructor(e,t){this.sub1=void 0,this.sub2=void 0,this.spillover=void 0,this.source=e,this.sub1=t}has(e){return this.sub1===e||this.sub2===e}subscribe(e){this.has(e)||(void 0!==this.sub1?void 0!==this.sub2?(this.spillover=[this.sub1,this.sub2,e],this.subscribe=o,this.unsubscribe=n,this.notify=r,this.has=s,this.sub1=void 0,this.sub2=void 0):this.sub2=e:this.sub1=e)}unsubscribe(e){this.sub1===e?this.sub1=void 0:this.sub2===e&&(this.sub2=void 0)}notify(e){const t=this.sub1,i=this.sub2,o=this.source;void 0!==t&&t.handleChange(o,e),void 0!==i&&i.handleChange(o,e)}}class l{constructor(e){this.subscribers={},this.source=e}notify(e){const t=this.subscribers[e];void 0!==t&&t.notify(e)}subscribe(e,t){let i=this.subscribers[t];void 0===i&&(this.subscribers[t]=i=new a(this.source)),i.subscribe(e)}unsubscribe(e,t){const i=this.subscribers[t];void 0!==i&&i.unsubscribe(e)}}},202:function(e,t,i){"use strict";i.d(t,{y$:function(){return h},LO:function(){return f},lk:function(){return v},z8:function(){return m},Wp:function(){return w}});var o=i(676),n=i(868);const r=/(:|&&|\|\||if)/,s=new WeakMap,a=new WeakMap;let l,c=e=>{throw new Error("Must call enableArrayObservation before observing arrays.")};class d{constructor(e){this.name=e,this.field=`_${e}`,this.callback=`${e}Changed`}getValue(e){return void 0!==l&&l.watch(e,this.name),e[this.field]}setValue(e,t){const i=this.field,o=e[i];if(o!==t){e[i]=t;const n=e[this.callback];"function"==typeof n&&n.call(e,o,t),u(e).notify(this.name)}}}const h=Object.freeze({setArrayObserverFactory(e){c=e},getNotifier(e){let t=e.$fastController||s.get(e);return void 0===t&&(Array.isArray(e)?t=c(e):s.set(e,t=new n.A(e))),t},track(e,t){void 0!==l&&l.watch(e,t)},trackVolatile(){void 0!==l&&(l.needsRefresh=!0)},notify(e,t){u(e).notify(t)},defineProperty(e,t){"string"==typeof t&&(t=new d(t)),this.getAccessors(e).push(t),Reflect.defineProperty(e,t.name,{enumerable:!0,get:function(){return t.getValue(this)},set:function(e){t.setValue(this,e)}})},getAccessors(e){let t=a.get(e);if(void 0===t){let i=Reflect.getPrototypeOf(e);for(;void 0===t&&null!==i;)t=a.get(i),i=Reflect.getPrototypeOf(i);t=void 0===t?[]:t.slice(0),a.set(e,t)}return t},binding(e,t,i=this.isVolatileBinding(e)){return new x(e,t,i)},isVolatileBinding:e=>r.test(e.toString())}),u=h.getNotifier,p=h.trackVolatile,g=o.SO.queueUpdate;function f(e,t){h.defineProperty(e,t)}function v(e,t,i){return Object.assign({},i,{get:function(){return p(),i.get.apply(this)}})}let b=null;function m(e){b=e}class y{constructor(){this.index=0,this.length=0,this.parent=null,this.parentContext=null}get event(){return b}get isEven(){return this.index%2==0}get isOdd(){return this.index%2!=0}get isFirst(){return 0===this.index}get isInMiddle(){return!this.isFirst&&!this.isLast}get isLast(){return this.index===this.length-1}}h.defineProperty(y.prototype,"index"),h.defineProperty(y.prototype,"length");const w=Object.seal(new y);class x extends n.q{constructor(e,t,i=!1){super(e,t),this.binding=e,this.isVolatileBinding=i,this.needsRefresh=!0,this.needsQueue=!0,this.first=this,this.last=null,this.propertySource=void 0,this.propertyName=void 0,this.notifier=void 0,this.next=void 0}observe(e,t){this.needsRefresh&&null!==this.last&&this.disconnect();const i=l;l=this.needsRefresh?this:void 0,this.needsRefresh=this.isVolatileBinding;const o=this.binding(e,t);return l=i,o}disconnect(){if(null!==this.last){let e=this.first;for(;void 0!==e;)e.notifier.unsubscribe(this,e.propertyName),e=e.next;this.last=null,this.needsRefresh=this.needsQueue=!0}}watch(e,t){const i=this.last,o=u(e),n=null===i?this.first:{};if(n.propertySource=e,n.propertyName=t,n.notifier=o,o.subscribe(this,t),null!==i){if(!this.needsRefresh){l=void 0;const t=i.propertySource[i.propertyName];l=this,e===t&&(this.needsRefresh=!0)}i.next=n}this.last=n}handleChange(){this.needsQueue&&(this.needsQueue=!1,g(this))}call(){null!==this.last&&(this.needsQueue=!0,this.notify(this))}records(){let e=this.first;return{next:()=>{const t=e;return void 0===t?{value:void 0,done:!0}:(e=e.next,{value:t,done:!1})},[Symbol.iterator]:function(){return this}}}}},906:function(e,t,i){"use strict";i.d(t,{P:function(){return o},o:function(){return n}});const o=function(){if("undefined"!=typeof globalThis)return globalThis;if(void 0!==i.g)return i.g;if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;try{return new Function("return this")()}catch(e){return{}}}();void 0===o.trustedTypes&&(o.trustedTypes={createPolicy:(e,t)=>t});const n=Object.freeze([])},258:function(e,t,i){"use strict";i.d(t,{m0:function(){return n},d$:function(){return r},ON:function(){return s}});var o=i(676);class n{constructor(){this.targetIndex=0}}class r extends n{constructor(){super(...arguments),this.createPlaceholder=o.SO.createInterpolationPlaceholder}}class s extends n{constructor(e,t,i){super(),this.name=e,this.behavior=t,this.options=i}createPlaceholder(e){return o.SO.createCustomAttributePlaceholder(this.name,e)}createBehavior(e){return new this.behavior(e,this.options)}}},928:function(e,t,i){"use strict";i.d(t,{R:function(){return r},x:function(){return s}});var o=i(202),n=i(906);function r(e){return e?function(t,i,o){return 1===t.nodeType&&t.matches(e)}:function(e,t,i){return 1===e.nodeType}}class s{constructor(e,t){this.target=e,this.options=t,this.source=null}bind(e){const t=this.options.property;this.shouldUpdate=o.y$.getAccessors(e).some((e=>e.name===t)),this.source=e,this.updateTarget(this.computeNodes()),this.shouldUpdate&&this.observe()}unbind(){this.updateTarget(n.o),this.source=null,this.shouldUpdate&&this.disconnect()}handleEvent(){this.updateTarget(this.computeNodes())}computeNodes(){let e=this.getNodes();return void 0!==this.options.filter&&(e=e.filter(this.options.filter)),e}updateTarget(e){this.source[this.options.property]=e}}},893:function(e,t,i){"use strict";i.d(t,{i:function(){return r}});var o=i(258);class n{constructor(e,t){this.target=e,this.propertyName=t}bind(e){e[this.propertyName]=this.target}unbind(){}}function r(e){return new o.ON("fast-ref",n,e)}},919:function(e,t,i){"use strict";i.d(t,{rx:function(){return $}});var o=i(676),n=i(202),r=i(906);function s(e,t,i){return{index:e,removed:t,addedCount:i}}const a=0,l=1,c=2,d=3;function h(e,t,i,o,n,h){let u=0,p=0;const g=Math.min(i-t,h-n);if(0===t&&0===n&&(u=function(e,t,i){for(let o=0;o<i;++o)if(e[o]!==t[o])return o;return i}(e,o,g)),i===e.length&&h===o.length&&(p=function(e,t,i){let o=e.length,n=t.length,r=0;for(;r<i&&e[--o]===t[--n];)r++;return r}(e,o,g-u)),n+=u,h-=p,(i-=p)-(t+=u)==0&&h-n==0)return r.o;if(t===i){const e=s(t,[],0);for(;n<h;)e.removed.push(o[n++]);return[e]}if(n===h)return[s(t,[],i-t)];const f=function(e){let t=e.length-1,i=e[0].length-1,o=e[t][i];const n=[];for(;t>0||i>0;){if(0===t){n.push(c),i--;continue}if(0===i){n.push(d),t--;continue}const r=e[t-1][i-1],s=e[t-1][i],h=e[t][i-1];let u;u=s<h?s<r?s:r:h<r?h:r,u===r?(r===o?n.push(a):(n.push(l),o=r),t--,i--):u===s?(n.push(d),t--,o=s):(n.push(c),i--,o=h)}return n.reverse(),n}(function(e,t,i,o,n,r){const s=r-n+1,a=i-t+1,l=new Array(s);let c,d;for(let e=0;e<s;++e)l[e]=new Array(a),l[e][0]=e;for(let e=0;e<a;++e)l[0][e]=e;for(let i=1;i<s;++i)for(let r=1;r<a;++r)e[t+r-1]===o[n+i-1]?l[i][r]=l[i-1][r-1]:(c=l[i-1][r]+1,d=l[i][r-1]+1,l[i][r]=c<d?c:d);return l}(e,t,i,o,n,h)),v=[];let b,m=t,y=n;for(let e=0;e<f.length;++e)switch(f[e]){case a:void 0!==b&&(v.push(b),b=void 0),m++,y++;break;case l:void 0===b&&(b=s(m,[],0)),b.addedCount++,m++,b.removed.push(o[y]),y++;break;case c:void 0===b&&(b=s(m,[],0)),b.addedCount++,m++;break;case d:void 0===b&&(b=s(m,[],0)),b.removed.push(o[y]),y++}return void 0!==b&&v.push(b),v}const u=Array.prototype.push;function p(e,t,i,o){const n=s(t,i,o);let r=!1,a=0;for(let t=0;t<e.length;t++){const i=e[t];if(i.index+=a,r)continue;const o=(l=n.index,c=n.index+n.removed.length,d=i.index,h=i.index+i.addedCount,c<d||h<l?-1:c===d||h===l?0:l<d?c<h?c-d:h-d:h<c?h-l:c-l);if(o>=0){e.splice(t,1),t--,a-=i.addedCount-i.removed.length,n.addedCount+=i.addedCount-o;const s=n.removed.length+i.removed.length-o;if(n.addedCount||s){let e=i.removed;if(n.index<i.index){const t=n.removed.slice(0,i.index-n.index);u.apply(t,e),e=t}if(n.index+n.removed.length>i.index+i.addedCount){const t=n.removed.slice(i.index+i.addedCount-n.index);u.apply(e,t)}n.removed=e,i.index<n.index&&(n.index=i.index)}else r=!0}else if(n.index<i.index){r=!0,e.splice(t,0,n),t++;const o=n.addedCount-n.removed.length;i.index+=o,a+=o}}var l,c,d,h;r||e.push(n)}function g(e,t){let i=[];const o=function(e){const t=[];for(let i=0,o=e.length;i<o;i++){const o=e[i];p(t,o.index,o.removed,o.addedCount)}return t}(t);for(let t=0,n=o.length;t<n;++t){const n=o[t];1!==n.addedCount||1!==n.removed.length?i=i.concat(h(e,n.index,n.index+n.addedCount,n.removed,0,n.removed.length)):n.removed[0]!==e[n.index]&&i.push(n)}return i}var f=i(868);let v=!1;function b(e,t){let i=e.index;const o=t.length;return i>o?i=o-e.addedCount:i<0&&(i=o+e.removed.length+i-e.addedCount),i<0&&(i=0),e.index=i,e}class m extends f.q{constructor(e){super(e),this.oldCollection=void 0,this.splices=void 0,this.needsQueue=!0,this.call=this.flush,e.$fastController=this}addSplice(e){void 0===this.splices?this.splices=[e]:this.splices.push(e),this.needsQueue&&(this.needsQueue=!1,o.SO.queueUpdate(this))}reset(e){this.oldCollection=e,this.needsQueue&&(this.needsQueue=!1,o.SO.queueUpdate(this))}flush(){const e=this.splices,t=this.oldCollection;if(void 0===e&&void 0===t)return;this.needsQueue=!0,this.splices=void 0,this.oldCollection=void 0;const i=void 0===t?g(this.source,e):h(this.source,0,this.source.length,t,0,t.length);this.notify(i)}}var y=i(258),w=i(161);const x=Object.freeze({positioning:!1});function k(e,t,i,o){e.bind(t[i],o)}function C(e,t,i,o){const n=Object.create(o);n.index=i,n.length=t.length,e.bind(t[i],n)}class S{constructor(e,t,i,o,r,s){this.location=e,this.itemsBinding=t,this.templateBinding=o,this.options=s,this.source=null,this.views=[],this.items=null,this.itemsObserver=null,this.originalContext=void 0,this.childContext=void 0,this.bindView=k,this.itemsBindingObserver=n.y$.binding(t,this,i),this.templateBindingObserver=n.y$.binding(o,this,r),s.positioning&&(this.bindView=C)}bind(e,t){this.source=e,this.originalContext=t,this.childContext=Object.create(t),this.childContext.parent=e,this.childContext.parentContext=this.originalContext,this.items=this.itemsBindingObserver.observe(e,this.originalContext),this.template=this.templateBindingObserver.observe(e,this.originalContext),this.observeItems(!0),this.refreshAllViews()}unbind(){this.source=null,this.items=null,null!==this.itemsObserver&&this.itemsObserver.unsubscribe(this),this.unbindAllViews(),this.itemsBindingObserver.disconnect(),this.templateBindingObserver.disconnect()}handleChange(e,t){e===this.itemsBinding?(this.items=this.itemsBindingObserver.observe(this.source,this.originalContext),this.observeItems(),this.refreshAllViews()):e===this.templateBinding?(this.template=this.templateBindingObserver.observe(this.source,this.originalContext),this.refreshAllViews(!0)):this.updateViews(t)}observeItems(e=!1){if(!this.items)return void(this.items=r.o);const t=this.itemsObserver,i=this.itemsObserver=n.y$.getNotifier(this.items),o=t!==i;o&&null!==t&&t.unsubscribe(this),(o||e)&&i.subscribe(this)}updateViews(e){const t=this.childContext,i=this.views,o=[],n=this.bindView;let r=0;for(let t=0,n=e.length;t<n;++t){const n=e[t],s=n.removed;o.push(...i.splice(n.index+r,s.length)),r-=n.addedCount}const s=this.items,a=this.template;for(let r=0,l=e.length;r<l;++r){const l=e[r];let c=l.index;const d=c+l.addedCount;for(;c<d;++c){const e=i[c],r=e?e.firstChild:this.location,l=o.length>0?o.shift():a.create();i.splice(c,0,l),n(l,s,c,t),l.insertBefore(r)}}for(let e=0,t=o.length;e<t;++e)o[e].dispose();if(this.options.positioning)for(let e=0,t=i.length;e<t;++e){const o=i[e].context;o.length=t,o.index=e}}refreshAllViews(e=!1){const t=this.items,i=this.childContext,o=this.template,n=this.location,r=this.bindView;let s=t.length,a=this.views,l=a.length;if((0===s||e)&&(w.b.disposeContiguousBatch(a),l=0),0===l){this.views=a=new Array(s);for(let e=0;e<s;++e){const s=o.create();r(s,t,e,i),a[e]=s,s.insertBefore(n)}}else{let e=0;for(;e<s;++e)if(e<l){r(a[e],t,e,i)}else{const s=o.create();r(s,t,e,i),a.push(s),s.insertBefore(n)}const c=a.splice(e,l-e);for(e=0,s=c.length;e<s;++e)c[e].dispose()}}unbindAllViews(){const e=this.views;for(let t=0,i=e.length;t<i;++t)e[t].unbind()}}class L extends y.m0{constructor(e,t,i){super(),this.itemsBinding=e,this.templateBinding=t,this.options=i,this.createPlaceholder=o.SO.createBlockPlaceholder,function(){if(v)return;v=!0,n.y$.setArrayObserverFactory((e=>new m(e)));const e=Array.prototype,t=e.pop,i=e.push,o=e.reverse,r=e.shift,a=e.sort,l=e.splice,c=e.unshift;e.pop=function(){const e=this.length>0,i=t.apply(this,arguments),o=this.$fastController;return void 0!==o&&e&&o.addSplice(s(this.length,[i],0)),i},e.push=function(){const e=i.apply(this,arguments),t=this.$fastController;return void 0!==t&&t.addSplice(b(s(this.length-arguments.length,[],arguments.length),this)),e},e.reverse=function(){let e;const t=this.$fastController;void 0!==t&&(t.flush(),e=this.slice());const i=o.apply(this,arguments);return void 0!==t&&t.reset(e),i},e.shift=function(){const e=this.length>0,t=r.apply(this,arguments),i=this.$fastController;return void 0!==i&&e&&i.addSplice(s(0,[t],0)),t},e.sort=function(){let e;const t=this.$fastController;void 0!==t&&(t.flush(),e=this.slice());const i=a.apply(this,arguments);return void 0!==t&&t.reset(e),i},e.splice=function(){const e=l.apply(this,arguments),t=this.$fastController;return void 0!==t&&t.addSplice(b(s(+arguments[0],e,arguments.length>2?arguments.length-2:0),this)),e},e.unshift=function(){const e=c.apply(this,arguments),t=this.$fastController;return void 0!==t&&t.addSplice(b(s(0,[],arguments.length),this)),e}}(),this.isItemsBindingVolatile=n.y$.isVolatileBinding(e),this.isTemplateBindingVolatile=n.y$.isVolatileBinding(t)}createBehavior(e){return new S(e,this.itemsBinding,this.isItemsBindingVolatile,this.templateBinding,this.isTemplateBindingVolatile,this.options)}}function $(e,t,i=x){return new L(e,"function"==typeof t?t:()=>t,i)}},574:function(e,t,i){"use strict";i.d(t,{Q:function(){return s}});var o=i(258),n=i(928);class r extends n.x{constructor(e,t){super(e,t)}observe(){this.target.addEventListener("slotchange",this)}disconnect(){this.target.removeEventListener("slotchange",this)}getNodes(){return this.target.assignedNodes(this.options)}}function s(e){return"string"==typeof e&&(e={property:e}),new o.ON("fast-slotted",r,e)}},161:function(e,t,i){"use strict";i.d(t,{b:function(){return n}});const o=document.createRange();class n{constructor(e,t){this.fragment=e,this.behaviors=t,this.source=null,this.context=null,this.firstChild=e.firstChild,this.lastChild=e.lastChild}appendTo(e){e.appendChild(this.fragment)}insertBefore(e){if(this.fragment.hasChildNodes())e.parentNode.insertBefore(this.fragment,e);else{const t=e.parentNode,i=this.lastChild;let o,n=this.firstChild;for(;n!==i;)o=n.nextSibling,t.insertBefore(n,e),n=o;t.insertBefore(i,e)}}remove(){const e=this.fragment,t=this.lastChild;let i,o=this.firstChild;for(;o!==t;)i=o.nextSibling,e.appendChild(o),o=i;e.appendChild(t)}dispose(){const e=this.firstChild.parentNode,t=this.lastChild;let i,o=this.firstChild;for(;o!==t;)i=o.nextSibling,e.removeChild(o),o=i;e.removeChild(t);const n=this.behaviors,r=this.source;for(let e=0,t=n.length;e<t;++e)n[e].unbind(r)}bind(e,t){const i=this.behaviors;if(this.source!==e)if(null!==this.source){const o=this.source;this.source=e,this.context=t;for(let n=0,r=i.length;n<r;++n){const r=i[n];r.unbind(o),r.bind(e,t)}}else{this.source=e,this.context=t;for(let o=0,n=i.length;o<n;++o)i[o].bind(e,t)}}unbind(){if(null===this.source)return;const e=this.behaviors,t=this.source;for(let i=0,o=e.length;i<o;++i)e[i].unbind(t);this.source=null}static disposeContiguousBatch(e){if(0!==e.length){o.setStartBefore(e[0].firstChild),o.setEndAfter(e[e.length-1].lastChild),o.deleteContents();for(let t=0,i=e.length;t<i;++t){const i=e[t],o=i.behaviors,n=i.source;for(let e=0,t=o.length;e<t;++e)o[e].unbind(n)}}}}},682:function(e,t,i){"use strict";function o(e,t){const i="function"==typeof t?t:()=>t;return(t,o)=>e(t,o)?i(t,o):null}i.d(t,{g:function(){return o}})},839:function(e,t,i){"use strict";i.d(t,{default:function(){return nf}});var o={};i.r(o);var n=i(993);function r(e){return new s(e)}class s{constructor(e){if(this.node=e,!e)throw Error("node must not be null or undefined.")}get isUnsupported(){return this.node.properties&&this.node.properties[s.isUnsupportedPropertyName]}set isUnsupported(e){this.verifyPropertyBagExists(),this.node.properties[s.isUnsupportedPropertyName]=e}get mapsToDom(){var e;return!1!==(null===(e=this.node.properties)||void 0===e?void 0:e[s.mapsToDomPropertyName])}set mapsToDom(e){this.verifyPropertyBagExists(),this.node.properties[s.mapsToDomPropertyName]=e}get codeBlockType(){var e;return this.convertToCodeBlockType(null===(e=this.node.properties)||void 0===e?void 0:e[s.codeBlockTypePropertyName])}set codeBlockType(e){this.verifyPropertyBagExists();const t=this.convertStringToCodeBlockType(e);this.node.properties[s.codeBlockTypePropertyName]=t}convertToCodeBlockType(e){return 1===e?"SelfContained":2===e?"Conditional":3===e?"Loop":4===e?"Block":"None"}convertStringToCodeBlockType(e){return"SelfContained"===e?1:"Conditional"===e?2:"Loop"===e?3:"Block"===e?4:0}verifyPropertyBagExists(){this.node.properties||(this.node.properties={})}}s.isUnsupportedPropertyName="IsUnsupportedProperty",s.mapsToDomPropertyName="MapsToDomProperty",s.codeBlockTypePropertyName="CodeBlockTypeProperty";class a{constructor(){this.isMouseCloserToNodeBoundingClientRectLeftThanRight=(e,t)=>{const i=this.getBoundingClientRect(t);return e<(i.left+i.right)/2}}getBoundingClientRect(e){if(function(e){return void 0!==e.getBoundingClientRect}(e))return e.getBoundingClientRect();const t=document.createRange();return t.selectNodeContents(e),t.getBoundingClientRect()}hasNonZeroArea(e){const t=this.getBoundingClientRect(e);return t&&t.width>0&&t.height>0}}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function d(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?Object(arguments[t]):{},o=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(i).filter((function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable})))),o.forEach((function(t){c(e,t,i[t])}))}return e}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function p(e,t,i){return t&&u(e.prototype,t),i&&u(e,i),e}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?g(e):t}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}var y={type:"logger",log:function(e){this.output("log",e)},warn:function(e){this.output("warn",e)},error:function(e){this.output("error",e)},output:function(e,t){console&&console[e]&&console[e].apply(console,t)}},w=new(function(){function e(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};h(this,e),this.init(t,i)}return p(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||y,this.options=t,this.debug=t.debug}},{key:"setDebug",value:function(e){this.debug=e}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.forward(t,"log","",!0)}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.forward(t,"warn","",!0)}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.forward(t,"error","")}},{key:"deprecate",value:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(e,t,i,o){return o&&!this.debug?null:("string"==typeof e[0]&&(e[0]="".concat(i).concat(this.prefix," ").concat(e[0])),this.logger[t](e))}},{key:"create",value:function(t){return new e(this.logger,d({},{prefix:"".concat(this.prefix,":").concat(t,":")},this.options))}}]),e}()),x=function(){function e(){h(this,e),this.observers={}}return p(e,[{key:"on",value:function(e,t){var i=this;return e.split(" ").forEach((function(e){i.observers[e]=i.observers[e]||[],i.observers[e].push(t)})),this}},{key:"off",value:function(e,t){this.observers[e]&&(t?this.observers[e]=this.observers[e].filter((function(e){return e!==t})):delete this.observers[e])}},{key:"emit",value:function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),o=1;o<t;o++)i[o-1]=arguments[o];if(this.observers[e]){var n=[].concat(this.observers[e]);n.forEach((function(e){e.apply(void 0,i)}))}if(this.observers["*"]){var r=[].concat(this.observers["*"]);r.forEach((function(t){t.apply(t,[e].concat(i))}))}}}]),e}();function k(){var e,t,i=new Promise((function(i,o){e=i,t=o}));return i.resolve=e,i.reject=t,i}function C(e){return null==e?"":""+e}function S(e,t,i){e.forEach((function(e){t[e]&&(i[e]=t[e])}))}function L(e,t,i){function o(e){return e&&e.indexOf("###")>-1?e.replace(/###/g,"."):e}function n(){return!e||"string"==typeof e}for(var r="string"!=typeof t?[].concat(t):t.split(".");r.length>1;){if(n())return{};var s=o(r.shift());!e[s]&&i&&(e[s]=new i),e=Object.prototype.hasOwnProperty.call(e,s)?e[s]:{}}return n()?{}:{obj:e,k:o(r.shift())}}function $(e,t,i){var o=L(e,t,Object);o.obj[o.k]=i}function E(e,t){var i=L(e,t),o=i.obj,n=i.k;if(o)return o[n]}function N(e,t,i){var o=E(e,i);return void 0!==o?o:E(t,i)}function P(e,t,i){for(var o in t)"__proto__"!==o&&"constructor"!==o&&(o in e?"string"==typeof e[o]||e[o]instanceof String||"string"==typeof t[o]||t[o]instanceof String?i&&(e[o]=t[o]):P(e[o],t[o],i):e[o]=t[o]);return e}function D(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var T={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function O(e){return"string"==typeof e?e.replace(/[&<>"'\/]/g,(function(e){return T[e]})):e}var _="undefined"!=typeof window&&window.navigator&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,B=function(e){function t(e){var i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};return h(this,t),i=f(this,v(t).call(this)),_&&x.call(g(i)),i.data=e||{},i.options=o,void 0===i.options.keySeparator&&(i.options.keySeparator="."),i}return m(t,e),p(t,[{key:"addNamespaces",value:function(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}},{key:"removeNamespaces",value:function(e){var t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}},{key:"getResource",value:function(e,t,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=void 0!==o.keySeparator?o.keySeparator:this.options.keySeparator,r=[e,t];return i&&"string"!=typeof i&&(r=r.concat(i)),i&&"string"==typeof i&&(r=r.concat(n?i.split(n):i)),e.indexOf(".")>-1&&(r=e.split(".")),E(this.data,r)}},{key:"addResource",value:function(e,t,i,o){var n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},r=this.options.keySeparator;void 0===r&&(r=".");var s=[e,t];i&&(s=s.concat(r?i.split(r):i)),e.indexOf(".")>-1&&(o=t,t=(s=e.split("."))[1]),this.addNamespaces(t),$(this.data,s,o),n.silent||this.emit("added",e,t,i,o)}},{key:"addResources",value:function(e,t,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(var n in i)"string"!=typeof i[n]&&"[object Array]"!==Object.prototype.toString.apply(i[n])||this.addResource(e,t,n,i[n],{silent:!0});o.silent||this.emit("added",e,t,i)}},{key:"addResourceBundle",value:function(e,t,i,o,n){var r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1},s=[e,t];e.indexOf(".")>-1&&(o=i,i=t,t=(s=e.split("."))[1]),this.addNamespaces(t);var a=E(this.data,s)||{};o?P(a,i,n):a=d({},a,i),$(this.data,s,a),r.silent||this.emit("added",e,t,i)}},{key:"removeResourceBundle",value:function(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}},{key:"hasResourceBundle",value:function(e,t){return void 0!==this.getResource(e,t)}},{key:"getResourceBundle",value:function(e,t){return t||(t=this.options.defaultNS),"v1"===this.options.compatibilityAPI?d({},{},this.getResource(e,t)):this.getResource(e,t)}},{key:"getDataByLanguage",value:function(e){return this.data[e]}},{key:"toJSON",value:function(){return this.data}}]),t}(x),A={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,t,i,o,n){var r=this;return e.forEach((function(e){r.processors[e]&&(t=r.processors[e].process(t,i,o,n))})),t}},F={},R=function(e){function t(e){var i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return h(this,t),i=f(this,v(t).call(this)),_&&x.call(g(i)),S(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,g(i)),i.options=o,void 0===i.options.keySeparator&&(i.options.keySeparator="."),i.logger=w.create("translator"),i}return m(t,e),p(t,[{key:"changeLanguage",value:function(e){e&&(this.language=e)}},{key:"exists",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}},i=this.resolve(e,t);return i&&void 0!==i.res}},{key:"extractFromKey",value:function(e,t){var i=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===i&&(i=":");var o=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,n=t.ns||this.options.defaultNS;if(i&&e.indexOf(i)>-1){var r=e.match(this.interpolator.nestingRegexp);if(r&&r.length>0)return{key:e,namespaces:n};var s=e.split(i);(i!==o||i===o&&this.options.ns.indexOf(s[0])>-1)&&(n=s.shift()),e=s.join(o)}return"string"==typeof n&&(n=[n]),{key:e,namespaces:n}}},{key:"translate",value:function(e,i,o){var n=this;if("object"!==l(i)&&this.options.overloadTranslationOptionHandler&&(i=this.options.overloadTranslationOptionHandler(arguments)),i||(i={}),null==e)return"";Array.isArray(e)||(e=[String(e)]);var r=void 0!==i.keySeparator?i.keySeparator:this.options.keySeparator,s=this.extractFromKey(e[e.length-1],i),a=s.key,c=s.namespaces,h=c[c.length-1],u=i.lng||this.language,p=i.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(u&&"cimode"===u.toLowerCase()){if(p){var g=i.nsSeparator||this.options.nsSeparator;return h+g+a}return a}var f=this.resolve(e,i),v=f&&f.res,b=f&&f.usedKey||a,m=f&&f.exactUsedKey||a,y=Object.prototype.toString.apply(v),w=["[object Number]","[object Function]","[object RegExp]"],x=void 0!==i.joinArrays?i.joinArrays:this.options.joinArrays,k=!this.i18nFormat||this.i18nFormat.handleAsObject,C="string"!=typeof v&&"boolean"!=typeof v&&"number"!=typeof v;if(k&&v&&C&&w.indexOf(y)<0&&("string"!=typeof x||"[object Array]"!==y)){if(!i.returnObjects&&!this.options.returnObjects)return this.logger.warn("accessing an object - but returnObjects options is not enabled!"),this.options.returnedObjectHandler?this.options.returnedObjectHandler(b,v,i):"key '".concat(a," (").concat(this.language,")' returned an object instead of string.");if(r){var S="[object Array]"===y,L=S?[]:{},$=S?m:b;for(var E in v)if(Object.prototype.hasOwnProperty.call(v,E)){var N="".concat($).concat(r).concat(E);L[E]=this.translate(N,d({},i,{joinArrays:!1,ns:c})),L[E]===N&&(L[E]=v[E])}v=L}}else if(k&&"string"==typeof x&&"[object Array]"===y)(v=v.join(x))&&(v=this.extendTranslation(v,e,i,o));else{var P=!1,D=!1,T=void 0!==i.count&&"string"!=typeof i.count,O=t.hasDefaultValue(i),_=T?this.pluralResolver.getSuffix(u,i.count):"",B=i["defaultValue".concat(_)];!this.isValidLookup(v)&&O&&(P=!0,v=B),this.isValidLookup(v)||(D=!0,v=a);var A=O&&B!==v&&this.options.updateMissing;if(D||P||A){if(this.logger.log(A?"updateKey":"missingKey",u,h,a,A?B:v),r){var F=this.resolve(a,d({},i,{keySeparator:!1}));F&&F.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var R=[],I=this.languageUtils.getFallbackCodes(this.options.fallbackLng,i.lng||this.language);if("fallback"===this.options.saveMissingTo&&I&&I[0])for(var M=0;M<I.length;M++)R.push(I[M]);else"all"===this.options.saveMissingTo?R=this.languageUtils.toResolveHierarchy(i.lng||this.language):R.push(i.lng||this.language);var H=function(e,t,o){n.options.missingKeyHandler?n.options.missingKeyHandler(e,h,t,A?o:v,A,i):n.backendConnector&&n.backendConnector.saveMissing&&n.backendConnector.saveMissing(e,h,t,A?o:v,A,i),n.emit("missingKey",e,h,t,v)};this.options.saveMissing&&(this.options.saveMissingPlurals&&T?R.forEach((function(e){n.pluralResolver.getSuffixes(e).forEach((function(t){H([e],a+t,i["defaultValue".concat(t)])}))})):H(R,a,B))}v=this.extendTranslation(v,e,i,f,o),D&&v===a&&this.options.appendNamespaceToMissingKey&&(v="".concat(h,":").concat(a)),D&&this.options.parseMissingKeyHandler&&(v=this.options.parseMissingKeyHandler(v))}return v}},{key:"extendTranslation",value:function(e,t,i,o,n){var r=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,i,o.usedLng,o.usedNS,o.usedKey,{resolved:o});else if(!i.skipInterpolation){i.interpolation&&this.interpolator.init(d({},i,{interpolation:d({},this.options.interpolation,i.interpolation)}));var s,a=i.interpolation&&i.interpolation.skipOnVariables||this.options.interpolation.skipOnVariables;if(a){var l=e.match(this.interpolator.nestingRegexp);s=l&&l.length}var c=i.replace&&"string"!=typeof i.replace?i.replace:i;if(this.options.interpolation.defaultVariables&&(c=d({},this.options.interpolation.defaultVariables,c)),e=this.interpolator.interpolate(e,c,i.lng||this.language,i),a){var h=e.match(this.interpolator.nestingRegexp);s<(h&&h.length)&&(i.nest=!1)}!1!==i.nest&&(e=this.interpolator.nest(e,(function(){for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return n&&n[0]===o[0]&&!i.context?(r.logger.warn("It seems you are nesting recursively key: ".concat(o[0]," in key: ").concat(t[0])),null):r.translate.apply(r,o.concat([t]))}),i)),i.interpolation&&this.interpolator.reset()}var u=i.postProcess||this.options.postProcess,p="string"==typeof u?[u]:u;return null!=e&&p&&p.length&&!1!==i.applyPostProcessor&&(e=A.handle(p,e,t,this.options&&this.options.postProcessPassResolved?d({i18nResolved:o},i):i,this)),e}},{key:"resolve",value:function(e){var t,i,o,n,r,s=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"==typeof e&&(e=[e]),e.forEach((function(e){if(!s.isValidLookup(t)){var l=s.extractFromKey(e,a),c=l.key;i=c;var d=l.namespaces;s.options.fallbackNS&&(d=d.concat(s.options.fallbackNS));var h=void 0!==a.count&&"string"!=typeof a.count,u=void 0!==a.context&&"string"==typeof a.context&&""!==a.context,p=a.lngs?a.lngs:s.languageUtils.toResolveHierarchy(a.lng||s.language,a.fallbackLng);d.forEach((function(e){s.isValidLookup(t)||(r=e,!F["".concat(p[0],"-").concat(e)]&&s.utils&&s.utils.hasLoadedNamespace&&!s.utils.hasLoadedNamespace(r)&&(F["".concat(p[0],"-").concat(e)]=!0,s.logger.warn('key "'.concat(i,'" for languages "').concat(p.join(", "),'" won\'t get resolved as namespace "').concat(r,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),p.forEach((function(i){if(!s.isValidLookup(t)){n=i;var r,l,d=c,p=[d];if(s.i18nFormat&&s.i18nFormat.addLookupKeys)s.i18nFormat.addLookupKeys(p,c,i,e,a);else h&&(r=s.pluralResolver.getSuffix(i,a.count)),h&&u&&p.push(d+r),u&&p.push(d+="".concat(s.options.contextSeparator).concat(a.context)),h&&p.push(d+=r);for(;l=p.pop();)s.isValidLookup(t)||(o=l,t=s.getResource(i,e,l,a))}})))}))}})),{res:t,usedKey:i,exactUsedKey:o,usedLng:n,usedNS:r}}},{key:"isValidLookup",value:function(e){return!(void 0===e||!this.options.returnNull&&null===e||!this.options.returnEmptyString&&""===e)}},{key:"getResource",value:function(e,t,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,i,o):this.resourceStore.getResource(e,t,i,o)}}],[{key:"hasDefaultValue",value:function(e){var t="defaultValue";for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&t===i.substring(0,t.length)&&void 0!==e[i])return!0;return!1}}]),t}(x);function I(e){return e.charAt(0).toUpperCase()+e.slice(1)}var M=function(){function e(t){h(this,e),this.options=t,this.whitelist=this.options.supportedLngs||!1,this.supportedLngs=this.options.supportedLngs||!1,this.logger=w.create("languageUtils")}return p(e,[{key:"getScriptPartFromCode",value:function(e){if(!e||e.indexOf("-")<0)return null;var t=e.split("-");return 2===t.length?null:(t.pop(),"x"===t[t.length-1].toLowerCase()?null:this.formatLanguageCode(t.join("-")))}},{key:"getLanguagePartFromCode",value:function(e){if(!e||e.indexOf("-")<0)return e;var t=e.split("-");return this.formatLanguageCode(t[0])}},{key:"formatLanguageCode",value:function(e){if("string"==typeof e&&e.indexOf("-")>-1){var t=["hans","hant","latn","cyrl","cans","mong","arab"],i=e.split("-");return this.options.lowerCaseLng?i=i.map((function(e){return e.toLowerCase()})):2===i.length?(i[0]=i[0].toLowerCase(),i[1]=i[1].toUpperCase(),t.indexOf(i[1].toLowerCase())>-1&&(i[1]=I(i[1].toLowerCase()))):3===i.length&&(i[0]=i[0].toLowerCase(),2===i[1].length&&(i[1]=i[1].toUpperCase()),"sgn"!==i[0]&&2===i[2].length&&(i[2]=i[2].toUpperCase()),t.indexOf(i[1].toLowerCase())>-1&&(i[1]=I(i[1].toLowerCase())),t.indexOf(i[2].toLowerCase())>-1&&(i[2]=I(i[2].toLowerCase()))),i.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}},{key:"isWhitelisted",value:function(e){return this.logger.deprecate("languageUtils.isWhitelisted",'function "isWhitelisted" will be renamed to "isSupportedCode" in the next major - please make sure to rename it\'s usage asap.'),this.isSupportedCode(e)}},{key:"isSupportedCode",value:function(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}},{key:"getBestMatchFromCodes",value:function(e){var t,i=this;return e?(e.forEach((function(e){if(!t){var o=i.formatLanguageCode(e);i.options.supportedLngs&&!i.isSupportedCode(o)||(t=o)}})),!t&&this.options.supportedLngs&&e.forEach((function(e){if(!t){var o=i.getLanguagePartFromCode(e);if(i.isSupportedCode(o))return t=o;t=i.options.supportedLngs.find((function(e){if(0===e.indexOf(o))return e}))}})),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t):null}},{key:"getFallbackCodes",value:function(e,t){if(!e)return[];if("function"==typeof e&&(e=e(t)),"string"==typeof e&&(e=[e]),"[object Array]"===Object.prototype.toString.apply(e))return e;if(!t)return e["default"]||[];var i=e[t];return i||(i=e[this.getScriptPartFromCode(t)]),i||(i=e[this.formatLanguageCode(t)]),i||(i=e[this.getLanguagePartFromCode(t)]),i||(i=e["default"]),i||[]}},{key:"toResolveHierarchy",value:function(e,t){var i=this,o=this.getFallbackCodes(t||this.options.fallbackLng||[],e),n=[],r=function(e){e&&(i.isSupportedCode(e)?n.push(e):i.logger.warn("rejecting language code not found in supportedLngs: ".concat(e)))};return"string"==typeof e&&e.indexOf("-")>-1?("languageOnly"!==this.options.load&&r(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&r(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&r(this.getLanguagePartFromCode(e))):"string"==typeof e&&r(this.formatLanguageCode(e)),o.forEach((function(e){n.indexOf(e)<0&&r(i.formatLanguageCode(e))})),n}}]),e}(),H=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","kk","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],j={1:function(e){return Number(e>1)},2:function(e){return Number(1!=e)},3:function(e){return 0},4:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},5:function(e){return Number(0==e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)},6:function(e){return Number(1==e?0:e>=2&&e<=4?1:2)},7:function(e){return Number(1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},8:function(e){return Number(1==e?0:2==e?1:8!=e&&11!=e?2:3)},9:function(e){return Number(e>=2)},10:function(e){return Number(1==e?0:2==e?1:e<7?2:e<11?3:4)},11:function(e){return Number(1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3)},12:function(e){return Number(e%10!=1||e%100==11)},13:function(e){return Number(0!==e)},14:function(e){return Number(1==e?0:2==e?1:3==e?2:3)},15:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)},16:function(e){return Number(e%10==1&&e%100!=11?0:0!==e?1:2)},17:function(e){return Number(1==e||e%10==1&&e%100!=11?0:1)},18:function(e){return Number(0==e?0:1==e?1:2)},19:function(e){return Number(1==e?0:0==e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)},20:function(e){return Number(1==e?0:0==e||e%100>0&&e%100<20?1:2)},21:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)},22:function(e){return Number(1==e?0:2==e?1:(e<0||e>10)&&e%10==0?2:3)}};function z(){var e={};return H.forEach((function(t){t.lngs.forEach((function(i){e[i]={numbers:t.nr,plurals:j[t.fc]}}))})),e}var V=function(){function e(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};h(this,e),this.languageUtils=t,this.options=i,this.logger=w.create("pluralResolver"),this.rules=z()}return p(e,[{key:"addRule",value:function(e,t){this.rules[e]=t}},{key:"getRule",value:function(e){return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}},{key:"needsPlural",value:function(e){var t=this.getRule(e);return t&&t.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(e,t){return this.getSuffixes(e).map((function(e){return t+e}))}},{key:"getSuffixes",value:function(e){var t=this,i=this.getRule(e);return i?i.numbers.map((function(i){return t.getSuffix(e,i)})):[]}},{key:"getSuffix",value:function(e,t){var i=this,o=this.getRule(e);if(o){var n=o.noAbs?o.plurals(t):o.plurals(Math.abs(t)),r=o.numbers[n];this.options.simplifyPluralSuffix&&2===o.numbers.length&&1===o.numbers[0]&&(2===r?r="plural":1===r&&(r=""));var s=function(){return i.options.prepend&&r.toString()?i.options.prepend+r.toString():r.toString()};return"v1"===this.options.compatibilityJSON?1===r?"":"number"==typeof r?"_plural_".concat(r.toString()):s():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===o.numbers.length&&1===o.numbers[0]?s():this.options.prepend&&n.toString()?this.options.prepend+n.toString():n.toString()}return this.logger.warn("no plural rule found for: ".concat(e)),""}}]),e}(),U=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};h(this,e),this.logger=w.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||function(e){return e},this.init(t)}return p(e,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});var t=e.interpolation;this.escape=void 0!==t.escape?t.escape:O,this.escapeValue=void 0===t.escapeValue||t.escapeValue,this.useRawValueToEscape=void 0!==t.useRawValueToEscape&&t.useRawValueToEscape,this.prefix=t.prefix?D(t.prefix):t.prefixEscaped||"{{",this.suffix=t.suffix?D(t.suffix):t.suffixEscaped||"}}",this.formatSeparator=t.formatSeparator?t.formatSeparator:t.formatSeparator||",",this.unescapePrefix=t.unescapeSuffix?"":t.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":t.unescapeSuffix||"",this.nestingPrefix=t.nestingPrefix?D(t.nestingPrefix):t.nestingPrefixEscaped||D("$t("),this.nestingSuffix=t.nestingSuffix?D(t.nestingSuffix):t.nestingSuffixEscaped||D(")"),this.nestingOptionsSeparator=t.nestingOptionsSeparator?t.nestingOptionsSeparator:t.nestingOptionsSeparator||",",this.maxReplaces=t.maxReplaces?t.maxReplaces:1e3,this.alwaysFormat=void 0!==t.alwaysFormat&&t.alwaysFormat,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var e="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(e,"g");var t="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(t,"g");var i="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(i,"g")}},{key:"interpolate",value:function(e,t,i,o){var n,r,s,a=this,l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function c(e){return e.replace(/\$/g,"$$$$")}var d=function(e){if(e.indexOf(a.formatSeparator)<0){var n=N(t,l,e);return a.alwaysFormat?a.format(n,void 0,i):n}var r=e.split(a.formatSeparator),s=r.shift().trim(),c=r.join(a.formatSeparator).trim();return a.format(N(t,l,s),c,i,o)};this.resetRegExp();var h=o&&o.missingInterpolationHandler||this.options.missingInterpolationHandler,u=o&&o.interpolation&&o.interpolation.skipOnVariables||this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:function(e){return c(e)}},{regex:this.regexp,safeValue:function(e){return a.escapeValue?c(a.escape(e)):c(e)}}].forEach((function(t){for(s=0;n=t.regex.exec(e);){if(void 0===(r=d(n[1].trim())))if("function"==typeof h){var i=h(e,n,o);r="string"==typeof i?i:""}else{if(u){r=n[0];continue}a.logger.warn("missed to pass in variable ".concat(n[1]," for interpolating ").concat(e)),r=""}else"string"==typeof r||a.useRawValueToEscape||(r=C(r));if(e=e.replace(n[0],t.safeValue(r)),t.regex.lastIndex=0,++s>=a.maxReplaces)break}})),e}},{key:"nest",value:function(e,t){var i,o,n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=d({},r);function a(e,t){var i=this.nestingOptionsSeparator;if(e.indexOf(i)<0)return e;var o=e.split(new RegExp("".concat(i,"[ ]*{"))),n="{".concat(o[1]);e=o[0],n=(n=this.interpolate(n,s)).replace(/'/g,'"');try{s=JSON.parse(n),t&&(s=d({},t,s))}catch(t){return this.logger.warn("failed parsing options string in nesting for key ".concat(e),t),"".concat(e).concat(i).concat(n)}return delete s.defaultValue,e}for(s.applyPostProcessor=!1,delete s.defaultValue;i=this.nestingRegexp.exec(e);){var l=[],c=!1;if(i[0].includes(this.formatSeparator)&&!/{.*}/.test(i[1])){var h=i[1].split(this.formatSeparator).map((function(e){return e.trim()}));i[1]=h.shift(),l=h,c=!0}if((o=t(a.call(this,i[1].trim(),s),s))&&i[0]===e&&"string"!=typeof o)return o;"string"!=typeof o&&(o=C(o)),o||(this.logger.warn("missed to resolve ".concat(i[1]," for nesting ").concat(e)),o=""),c&&(o=l.reduce((function(e,t){return n.format(e,t,r.lng,r)}),o.trim())),e=e.replace(i[0],o),this.regexp.lastIndex=0}return e}}]),e}();var q=function(e){function t(e,i,o){var n,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return h(this,t),n=f(this,v(t).call(this)),_&&x.call(g(n)),n.backend=e,n.store=i,n.services=o,n.languageUtils=o.languageUtils,n.options=r,n.logger=w.create("backendConnector"),n.state={},n.queue=[],n.backend&&n.backend.init&&n.backend.init(o,r.backend,r),n}return m(t,e),p(t,[{key:"queueLoad",value:function(e,t,i,o){var n=this,r=[],s=[],a=[],l=[];return e.forEach((function(e){var o=!0;t.forEach((function(t){var a="".concat(e,"|").concat(t);!i.reload&&n.store.hasResourceBundle(e,t)?n.state[a]=2:n.state[a]<0||(1===n.state[a]?s.indexOf(a)<0&&s.push(a):(n.state[a]=1,o=!1,s.indexOf(a)<0&&s.push(a),r.indexOf(a)<0&&r.push(a),l.indexOf(t)<0&&l.push(t)))})),o||a.push(e)})),(r.length||s.length)&&this.queue.push({pending:s,loaded:{},errors:[],callback:o}),{toLoad:r,pending:s,toLoadLanguages:a,toLoadNamespaces:l}}},{key:"loaded",value:function(e,t,i){var o=e.split("|"),n=o[0],r=o[1];t&&this.emit("failedLoading",n,r,t),i&&this.store.addResourceBundle(n,r,i),this.state[e]=t?-1:2;var s={};this.queue.forEach((function(i){!function(e,t,i,o){var n=L(e,t,Object),r=n.obj,s=n.k;r[s]=r[s]||[],o&&(r[s]=r[s].concat(i)),o||r[s].push(i)}(i.loaded,[n],r),function(e,t){for(var i=e.indexOf(t);-1!==i;)e.splice(i,1),i=e.indexOf(t)}(i.pending,e),t&&i.errors.push(t),0!==i.pending.length||i.done||(Object.keys(i.loaded).forEach((function(e){s[e]||(s[e]=[]),i.loaded[e].length&&i.loaded[e].forEach((function(t){s[e].indexOf(t)<0&&s[e].push(t)}))})),i.done=!0,i.errors.length?i.callback(i.errors):i.callback())})),this.emit("loaded",s),this.queue=this.queue.filter((function(e){return!e.done}))}},{key:"read",value:function(e,t,i){var o=this,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:350,s=arguments.length>5?arguments[5]:void 0;return e.length?this.backend[i](e,t,(function(a,l){a&&l&&n<5?setTimeout((function(){o.read.call(o,e,t,i,n+1,2*r,s)}),r):s(a,l)})):s(null,{})}},{key:"prepareLoading",value:function(e,t){var i=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),n&&n();"string"==typeof e&&(e=this.languageUtils.toResolveHierarchy(e)),"string"==typeof t&&(t=[t]);var r=this.queueLoad(e,t,o,n);if(!r.toLoad.length)return r.pending.length||n(),null;r.toLoad.forEach((function(e){i.loadOne(e)}))}},{key:"load",value:function(e,t,i){this.prepareLoading(e,t,{},i)}},{key:"reload",value:function(e,t,i){this.prepareLoading(e,t,{reload:!0},i)}},{key:"loadOne",value:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o=e.split("|"),n=o[0],r=o[1];this.read(n,r,"read",void 0,void 0,(function(o,s){o&&t.logger.warn("".concat(i,"loading namespace ").concat(r," for language ").concat(n," failed"),o),!o&&s&&t.logger.log("".concat(i,"loaded namespace ").concat(r," for language ").concat(n),s),t.loaded(e,o,s)}))}},{key:"saveMissing",value:function(e,t,i,o,n){var r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t)?this.logger.warn('did not save key "'.concat(i,'" as the namespace "').concat(t,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!"):null!=i&&""!==i&&(this.backend&&this.backend.create&&this.backend.create(e,t,i,o,null,d({},r,{isUpdate:n})),e&&e[0]&&this.store.addResource(e[0],t,i,o))}}]),t}(x);function K(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,whitelist:!1,nonExplicitWhitelist:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){var t={};if("object"===l(e[1])&&(t=e[1]),"string"==typeof e[1]&&(t.defaultValue=e[1]),"string"==typeof e[2]&&(t.tDescription=e[2]),"object"===l(e[2])||"object"===l(e[3])){var i=e[3]||e[2];Object.keys(i).forEach((function(e){t[e]=i[e]}))}return t},interpolation:{escapeValue:!0,format:function(e,t,i,o){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!1}}}function W(e){return"string"==typeof e.ns&&(e.ns=[e.ns]),"string"==typeof e.fallbackLng&&(e.fallbackLng=[e.fallbackLng]),"string"==typeof e.fallbackNS&&(e.fallbackNS=[e.fallbackNS]),e.whitelist&&(e.whitelist&&e.whitelist.indexOf("cimode")<0&&(e.whitelist=e.whitelist.concat(["cimode"])),e.supportedLngs=e.whitelist),e.nonExplicitWhitelist&&(e.nonExplicitSupportedLngs=e.nonExplicitWhitelist),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e}function G(){}var X=new(function(e){function t(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0;if(h(this,t),e=f(this,v(t).call(this)),_&&x.call(g(e)),e.options=W(i),e.services={},e.logger=w,e.modules={external:[]},o&&!e.isInitialized&&!i.isClone){if(!e.options.initImmediate)return e.init(i,o),f(e,g(e));setTimeout((function(){e.init(i,o)}),0)}return e}return m(t,e),p(t,[{key:"init",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;function o(e){return e?"function"==typeof e?new e:e:null}if("function"==typeof t&&(i=t,t={}),t.whitelist&&!t.supportedLngs&&this.logger.deprecate("whitelist",'option "whitelist" will be renamed to "supportedLngs" in the next major - please make sure to rename this option asap.'),t.nonExplicitWhitelist&&!t.nonExplicitSupportedLngs&&this.logger.deprecate("whitelist",'options "nonExplicitWhitelist" will be renamed to "nonExplicitSupportedLngs" in the next major - please make sure to rename this option asap.'),this.options=d({},K(),this.options,W(t)),this.format=this.options.interpolation.format,i||(i=G),!this.options.isClone){this.modules.logger?w.init(o(this.modules.logger),this.options):w.init(null,this.options);var n=new M(this.options);this.store=new B(this.options.resources,this.options);var r=this.services;r.logger=w,r.resourceStore=this.store,r.languageUtils=n,r.pluralResolver=new V(n,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),r.interpolator=new U(this.options),r.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},r.backendConnector=new q(o(this.modules.backend),r.resourceStore,r,this.options),r.backendConnector.on("*",(function(t){for(var i=arguments.length,o=new Array(i>1?i-1:0),n=1;n<i;n++)o[n-1]=arguments[n];e.emit.apply(e,[t].concat(o))})),this.modules.languageDetector&&(r.languageDetector=o(this.modules.languageDetector),r.languageDetector.init(r,this.options.detection,this.options)),this.modules.i18nFormat&&(r.i18nFormat=o(this.modules.i18nFormat),r.i18nFormat.init&&r.i18nFormat.init(this)),this.translator=new R(this.services,this.options),this.translator.on("*",(function(t){for(var i=arguments.length,o=new Array(i>1?i-1:0),n=1;n<i;n++)o[n-1]=arguments[n];e.emit.apply(e,[t].concat(o))})),this.modules.external.forEach((function(t){t.init&&t.init(e)}))}if(this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var s=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);s.length>0&&"dev"!==s[0]&&(this.options.lng=s[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");var a=["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"];a.forEach((function(t){e[t]=function(){var i;return(i=e.store)[t].apply(i,arguments)}}));var l=["addResource","addResources","addResourceBundle","removeResourceBundle"];l.forEach((function(t){e[t]=function(){var i;return(i=e.store)[t].apply(i,arguments),e}}));var c=k(),h=function(){var t=function(t,o){e.isInitialized&&e.logger.warn("init: i18next is already initialized. You should call init just once!"),e.isInitialized=!0,e.options.isClone||e.logger.log("initialized",e.options),e.emit("initialized",e.options),c.resolve(o),i(t,o)};if(e.languages&&"v1"!==e.options.compatibilityAPI)return t(null,e.t.bind(e));e.changeLanguage(e.options.lng,t)};return this.options.resources||!this.options.initImmediate?h():setTimeout(h,0),c}},{key:"loadResources",value:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:G,o=i,n="string"==typeof e?e:this.language;if("function"==typeof e&&(o=e),!this.options.resources||this.options.partialBundledLanguages){if(n&&"cimode"===n.toLowerCase())return o();var r=[],s=function(e){e&&t.services.languageUtils.toResolveHierarchy(e).forEach((function(e){r.indexOf(e)<0&&r.push(e)}))};if(n)s(n);else{var a=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);a.forEach((function(e){return s(e)}))}this.options.preload&&this.options.preload.forEach((function(e){return s(e)})),this.services.backendConnector.load(r,this.options.ns,o)}else o(null)}},{key:"reloadResources",value:function(e,t,i){var o=k();return e||(e=this.languages),t||(t=this.options.ns),i||(i=G),this.services.backendConnector.reload(e,t,(function(e){o.resolve(),i(e)})),o}},{key:"use",value:function(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&A.addPostProcessor(e),"3rdParty"===e.type&&this.modules.external.push(e),this}},{key:"changeLanguage",value:function(e,t){var i=this;this.isLanguageChangingTo=e;var o=k();this.emit("languageChanging",e);var n=function(e){var n="string"==typeof e?e:i.services.languageUtils.getBestMatchFromCodes(e);n&&(i.language||(i.language=n,i.languages=i.services.languageUtils.toResolveHierarchy(n)),i.translator.language||i.translator.changeLanguage(n),i.services.languageDetector&&i.services.languageDetector.cacheUserLanguage(n)),i.loadResources(n,(function(e){!function(e,n){n?(i.language=n,i.languages=i.services.languageUtils.toResolveHierarchy(n),i.translator.changeLanguage(n),i.isLanguageChangingTo=void 0,i.emit("languageChanged",n),i.logger.log("languageChanged",n)):i.isLanguageChangingTo=void 0,o.resolve((function(){return i.t.apply(i,arguments)})),t&&t(e,(function(){return i.t.apply(i,arguments)}))}(e,n)}))};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(n):n(e):n(this.services.languageDetector.detect()),o}},{key:"getFixedT",value:function(e,t){var i=this,o=function e(t,o){var n;if("object"!==l(o)){for(var r=arguments.length,s=new Array(r>2?r-2:0),a=2;a<r;a++)s[a-2]=arguments[a];n=i.options.overloadTranslationOptionHandler([t,o].concat(s))}else n=d({},o);return n.lng=n.lng||e.lng,n.lngs=n.lngs||e.lngs,n.ns=n.ns||e.ns,i.t(t,n)};return"string"==typeof e?o.lng=e:o.lngs=e,o.ns=t,o}},{key:"t",value:function(){var e;return this.translator&&(e=this.translator).translate.apply(e,arguments)}},{key:"exists",value:function(){var e;return this.translator&&(e=this.translator).exists.apply(e,arguments)}},{key:"setDefaultNamespace",value:function(e){this.options.defaultNS=e}},{key:"hasLoadedNamespace",value:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var o=this.languages[0],n=!!this.options&&this.options.fallbackLng,r=this.languages[this.languages.length-1];if("cimode"===o.toLowerCase())return!0;var s=function(e,i){var o=t.services.backendConnector.state["".concat(e,"|").concat(i)];return-1===o||2===o};if(i.precheck){var a=i.precheck(this,s);if(void 0!==a)return a}return!!this.hasResourceBundle(o,e)||(!this.services.backendConnector.backend||!(!s(o,e)||n&&!s(r,e)))}},{key:"loadNamespaces",value:function(e,t){var i=this,o=k();return this.options.ns?("string"==typeof e&&(e=[e]),e.forEach((function(e){i.options.ns.indexOf(e)<0&&i.options.ns.push(e)})),this.loadResources((function(e){o.resolve(),t&&t(e)})),o):(t&&t(),Promise.resolve())}},{key:"loadLanguages",value:function(e,t){var i=k();"string"==typeof e&&(e=[e]);var o=this.options.preload||[],n=e.filter((function(e){return o.indexOf(e)<0}));return n.length?(this.options.preload=o.concat(n),this.loadResources((function(e){i.resolve(),t&&t(e)})),i):(t&&t(),Promise.resolve())}},{key:"dir",value:function(e){if(e||(e=this.languages&&this.languages.length>0?this.languages[0]:this.language),!e)return"rtl";return["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam"].indexOf(this.services.languageUtils.getLanguagePartFromCode(e))>=0?"rtl":"ltr"}},{key:"createInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;return new t(e,i)}},{key:"cloneInstance",value:function(){var e=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:G,n=d({},this.options,i,{isClone:!0}),r=new t(n),s=["store","services","language"];return s.forEach((function(t){r[t]=e[t]})),r.services=d({},this.services),r.services.utils={hasLoadedNamespace:r.hasLoadedNamespace.bind(r)},r.translator=new R(r.services,r.options),r.translator.on("*",(function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),o=1;o<t;o++)i[o-1]=arguments[o];r.emit.apply(r,[e].concat(i))})),r.init(n,o),r.translator.options=r.options,r.translator.backendConnector.services.utils={hasLoadedNamespace:r.hasLoadedNamespace.bind(r)},r}}]),t}(x)),Y=[],Q=Y.forEach,J=Y.slice;function Z(e){return Q.call(J.call(arguments,1),(function(t){if(t)for(var i in t)void 0===e[i]&&(e[i]=t[i])})),e}var ee=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,te=function(e,t,i){var o=i||{};o.path=o.path||"/";var n=e+"="+encodeURIComponent(t);if(o.maxAge>0){var r=o.maxAge-0;if(isNaN(r))throw new Error("maxAge should be a Number");n+="; Max-Age="+Math.floor(r)}if(o.domain){if(!ee.test(o.domain))throw new TypeError("option domain is invalid");n+="; Domain="+o.domain}if(o.path){if(!ee.test(o.path))throw new TypeError("option path is invalid");n+="; Path="+o.path}if(o.expires){if("function"!=typeof o.expires.toUTCString)throw new TypeError("option expires is invalid");n+="; Expires="+o.expires.toUTCString()}if(o.httpOnly&&(n+="; HttpOnly"),o.secure&&(n+="; Secure"),o.sameSite)switch("string"==typeof o.sameSite?o.sameSite.toLowerCase():o.sameSite){case!0:n+="; SameSite=Strict";break;case"lax":n+="; SameSite=Lax";break;case"strict":n+="; SameSite=Strict";break;case"none":n+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return n},ie=function(e,t,i,o){var n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{path:"/",sameSite:"strict"};i&&(n.expires=new Date,n.expires.setTime(n.expires.getTime()+60*i*1e3)),o&&(n.domain=o),document.cookie=te(e,encodeURIComponent(t),n)},oe=function(e){for(var t=e+"=",i=document.cookie.split(";"),o=0;o<i.length;o++){for(var n=i[o];" "===n.charAt(0);)n=n.substring(1,n.length);if(0===n.indexOf(t))return n.substring(t.length,n.length)}return null},ne={name:"cookie",lookup:function(e){var t;if(e.lookupCookie&&"undefined"!=typeof document){var i=oe(e.lookupCookie);i&&(t=i)}return t},cacheUserLanguage:function(e,t){t.lookupCookie&&"undefined"!=typeof document&&ie(t.lookupCookie,e,t.cookieMinutes,t.cookieDomain,t.cookieOptions)}},re={name:"querystring",lookup:function(e){var t;if("undefined"!=typeof window)for(var i=window.location.search.substring(1).split("&"),o=0;o<i.length;o++){var n=i[o].indexOf("=");if(n>0)i[o].substring(0,n)===e.lookupQuerystring&&(t=i[o].substring(n+1))}return t}},se=null,ae=function(){if(null!==se)return se;try{se="undefined"!==window&&null!==window.localStorage;var e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch(e){se=!1}return se},le={name:"localStorage",lookup:function(e){var t;if(e.lookupLocalStorage&&ae()){var i=window.localStorage.getItem(e.lookupLocalStorage);i&&(t=i)}return t},cacheUserLanguage:function(e,t){t.lookupLocalStorage&&ae()&&window.localStorage.setItem(t.lookupLocalStorage,e)}},ce=null,de=function(){if(null!==ce)return ce;try{ce="undefined"!==window&&null!==window.sessionStorage;var e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch(e){ce=!1}return ce},he={name:"sessionStorage",lookup:function(e){var t;if(e.lookupSessionStorage&&de()){var i=window.sessionStorage.getItem(e.lookupSessionStorage);i&&(t=i)}return t},cacheUserLanguage:function(e,t){t.lookupSessionStorage&&de()&&window.sessionStorage.setItem(t.lookupSessionStorage,e)}},ue={name:"navigator",lookup:function(e){var t=[];if("undefined"!=typeof navigator){if(navigator.languages)for(var i=0;i<navigator.languages.length;i++)t.push(navigator.languages[i]);navigator.userLanguage&&t.push(navigator.userLanguage),navigator.language&&t.push(navigator.language)}return t.length>0?t:void 0}},pe={name:"htmlTag",lookup:function(e){var t,i=e.htmlTag||("undefined"!=typeof document?document.documentElement:null);return i&&"function"==typeof i.getAttribute&&(t=i.getAttribute("lang")),t}},ge={name:"path",lookup:function(e){var t;if("undefined"!=typeof window){var i=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(i instanceof Array)if("number"==typeof e.lookupFromPathIndex){if("string"!=typeof i[e.lookupFromPathIndex])return;t=i[e.lookupFromPathIndex].replace("/","")}else t=i[0].replace("/","")}return t}},fe={name:"subdomain",lookup:function(e){var t;if("undefined"!=typeof window){var i=window.location.href.match(/(?:http[s]*\:\/\/)*(.*?)\.(?=[^\/]*\..{2,5})/gi);i instanceof Array&&(t="number"==typeof e.lookupFromSubdomainIndex?i[e.lookupFromSubdomainIndex].replace("http://","").replace("https://","").replace(".",""):i[0].replace("http://","").replace("https://","").replace(".",""))}return t}};var ve=function(){function e(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};h(this,e),this.type="languageDetector",this.detectors={},this.init(t,i)}return p(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.services=e,this.options=Z(t,this.options||{},{order:["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"]}),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=i,this.addDetector(ne),this.addDetector(re),this.addDetector(le),this.addDetector(he),this.addDetector(ue),this.addDetector(pe),this.addDetector(ge),this.addDetector(fe)}},{key:"addDetector",value:function(e){this.detectors[e.name]=e}},{key:"detect",value:function(e){var t=this;e||(e=this.options.order);var i=[];return e.forEach((function(e){if(t.detectors[e]){var o=t.detectors[e].lookup(t.options);o&&"string"==typeof o&&(o=[o]),o&&(i=i.concat(o))}})),this.services.languageUtils.getBestMatchFromCodes?i:i.length>0?i[0]:null}},{key:"cacheUserLanguage",value:function(e,t){var i=this;t||(t=this.options.caches),t&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||t.forEach((function(t){i.detectors[t]&&i.detectors[t].cacheUserLanguage(e,i.options)})))}}]),e}();ve.type="languageDetector";var be=ve,me=JSON.parse('{"translation":{"buttons":{"cancel":"Cancel","confirm":"Confirm"},"closeDialog":{"choice_pageSession":"On the next page load","choice_permanent":"Never","choice_visualStudioSession":"The next time I open Visual Studio","details":"When would you like to see Web Live Preview again?","header":"Confirm close?"},"menu":{"close":"Close","disableInspector":"Disable Inspector","enableInspector":"Enable Inspector","ariaLabel":"Web Live Preview"},"status":{"connectingToVisualStudio":"Connecting to Visual Studio...","generatingLogicalTree":"Generating Logical Tree...","updating":"Updating...","upToDate":"Up To Date","disconnectedShortMessage":"Disconnected","disconnectedFullMessage":"The browser has been disconnected from Visual Studio.","connectionTimeOut":"Connection timed out."},"simpleTextEditing":{"editableText_ariaLabel":"Text Editing Mode. Press ESC to escape."},"nodes":{"code":"Code","root":"Root"},"tagNavigator":{"leftScroller_ariaLabel":"Left Scroller","rightScroller_ariaLabel":"Right Scroller"},"selectorDecorator":{"elementOutline_ariaLabel":"Selected Element","actionPanel_ariaLabel":"Action Panel Indicator"},"menuButton":{"image_ariaLabel":"Web Live Preview Menu"},"logicalNodeShortNames":{"genericContainer":"Generic Container","root":"Root","unknown":"Unknown"},"actionPanel":{"title":"{{nodeName}} Tasks","_title.comment":"nodeName is the ID or tag name of the node for which the action panel is being displayed.","readOnlyProperty":"This property is read-only"},"screenReader":{"inspectorEnabled":"Inspector enabled.","inspectorDisabled":"Inspector disabled."}}}');var ye=function(){this.__data__=[],this.size=0};var we=function(e,t){return e===t||e!=e&&t!=t};var xe=function(e,t){for(var i=e.length;i--;)if(we(e[i][0],t))return i;return-1},ke=Array.prototype.splice;var Ce=function(e){var t=this.__data__,i=xe(t,e);return!(i<0)&&(i==t.length-1?t.pop():ke.call(t,i,1),--this.size,!0)};var Se=function(e){var t=this.__data__,i=xe(t,e);return i<0?void 0:t[i][1]};var Le=function(e){return xe(this.__data__,e)>-1};var $e=function(e,t){var i=this.__data__,o=xe(i,e);return o<0?(++this.size,i.push([e,t])):i[o][1]=t,this};function Ee(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var o=e[t];this.set(o[0],o[1])}}Ee.prototype.clear=ye,Ee.prototype["delete"]=Ce,Ee.prototype.get=Se,Ee.prototype.has=Le,Ee.prototype.set=$e;var Ne=Ee;var Pe=function(){this.__data__=new Ne,this.size=0};var De=function(e){var t=this.__data__,i=t["delete"](e);return this.size=t.size,i};var Te=function(e){return this.__data__.get(e)};var Oe=function(e){return this.__data__.has(e)},_e="object"==typeof global&&global&&global.Object===Object&&global,Be="object"==typeof self&&self&&self.Object===Object&&self,Ae=_e||Be||Function("return this")(),Fe=Ae.Symbol,Re=Object.prototype,Ie=Re.hasOwnProperty,Me=Re.toString,He=Fe?Fe.toStringTag:void 0;var je=function(e){var t=Ie.call(e,He),i=e[He];try{e[He]=void 0;var o=!0}catch(e){}var n=Me.call(e);return o&&(t?e[He]=i:delete e[He]),n},ze=Object.prototype.toString;var Ve=function(e){return ze.call(e)},Ue="[object Null]",qe="[object Undefined]",Ke=Fe?Fe.toStringTag:void 0;var We=function(e){return null==e?void 0===e?qe:Ue:Ke&&Ke in Object(e)?je(e):Ve(e)};var Ge=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},Xe="[object AsyncFunction]",Ye="[object Function]",Qe="[object GeneratorFunction]",Je="[object Proxy]";var Ze,et=function(e){if(!Ge(e))return!1;var t=We(e);return t==Ye||t==Qe||t==Xe||t==Je},tt=Ae["__core-js_shared__"],it=(Ze=/[^.]+$/.exec(tt&&tt.keys&&tt.keys.IE_PROTO||""))?"Symbol(src)_1."+Ze:"";var ot=function(e){return!!it&&it in e},nt=Function.prototype.toString;var rt=function(e){if(null!=e){try{return nt.call(e)}catch(e){}try{return e+""}catch(e){}}return""},st=/^\[object .+?Constructor\]$/,at=Function.prototype,lt=Object.prototype,ct=at.toString,dt=lt.hasOwnProperty,ht=RegExp("^"+ct.call(dt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var ut=function(e){return!(!Ge(e)||ot(e))&&(et(e)?ht:st).test(rt(e))};var pt=function(e,t){return null==e?void 0:e[t]};var gt=function(e,t){var i=pt(e,t);return ut(i)?i:void 0},ft=gt(Ae,"Map"),vt=gt(Object,"create");var bt=function(){this.__data__=vt?vt(null):{},this.size=0};var mt=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},yt="__lodash_hash_undefined__",wt=Object.prototype.hasOwnProperty;var xt=function(e){var t=this.__data__;if(vt){var i=t[e];return i===yt?void 0:i}return wt.call(t,e)?t[e]:void 0},kt=Object.prototype.hasOwnProperty;var Ct=function(e){var t=this.__data__;return vt?void 0!==t[e]:kt.call(t,e)},St="__lodash_hash_undefined__";var Lt=function(e,t){var i=this.__data__;return this.size+=this.has(e)?0:1,i[e]=vt&&void 0===t?St:t,this};function $t(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var o=e[t];this.set(o[0],o[1])}}$t.prototype.clear=bt,$t.prototype["delete"]=mt,$t.prototype.get=xt,$t.prototype.has=Ct,$t.prototype.set=Lt;var Et=$t;var Nt=function(){this.size=0,this.__data__={hash:new Et,map:new(ft||Ne),string:new Et}};var Pt=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var Dt=function(e,t){var i=e.__data__;return Pt(t)?i["string"==typeof t?"string":"hash"]:i.map};var Tt=function(e){var t=Dt(this,e)["delete"](e);return this.size-=t?1:0,t};var Ot=function(e){return Dt(this,e).get(e)};var _t=function(e){return Dt(this,e).has(e)};var Bt=function(e,t){var i=Dt(this,e),o=i.size;return i.set(e,t),this.size+=i.size==o?0:1,this};function At(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var o=e[t];this.set(o[0],o[1])}}At.prototype.clear=Nt,At.prototype["delete"]=Tt,At.prototype.get=Ot,At.prototype.has=_t,At.prototype.set=Bt;var Ft=At,Rt=200;var It=function(e,t){var i=this.__data__;if(i instanceof Ne){var o=i.__data__;if(!ft||o.length<Rt-1)return o.push([e,t]),this.size=++i.size,this;i=this.__data__=new Ft(o)}return i.set(e,t),this.size=i.size,this};function Mt(e){var t=this.__data__=new Ne(e);this.size=t.size}Mt.prototype.clear=Pe,Mt.prototype["delete"]=De,Mt.prototype.get=Te,Mt.prototype.has=Oe,Mt.prototype.set=It;var Ht=Mt;var jt=function(e,t){for(var i=-1,o=null==e?0:e.length;++i<o&&!1!==t(e[i],i,e););return e},zt=function(){try{var e=gt(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();var Vt=function(e,t,i){"__proto__"==t&&zt?zt(e,t,{configurable:!0,enumerable:!0,value:i,writable:!0}):e[t]=i},Ut=Object.prototype.hasOwnProperty;var qt=function(e,t,i){var o=e[t];Ut.call(e,t)&&we(o,i)&&(void 0!==i||t in e)||Vt(e,t,i)};var Kt=function(e,t,i,o){var n=!i;i||(i={});for(var r=-1,s=t.length;++r<s;){var a=t[r],l=o?o(i[a],e[a],a,i,e):void 0;void 0===l&&(l=e[a]),n?Vt(i,a,l):qt(i,a,l)}return i};var Wt=function(e,t){for(var i=-1,o=Array(e);++i<e;)o[i]=t(i);return o};var Gt=function(e){return null!=e&&"object"==typeof e},Xt="[object Arguments]";var Yt=function(e){return Gt(e)&&We(e)==Xt},Qt=Object.prototype,Jt=Qt.hasOwnProperty,Zt=Qt.propertyIsEnumerable,ei=Yt(function(){return arguments}())?Yt:function(e){return Gt(e)&&Jt.call(e,"callee")&&!Zt.call(e,"callee")},ti=Array.isArray;var ii=function(){return!1},oi="object"==typeof exports&&exports&&!exports.nodeType&&exports,ni=oi&&"object"==typeof module&&module&&!module.nodeType&&module,ri=ni&&ni.exports===oi?Ae.Buffer:void 0,si=(ri?ri.isBuffer:void 0)||ii,ai=9007199254740991,li=/^(?:0|[1-9]\d*)$/;var ci=function(e,t){var i=typeof e;return!!(t=null==t?ai:t)&&("number"==i||"symbol"!=i&&li.test(e))&&e>-1&&e%1==0&&e<t},di=9007199254740991;var hi=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=di},ui={};ui["[object Float32Array]"]=ui["[object Float64Array]"]=ui["[object Int8Array]"]=ui["[object Int16Array]"]=ui["[object Int32Array]"]=ui["[object Uint8Array]"]=ui["[object Uint8ClampedArray]"]=ui["[object Uint16Array]"]=ui["[object Uint32Array]"]=!0,ui["[object Arguments]"]=ui["[object Array]"]=ui["[object ArrayBuffer]"]=ui["[object Boolean]"]=ui["[object DataView]"]=ui["[object Date]"]=ui["[object Error]"]=ui["[object Function]"]=ui["[object Map]"]=ui["[object Number]"]=ui["[object Object]"]=ui["[object RegExp]"]=ui["[object Set]"]=ui["[object String]"]=ui["[object WeakMap]"]=!1;var pi=function(e){return Gt(e)&&hi(e.length)&&!!ui[We(e)]};var gi=function(e){return function(t){return e(t)}},fi="object"==typeof exports&&exports&&!exports.nodeType&&exports,vi=fi&&"object"==typeof module&&module&&!module.nodeType&&module,bi=vi&&vi.exports===fi&&_e.process,mi=function(){try{var e=vi&&vi.require&&vi.require("util").types;return e||bi&&bi.binding&&bi.binding("util")}catch(e){}}(),yi=mi&&mi.isTypedArray,wi=yi?gi(yi):pi,xi=Object.prototype.hasOwnProperty;var ki=function(e,t){var i=ti(e),o=!i&&ei(e),n=!i&&!o&&si(e),r=!i&&!o&&!n&&wi(e),s=i||o||n||r,a=s?Wt(e.length,String):[],l=a.length;for(var c in e)!t&&!xi.call(e,c)||s&&("length"==c||n&&("offset"==c||"parent"==c)||r&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||ci(c,l))||a.push(c);return a},Ci=Object.prototype;var Si=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Ci)};var Li=function(e,t){return function(i){return e(t(i))}},$i=Li(Object.keys,Object),Ei=Object.prototype.hasOwnProperty;var Ni=function(e){if(!Si(e))return $i(e);var t=[];for(var i in Object(e))Ei.call(e,i)&&"constructor"!=i&&t.push(i);return t};var Pi=function(e){return null!=e&&hi(e.length)&&!et(e)};var Di=function(e){return Pi(e)?ki(e):Ni(e)};var Ti=function(e,t){return e&&Kt(t,Di(t),e)};var Oi=function(e){var t=[];if(null!=e)for(var i in Object(e))t.push(i);return t},_i=Object.prototype.hasOwnProperty;var Bi=function(e){if(!Ge(e))return Oi(e);var t=Si(e),i=[];for(var o in e)("constructor"!=o||!t&&_i.call(e,o))&&i.push(o);return i};var Ai=function(e){return Pi(e)?ki(e,!0):Bi(e)};var Fi=function(e,t){return e&&Kt(t,Ai(t),e)},Ri="object"==typeof exports&&exports&&!exports.nodeType&&exports,Ii=Ri&&"object"==typeof module&&module&&!module.nodeType&&module,Mi=Ii&&Ii.exports===Ri?Ae.Buffer:void 0,Hi=Mi?Mi.allocUnsafe:void 0;var ji=function(e,t){if(t)return e.slice();var i=e.length,o=Hi?Hi(i):new e.constructor(i);return e.copy(o),o};var zi=function(e,t){var i=-1,o=e.length;for(t||(t=Array(o));++i<o;)t[i]=e[i];return t};var Vi=function(e,t){for(var i=-1,o=null==e?0:e.length,n=0,r=[];++i<o;){var s=e[i];t(s,i,e)&&(r[n++]=s)}return r};var Ui=function(){return[]},qi=Object.prototype.propertyIsEnumerable,Ki=Object.getOwnPropertySymbols,Wi=Ki?function(e){return null==e?[]:(e=Object(e),Vi(Ki(e),(function(t){return qi.call(e,t)})))}:Ui;var Gi=function(e,t){return Kt(e,Wi(e),t)};var Xi=function(e,t){for(var i=-1,o=t.length,n=e.length;++i<o;)e[n+i]=t[i];return e},Yi=Li(Object.getPrototypeOf,Object),Qi=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)Xi(t,Wi(e)),e=Yi(e);return t}:Ui;var Ji=function(e,t){return Kt(e,Qi(e),t)};var Zi=function(e,t,i){var o=t(e);return ti(e)?o:Xi(o,i(e))};var eo=function(e){return Zi(e,Di,Wi)};var to=function(e){return Zi(e,Ai,Qi)},io=gt(Ae,"DataView"),oo=gt(Ae,"Promise"),no=gt(Ae,"Set"),ro=gt(Ae,"WeakMap"),so="[object Map]",ao="[object Object]",lo="[object Promise]",co="[object Set]",ho="[object WeakMap]",uo="[object DataView]",po=rt(io),go=rt(ft),fo=rt(oo),vo=rt(no),bo=rt(ro),mo=We;(io&&mo(new io(new ArrayBuffer(1)))!=uo||ft&&mo(new ft)!=so||oo&&mo(oo.resolve())!=lo||no&&mo(new no)!=co||ro&&mo(new ro)!=ho)&&(mo=function(e){var t=We(e),i=t==ao?e.constructor:void 0,o=i?rt(i):"";if(o)switch(o){case po:return uo;case go:return so;case fo:return lo;case vo:return co;case bo:return ho}return t});var yo=mo,wo=Object.prototype.hasOwnProperty;var xo=function(e){var t=e.length,i=new e.constructor(t);return t&&"string"==typeof e[0]&&wo.call(e,"index")&&(i.index=e.index,i.input=e.input),i},ko=Ae.Uint8Array;var Co=function(e){var t=new e.constructor(e.byteLength);return new ko(t).set(new ko(e)),t};var So=function(e,t){var i=t?Co(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.byteLength)},Lo=/\w*$/;var $o=function(e){var t=new e.constructor(e.source,Lo.exec(e));return t.lastIndex=e.lastIndex,t},Eo=Fe?Fe.prototype:void 0,No=Eo?Eo.valueOf:void 0;var Po=function(e){return No?Object(No.call(e)):{}};var Do=function(e,t){var i=t?Co(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.length)},To="[object Boolean]",Oo="[object Date]",_o="[object Map]",Bo="[object Number]",Ao="[object RegExp]",Fo="[object Set]",Ro="[object String]",Io="[object Symbol]",Mo="[object ArrayBuffer]",Ho="[object DataView]",jo="[object Float32Array]",zo="[object Float64Array]",Vo="[object Int8Array]",Uo="[object Int16Array]",qo="[object Int32Array]",Ko="[object Uint8Array]",Wo="[object Uint8ClampedArray]",Go="[object Uint16Array]",Xo="[object Uint32Array]";var Yo=function(e,t,i){var o=e.constructor;switch(t){case Mo:return Co(e);case To:case Oo:return new o(+e);case Ho:return So(e,i);case jo:case zo:case Vo:case Uo:case qo:case Ko:case Wo:case Go:case Xo:return Do(e,i);case _o:return new o;case Bo:case Ro:return new o(e);case Ao:return $o(e);case Fo:return new o;case Io:return Po(e)}},Qo=Object.create,Jo=function(){function e(){}return function(t){if(!Ge(t))return{};if(Qo)return Qo(t);e.prototype=t;var i=new e;return e.prototype=void 0,i}}();var Zo=function(e){return"function"!=typeof e.constructor||Si(e)?{}:Jo(Yi(e))},en="[object Map]";var tn=function(e){return Gt(e)&&yo(e)==en},on=mi&&mi.isMap,nn=on?gi(on):tn,rn="[object Set]";var sn=function(e){return Gt(e)&&yo(e)==rn},an=mi&&mi.isSet,ln=an?gi(an):sn,cn=1,dn=2,hn=4,un="[object Arguments]",pn="[object Function]",gn="[object GeneratorFunction]",fn="[object Object]",vn={};vn[un]=vn["[object Array]"]=vn["[object ArrayBuffer]"]=vn["[object DataView]"]=vn["[object Boolean]"]=vn["[object Date]"]=vn["[object Float32Array]"]=vn["[object Float64Array]"]=vn["[object Int8Array]"]=vn["[object Int16Array]"]=vn["[object Int32Array]"]=vn["[object Map]"]=vn["[object Number]"]=vn[fn]=vn["[object RegExp]"]=vn["[object Set]"]=vn["[object String]"]=vn["[object Symbol]"]=vn["[object Uint8Array]"]=vn["[object Uint8ClampedArray]"]=vn["[object Uint16Array]"]=vn["[object Uint32Array]"]=!0,vn["[object Error]"]=vn[pn]=vn["[object WeakMap]"]=!1;var bn=function e(t,i,o,n,r,s){var a,l=i&cn,c=i&dn,d=i&hn;if(o&&(a=r?o(t,n,r,s):o(t)),void 0!==a)return a;if(!Ge(t))return t;var h=ti(t);if(h){if(a=xo(t),!l)return zi(t,a)}else{var u=yo(t),p=u==pn||u==gn;if(si(t))return ji(t,l);if(u==fn||u==un||p&&!r){if(a=c||p?{}:Zo(t),!l)return c?Ji(t,Fi(a,t)):Gi(t,Ti(a,t))}else{if(!vn[u])return r?t:{};a=Yo(t,u,l)}}s||(s=new Ht);var g=s.get(t);if(g)return g;s.set(t,a),ln(t)?t.forEach((function(n){a.add(e(n,i,o,n,t,s))})):nn(t)&&t.forEach((function(n,r){a.set(r,e(n,i,o,r,t,s))}));var f=h?void 0:(d?c?to:eo:c?Ai:Di)(t);return jt(f||t,(function(n,r){f&&(n=t[r=n]),qt(a,r,e(n,i,o,r,t,s))})),a},mn=1,yn=4;const wn=function(e){return bn(e,mn|yn)}(me);!function e(t){Object.entries(t).forEach((i=>{const o=i[0],n=i[1];"string"==typeof n||n instanceof String?t[o]=n.split("").reverse().join(""):e(n)}))}(wn);const xn={en:me,dev:wn};function kn(e,t){return X.t(e,t)}function Cn(e){const t={truncatedText:"",fullText:""};if(!e)return t;if(r(e).mapsToDom){const t=e.getDomNode();if(t)return function(e){const t={truncatedText:"",fullText:""};if(!(null==e?void 0:e.nodeName))return t;if(t.fullText=e.nodeName.toLowerCase(),t.truncatedText=e.nodeName.toLowerCase(),e.nodeType===Node.ELEMENT_NODE){const i=e;t.fullText+=i.id&&i.id.length>0?"#"+i.id:"",t.fullText+=i.className&&i.className.length>0?"."+i.className.split(" ").join("."):"","html"!==t.truncatedText&&(t.truncatedText+=Sn(i.id,"#"),t.truncatedText+=Sn(i.className&&i.className.split(" ").join("."),"."))}return t}(t)}if("Element"===e.type?t.fullText=e.tagName.toLowerCase():"Attribute"===e.type?t.fullText=e.name.toLowerCase():"GenericContainer"===e.type?t.fullText=e.description:"CodeBlock"===e.type?t.fullText=`${kn("nodes.code")}: ${r(e).codeBlockType}`:"Root"===e.type&&(t.fullText=kn("nodes.root")),t.truncatedText=t.fullText,e.attributes)for(const o of e.attributes){var i;if("ID"===(null===(i=o.name)||void 0===i?void 0:i.toUpperCase())&&o.value&&o.value.length>0){t.fullText+="#"+o.value,t.truncatedText+=Sn(o.value,"#");break}}return t}function Sn(e,t){return e&&e.length>0?t+(e.length>13?e.substr(0,12)+"…":e):""}function Ln(e){return!(!e||!e.start)&&(!e.start.path.startsWith("preview_")&&!e.start.path.startsWith("rendered_")&&("Attribute"!==e.type&&("Text"!==e.type||e.text&&""!==e.text.trim())))}X.use(be),X.init({resources:xn,fallbackLng:"en",detection:{excludeCacheFor:["cimode","dev"]}});class $n{constructor(e){this.requiredAncestorForSelectability="body",this.nodeBoundingClientRectUtil=e||new a}findValidInsertionPoint(e,t){if(!e)throw Error("parentNode must not be null or undefined.");const i=this.getParentsUntilDefault(e);if(!i.modifiedParentNode)throw Error("No default ancestor found.");const o=this.findFirstDefaultPreviousSibling(t,i);return new En(i.modifiedParentNode,o)}findLeftMostSelectableLeaf(e){return e?this.findLeftMostSelectableLeafInternal(e,!1):null}getParentsUntilDefault(e){if(!e)throw Error("firstParent must not be null or undefined.");const t=new Nn;for(t.push(e);t.modifiedParentNode&&!r(t.modifiedParentNode).mapsToDom;)t.push(t.modifiedParentNode.parent);return t}findFirstDefaultPreviousSibling(e,t){for(let i=e?0:1;i<t.parentNodeList.length;i++){let o;const n=t.parentNodeList[i];o=0===i&&e?n.children.indexOf(e):n.children.indexOf(t.parentNodeList[i-1])-1;const r=this.findRightMostDefaultDescendant(n,o);if(r)return r}return null}findRightMostDefaultDescendant(e,t){var i;for(let o=t=null!==(i=t)&&void 0!==i?i:e.children.length-1;o>=0;o--){const t=e.children[o];if(r(t).mapsToDom)return t;const i=this.findRightMostDefaultDescendant(t);if(i)return i}return null}findLeftMostSelectableLeafInternal(e,t){if(t=t||this.isBodyTag(e),e.children)for(const i of e.children){const e=this.findLeftMostSelectableLeafInternal(i,t);if(e)return e}return t&&this.isInitiallySelectable(e)?e:null}isBodyTag(e){var t;return(null===(t=e.tagName)||void 0===t?void 0:t.toLowerCase())===this.requiredAncestorForSelectability}isInitiallySelectable(e){return Ln(e)&&0===e.children.length&&e.getDomNode()&&this.nodeBoundingClientRectUtil.hasNonZeroArea(e.getDomNode())}}class En{constructor(e=null,t=null){this.modifiedParentNode=e,this.modifiedInsertAfterLogicalNode=t}}class Nn{constructor(){this.parentNodeList=[]}get modifiedParentNode(){return 0===this.parentNodeList.length?null:this.parentNodeList[this.parentNodeList.length-1]}push(e){this.parentNodeList.push(e)}}class Pn{constructor(e){var t;this._selectedLogicalNodeChanged=new n.pB,this._browserLink=e,(null===(t=this._browserLink)||void 0===t?void 0:t.selectionHostingService)&&(this._selectionHostingService=this._browserLink.selectionHostingService,this._selectionHostingService.editorSelectedLogicalNodeChanged.subscribe(this.onEditorSelectedLogicalNodeChanged.bind(this)))}initialize(){var e,t;(null===(e=this._browserLink)||void 0===e?void 0:e.autoSyncService)&&this._browserLink.autoSyncService.changesApplied.subscribe(this.onChangesApplied.bind(this)),null===(t=this._browserLink)||void 0===t||t.sourceMapping.ensureUpToDateAsync((()=>this.setInitialSelection()))}uninitialize(){var e;(null===(e=this._browserLink)||void 0===e?void 0:e.autoSyncService)&&this._browserLink.autoSyncService.changesApplied.unsubscribe(this.onChangesApplied.bind(this))}onChangesApplied(e){for(const t of e.removed)if(t===this.selectedLogicalNode){this._selectedNode=null;const e={prevSelectedNode:t,newSelectedNode:null};this._selectedLogicalNodeChanged.dispatch(this,e)}}async setInitialSelection(){if(this._browserLink.logicalTree.root){const e=await this._browserLink.currentEditorStateService.getCurrentEditorSelectionPosition();if(null!==e){if(this._browserLink.selectionHostingService.setSelectedLogicalNodeBySourcePosition(e.FileName,e.Position))return}const t=(new $n).findLeftMostSelectableLeaf(this._browserLink.logicalTree.root);this._selectedNode=t;const i={prevSelectedNode:null,newSelectedNode:t};this._selectedLogicalNodeChanged.dispatch(this,i)}}onEditorSelectedLogicalNodeChanged(e,t){for(;t&&!Ln(t);)t=t.parent;if(t!==this._selectedNode){const e={prevSelectedNode:this._selectedNode,newSelectedNode:t};this._selectedNode=t,this._selectedLogicalNodeChanged.dispatch(this,e)}}get selectedLogicalNodeChanged(){return this._selectedLogicalNodeChanged.asEvent()}get selectedLogicalNode(){return this._selectedNode}set selectedLogicalNode(e){for(;e&&!Ln(e);)e=e.parent;if(e!==this._selectedNode){const t={prevSelectedNode:this._selectedNode,newSelectedNode:e};this._selectedNode=e,this._selectedLogicalNodeChanged.dispatch(this,t),this._selectionHostingService&&this._selectionHostingService.selectTextInVSEditor(e),this._browserLink.diagnosticLog.writeEvent(7533,this._selectedNode.type)}}selectDomNode(e){let t=this._browserLink.logicalTree.getFirstLogicalNodeFromDomNode(e);for(;!t&&e;)e=e.parentElement,t=this._browserLink.logicalTree.getFirstLogicalNodeFromDomNode(e);for(;t&&!Ln(t);)t=t.parent;t&&(this.selectedLogicalNode=t)}getFirstSelectedDomNode(){const e=this.getAllSelectedDomNodes();return e.length>0?e[0]:null}getAllSelectedDomNodes(){return this.selectedLogicalNode?this.findMappedDomNodes(this.selectedLogicalNode):[]}findMappedDomNodes(e){const t=e.getDomNode();if(t)return[t];let i=[];for(let t=0;t<e.children.length;t++)i=i.concat(this.findMappedDomNodes(e.children[t]));return i}}class Dn{constructor(e){this.browserLink=e,this._editorSelectedLogicalNodeChanged=new n.pB}get editorSelectedLogicalNodeChanged(){return this._editorSelectedLogicalNodeChanged.asEvent()}setSelectedLogicalNodeFromEditor(e){this._editorSelectedLogicalNodeChanged.dispatch(this,e)}setSelectedLogicalNodeBySourcePosition(e,t){const i=this.browserLink.logicalTree.getShortestNodeContainingPosition(e,t);return null!==i&&(this.setSelectedLogicalNodeFromEditor(i),!0)}selectTextInVSEditor(e){e&&this.browserLink.sourceMapping.selectCompleteRangeFromLogicalNode(e)}}class Tn{constructor(e){this.serviceInitialized=!1,this._browserLink=e}updatePositionMap(e){this.positionMap=new Map,this._selectableNonLeafLogicalNodes=[],e?this._selectableLeafLogicalNodes=e:(this._selectableLeafLogicalNodes=[],this.TreeTraverseToFetchAllSelectableNodes(document)),this.setScrollOffset(),this.calculatePositionMap(),this.serviceInitialized=!0}onArrowKeyDown(e){const t=this._browserLink.selectionService.selectedLogicalNode,i=this.positionMap;if(!i)return;const o=i.get(t);if(o)switch(e.key){case"ArrowUp":o.upNode&&(this._browserLink.selectionService.selectedLogicalNode=o.upNode);break;case"ArrowDown":o.downNode&&(this._browserLink.selectionService.selectedLogicalNode=o.downNode);break;case"ArrowLeft":o.leftNode&&(this._browserLink.selectionService.selectedLogicalNode=o.leftNode);break;case"ArrowRight":o.rightNode&&(this._browserLink.selectionService.selectedLogicalNode=o.rightNode)}}setScrollOffset(){this._scrollTop=window.scrollY||window.pageYOffset||document.body.scrollTop+(document.documentElement&&document.documentElement.scrollTop||0),this._scrollLeft=window.scrollX||window.pageXOffset||document.body.scrollLeft+(document.documentElement&&document.documentElement.scrollLeft||0)}calculatePositionMap(){for(let e=0;e<this._selectableLeafLogicalNodes.length;e++){const t=this._selectableLeafLogicalNodes[e],i={upNode:null,downNode:null,leftNode:null,rightNode:null};i.leftNode=0==e?null:this._selectableLeafLogicalNodes[e-1],i.rightNode=e==this._selectableLeafLogicalNodes.length-1?null:this._selectableLeafLogicalNodes[e+1];const o=this.calculateUpDownNode(this._selectableLeafLogicalNodes[e],!0);i.upNode="upNodeIndex"in o?this._selectableLeafLogicalNodes[o.upNodeIndex]:null,i.downNode="downNodeIndex"in o?this._selectableLeafLogicalNodes[o.downNodeIndex]:null,this.positionMap.set(t,i)}for(let e=0;e<this._selectableNonLeafLogicalNodes.length;e++){const t=this._selectableNonLeafLogicalNodes[e];let i=this.positionMap.get(t);void 0===i&&(i={upNode:null,downNode:null,leftNode:null,rightNode:null});const o=this.calculateUpDownNode(this._selectableNonLeafLogicalNodes[e],!1);i.upNode="upNodeIndex"in o?this._selectableLeafLogicalNodes[o.upNodeIndex]:null,i.downNode="downNodeIndex"in o?this._selectableLeafLogicalNodes[o.downNodeIndex]:null,this.positionMap.set(t,i)}}calculateUpDownNode(e,t){const i=e.getDomNode(),o=new a,n={},r=o.getBoundingClientRect(i);if(!r)return n;const s=this.getAbsolutePosFromBoundingRect(r);let l={verticalDist:Number.MAX_VALUE,centerDist:Number.MAX_VALUE,rectDist:Number.MAX_VALUE},c={verticalDist:Number.MAX_VALUE,centerDist:Number.MAX_VALUE,rectDist:Number.MAX_VALUE};for(let i=0;i<this._selectableLeafLogicalNodes.length;i++){const a=this._selectableLeafLogicalNodes[i];if(e===a)continue;const d=o.getBoundingClientRect(a.getDomNode());if(!t&&0==Tn.distanceBetweenRects(r,d))continue;const h=this.getAbsolutePosFromBoundingRect(d);h.trisection1=this._scrollLeft+d.left+d.width/3,h.trisection2=this._scrollLeft+d.left+2*d.width/3;const u=h.y-s.y,p=Math.abs(u),g=Math.abs(s.x-h.x);if(Tn.isPossibleUpDownNode(s,h,p,160)){const e={verticalDist:p,centerDist:Math.sqrt(g*g+p*p),rectDist:Tn.distanceBetweenRects(r,d)};u<0?Tn.isDist2Smaller(l,e)&&(l=e,n.upNodeIndex=i):u>0&&Tn.isDist2Smaller(c,e)&&(c=e,n.downNodeIndex=i)}}return n}static isPossibleUpDownNode(e,t,i,o){if(0==i)return!1;const n=i*Math.tan(o/2*Math.PI/180);return t.bottom<=e.top||t.top>=e.bottom||t.trisection1<e.right+n&&t.trisection1>e.left-n||t.trisection2<e.right+n&&t.trisection2>e.left-n}getAbsolutePosFromBoundingRect(e){return{x:this._scrollLeft+e.left+e.width/2,y:this._scrollTop+e.top+e.height/2,left:this._scrollLeft+e.left,right:this._scrollLeft+e.right,top:this._scrollTop+e.top,bottom:this._scrollTop+e.bottom}}static isDist2Smaller(e,t){return t.rectDist<e.rectDist||t.rectDist==e.rectDist&&t.centerDist<e.centerDist||t.rectDist==e.rectDist&&t.centerDist==e.centerDist&&t.verticalDist<e.verticalDist}static distanceBetweenTwoPoints(e,t,i,o){return Math.sqrt((i-e)*(i-e)+(o-t)*(o-t))}static distanceBetweenRects(e,t){const i=t.right<e.left,o=t.left>e.right,n=t.top>e.bottom,r=t.bottom<e.top;return r&&i?Tn.distanceBetweenTwoPoints(e.left,e.top,t.right,t.bottom):r&&o?Tn.distanceBetweenTwoPoints(e.right,e.top,t.left,t.bottom):n&&i?Tn.distanceBetweenTwoPoints(e.left,e.bottom,t.right,t.top):n&&o?Tn.distanceBetweenTwoPoints(e.right,e.bottom,t.left,t.top):r?e.top-t.bottom:n?t.top-e.bottom:i?e.left-t.right:o?t.left-e.right:0}static hasSelectableChildNode(e){if(!e.hasChildNodes())return!1;if(e.childNodes[0].nodeType==Node.TEXT_NODE){const t=document.createRange();t.selectNodeContents(e);const i=t.getBoundingClientRect();if(i.width>0&&i.height>0)return!0}const t=e.getElementsByTagName("*");for(let e=0;e<t.length;e++)if(Tn.IsSelectable(t[e]))return!0;return!1}static IsSelectable(e){if(e.nodeType===Node.TEXT_NODE)return 0!==e.textContent.trim().length&&Tn.IsSelectable(e.parentNode);const t=e,i=t.getBoundingClientRect();let o;return!!(i.width>0&&i.height>0&&(o=window.getComputedStyle(t))&&"visible"===o.getPropertyValue("visibility")&&0!=o.getPropertyValue("opacity")&&"none"!==o.getPropertyValue("display"))}TreeTraverseToFetchAllSelectableNodes(e){const t=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT+NodeFilter.SHOW_TEXT,{acceptNode:function(e){return Ln(this._browserLink.logicalTree.getFirstLogicalNodeFromDomNode(e))?e.nodeType!==e.TEXT_NODE&&e.nodeType!==Node.ELEMENT_NODE||!Tn.IsSelectable(e)?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}.bind(this)},null);for(;t.nextNode();){const e=t.currentNode;if(Tn.hasSelectableChildNode(e)){this._selectableNonLeafLogicalNodes.push(this._browserLink.logicalTree.getFirstLogicalNodeFromDomNode(e));const t=this._browserLink.logicalTree.getFirstLogicalNodeFromDomNode(e);let i=this.positionMap.get(t);if(void 0===i&&(i={upNode:null,downNode:null,leftNode:null,rightNode:null}),this._selectableLeafLogicalNodes.length>0){const e=this._selectableLeafLogicalNodes.length-1;i.leftNode=this._selectableLeafLogicalNodes[e]}this.positionMap.set(t,i)}else{this._selectableLeafLogicalNodes.push(this._browserLink.logicalTree.getFirstLogicalNodeFromDomNode(e));for(let t=this._selectableNonLeafLogicalNodes.length-1;t>=0;t--){const i=this._selectableNonLeafLogicalNodes[t];let o=this.positionMap.get(i);if(void 0===o&&(o={upNode:null,downNode:null,leftNode:null,rightNode:null}),null!==o.rightNode)break;o.rightNode=this._browserLink.logicalTree.getFirstLogicalNodeFromDomNode(e),this.positionMap.set(i,o)}}}}}class On{constructor(){this._statusChanged=new n.pB;const e=kn("status.connectingToVisualStudio");this._currentStatus={displayText:e,fullText:e}}get statusChanged(){return this._statusChanged.asEvent()}get currentStatus(){return this._currentStatus}set currentStatus(e){this._currentStatus!==e&&(this._currentStatus=e,this._statusChanged.dispatch(this,e))}}class _n{constructor(e){this._tagHierarchyChanged=new n.pB,this._browserLink=e,this._tagItemList=[]}initialize(){var e;(null===(e=this._browserLink)||void 0===e?void 0:e.autoSyncService)&&this._browserLink.autoSyncService.changesApplied.subscribe(this.onChangesApplied.bind(this)),this._browserLink.selectionService.selectedLogicalNodeChanged.subscribe(this.onSelectedNodeChanged.bind(this))}get tagItemList(){return this._tagItemList}get selectedTagItem(){return this._selectedTagItem}get tagHierarchyChanged(){return this._tagHierarchyChanged.asEvent()}onChangesApplied(e){if(!this._tagItemList)return;let t=!1;for(const i of e.removed)if(Ln(i)){const e=this._tagItemList.findIndex((e=>e.logicalNode===i));-1!==e&&(this._selectedTagItem===this._tagItemList[e]&&(this._selectedTagItem=null),this._tagItemList.splice(e,1),t=!0)}if(t){const e={tagItemList:this.tagItemList,selectedTagItem:this.selectedTagItem};this._tagHierarchyChanged.dispatch(this,e)}}onNavigateHotKeyPressed(e){if(this._selectedTagItem&&this._selectedTagItem)switch(e.key){case"ArrowLeft":{const e=this._tagItemList.indexOf(this._selectedTagItem);e>0&&(this._browserLink.selectionService.selectedLogicalNode=this._tagItemList[e-1].logicalNode)}break;case"ArrowRight":{const e=this._tagItemList.indexOf(this._selectedTagItem);e<this._tagItemList.length-1&&(this._browserLink.selectionService.selectedLogicalNode=this._tagItemList[e+1].logicalNode)}}}onSelectedNodeChanged(e,t){if(t.newSelectedNode){let e,i=!1;for(let e=0;e<this._tagItemList.length;e++)this._tagItemList[e].logicalNode===t.newSelectedNode&&(this._selectedTagItem=this._tagItemList[e],i=!0);if(!i){this._tagItemList=[],e=t.newSelectedNode;do{if(Ln(e)){const i=Cn(e),o={logicalNode:e,truncatedText:i.truncatedText,fullText:i.fullText};e===t.newSelectedNode&&(this._selectedTagItem=o),this._tagItemList.push(o)}e=e.parent}while(e);this._tagItemList=this._tagItemList.reverse()}}const i={tagItemList:this.tagItemList,selectedTagItem:this.selectedTagItem};this._tagHierarchyChanged.dispatch(this,i)}}class Bn{constructor(){this._isButtonEnabledChangedDispatcher=new n.pB}get isButtonEnabledChanged(){return this._isButtonEnabledChangedDispatcher.asEvent()}get isButtonEnabled(){return this._isButtonEnabled}set isButtonEnabled(e){e!==this._isButtonEnabled&&(this._isButtonEnabled=e,this._isButtonEnabledChangedDispatcher.dispatch(this,e))}}class An{constructor(e){this._selectionService=e}get selectedDomNode(){return this._selectionService.getFirstSelectedDomNode()}set selectedDomNode(e){this._selectionService.selectDomNode(e)}selectedDomNodeChanged(e){this._selectionService.selectedLogicalNodeChanged.subscribe((()=>{e(this.selectedDomNode)}))}}class Fn{constructor(e){this.selection=new An(e.selectionService)}}class Rn{constructor(){this._isConnectedChanged=new n.pB}get isConnected(){return this._isConnected}set isConnected(e){this._isConnected!==e&&(this._isConnected=e,this._isConnectedChanged.dispatch(this,e))}get isConnectedChanged(){return this._isConnectedChanged.asEvent()}}class In{constructor(){this._isInitialized=!1,this._isInitializedChanged=new n.pB}get isInitialized(){return this._isInitialized}set isInitialized(e){this._isInitialized!==e&&(this._isInitialized=e,this._isInitializedChanged.dispatch(this,e))}get isInitializedChanged(){return this._isInitializedChanged.asEvent()}}class Mn{}Mn.toggleWLPMenu="ctrl+alt+m",Mn.toggleInteractiveMode="ctrl+alt+i",Mn.refreshBrowser="ctrl+alt+enter",Mn.tagNavigationBarSelectionLeft="shift+alt+left",Mn.tagNavigationBarSelectionRight="shift+alt+right",Mn.arrowUp="up",Mn.arrowDown="down",Mn.arrowLeft="left",Mn.arrowRight="right",Mn.enterTextEditingMode="ctrl+alt+e",Mn.escape="escape",Mn.enter="enter";class Hn{}Hn.normalNavigation=[Mn.arrowUp,Mn.arrowDown,Mn.arrowLeft,Mn.arrowRight],Hn.menuNavigation=[Mn.arrowUp,Mn.arrowDown],Hn.tagNavBarSelection=[Mn.tagNavigationBarSelectionLeft,Mn.tagNavigationBarSelectionRight];var jn=i(441);class zn{constructor(){this._isEnabled=!1,this._isEnabledChanged=new n.FK,this._isReady=!1,this._isReadyChanged=new n.FK,this.isEnabled=this.isEnabledOnLoad}initialize(){jn.bind(Mn.toggleInteractiveMode,(()=>{this.isEnabled=!this.isEnabled}),"keydown")}uninitialize(){jn.unbind(Mn.toggleInteractiveMode,"keydown")}get isEnabled(){return this._isEnabled}set isEnabled(e){if(this._isEnabled!==e){this._isEnabled=e,this.isEnabledByStorage=e,this.raiseIsEnabledChanged();!function(e,t){const i=document.createElement("div"),o="speak-"+Date.now();i.setAttribute("id",o),i.setAttribute("aria-live",t||"polite"),i.classList.add("sr-only"),document.querySelector("live-preview-root")&&(document.body.appendChild(i),window.setTimeout((function(){document.getElementById(o).innerHTML=e}),100),window.setTimeout((function(){document.body.removeChild(document.getElementById(o))}),1e3))}(kn(e?"screenReader.inspectorEnabled":"screenReader.inspectorDisabled"),"assertive")}}get isEnabledChanged(){return this._isEnabledChanged.asEvent()}get isReady(){return this._isReady}set isReady(e){this._isReady!==e&&(this._isReady=e,this.raiseIsReadyChanged())}get isReadyChanged(){return this._isReadyChanged.asEvent()}set selectionOverlayElement(e){this._selectionOverlayElement=e}get selectionOverlayElement(){return this._selectionOverlayElement}get isEnabledOnLoad(){return this.isEnabledByUrl&&!this.isDisabledByStorage||this.isEnabledByStorage}raiseIsEnabledChanged(){this._isEnabledChanged.dispatch(this._isEnabled)}raiseIsReadyChanged(){this._isReadyChanged.dispatch(this._isReady)}get isEnabledByUrl(){return"true"===new URLSearchParams(new URL(window.location.href).search).get(zn.SearchParameterName)}get isEnabledByStorage(){return window.sessionStorage.getItem(zn.SessionStorageKey)===(!0).toString()}set isEnabledByStorage(e){window.sessionStorage.setItem(zn.SessionStorageKey,e.toString())}get isDisabledByStorage(){return window.sessionStorage.getItem(zn.SessionStorageKey)===(!1).toString()}}zn.SearchParameterName="vsedit",zn.SessionStorageKey="weblivepreview-designsurface-enabled";var Vn=i(80);class Un{createCSS(){return""}createBehavior(){}}var qn=i(676);class Kn{constructor(){this.targets=new WeakSet,this.behaviors=null}addStylesTo(e){this.targets.add(e)}removeStylesFrom(e){this.targets.delete(e)}isAttachedTo(e){return this.targets.has(e)}withBehaviors(...e){return this.behaviors=null===this.behaviors?e:this.behaviors.concat(e),this}}function Wn(e){return e.map((e=>e instanceof Kn?Wn(e.styles):[e])).reduce(((e,t)=>e.concat(t)),[])}function Gn(e){return e.map((e=>e instanceof Kn?e.behaviors:null)).reduce(((e,t)=>null===t?e:(null===e&&(e=[]),e.concat(t))),null)}Kn.create=(()=>{if(qn.SO.supportsAdoptedStyleSheets){const e=new Map;return t=>new Xn(t,e)}return e=>new Qn(e)})();class Xn extends Kn{constructor(e,t){super(),this.styles=e,this.styleSheetCache=t,this._styleSheets=void 0,this.behaviors=Gn(e)}get styleSheets(){if(void 0===this._styleSheets){const e=this.styles,t=this.styleSheetCache;this._styleSheets=Wn(e).map((e=>{if(e instanceof CSSStyleSheet)return e;let i=t.get(e);return void 0===i&&(i=new CSSStyleSheet,i.replaceSync(e),t.set(e,i)),i}))}return this._styleSheets}addStylesTo(e){e.adoptedStyleSheets=[...e.adoptedStyleSheets,...this.styleSheets],super.addStylesTo(e)}removeStylesFrom(e){const t=this.styleSheets;e.adoptedStyleSheets=e.adoptedStyleSheets.filter((e=>-1===t.indexOf(e))),super.removeStylesFrom(e)}}let Yn=0;class Qn extends Kn{constructor(e){super(),this.styles=e,this.behaviors=null,this.behaviors=Gn(e),this.styleSheets=Wn(e),this.styleClass=`fast-style-class-${++Yn}`}addStylesTo(e){const t=this.styleSheets,i=this.styleClass;e=this.normalizeTarget(e);for(let o=t.length-1;o>-1;--o){const n=document.createElement("style");n.innerHTML=t[o],n.className=i,e.prepend(n)}super.addStylesTo(e)}removeStylesFrom(e){const t=(e=this.normalizeTarget(e)).querySelectorAll(`.${this.styleClass}`);for(let i=0,o=t.length;i<o;++i)e.removeChild(t[i]);super.removeStylesFrom(e)}isAttachedTo(e){return super.isAttachedTo(this.normalizeTarget(e))}normalizeTarget(e){return e===document?document.body:e}}function Jn(e,t){const i=[];let o="";const n=[];for(let r=0,s=e.length-1;r<s;++r){o+=e[r];let s=t[r];if(s instanceof Un){const e=s.createBehavior();s=s.createCSS(),e&&n.push(e)}s instanceof Kn||s instanceof CSSStyleSheet?(""!==o.trim()&&(i.push(o),o=""),i.push(s)):o+=s}return o+=e[e.length-1],""!==o.trim()&&i.push(o),{styles:i,behaviors:n}}function Zn(e,...t){const{styles:i,behaviors:o}=Jn(e,t),n=Kn.create(i);return o.length&&n.withBehaviors(...o),n}null&&CSSDirective;var er=i(202),tr=i(258);function ir(e,t){this.source=e,this.context=t,null===this.bindingObserver&&(this.bindingObserver=er.y$.binding(this.binding,this,this.isBindingVolatile)),this.updateTarget(this.bindingObserver.observe(e,t))}function or(e,t){this.source=e,this.context=t,this.target.addEventListener(this.targetName,this)}function nr(){this.bindingObserver.disconnect(),this.source=null,this.context=null}function rr(){this.bindingObserver.disconnect(),this.source=null,this.context=null;const e=this.target.$fastView;void 0!==e&&e.isComposed&&(e.unbind(),e.needsBindOnly=!0)}function sr(){this.target.removeEventListener(this.targetName,this),this.source=null,this.context=null}function ar(e){qn.SO.setAttribute(this.target,this.targetName,e)}function lr(e){qn.SO.setBooleanAttribute(this.target,this.targetName,e)}function cr(e){if(null==e&&(e=""),e.create){this.target.textContent="";let t=this.target.$fastView;void 0===t?t=e.create():this.target.$fastTemplate!==e&&(t.isComposed&&(t.remove(),t.unbind()),t=e.create()),t.isComposed?t.needsBindOnly&&(t.needsBindOnly=!1,t.bind(this.source,this.context)):(t.isComposed=!0,t.bind(this.source,this.context),t.insertBefore(this.target),this.target.$fastView=t,this.target.$fastTemplate=e)}else{const t=this.target.$fastView;void 0!==t&&t.isComposed&&(t.isComposed=!1,t.remove(),t.needsBindOnly?t.needsBindOnly=!1:t.unbind()),this.target.textContent=e}}function dr(e){this.target[this.targetName]=e}function hr(e){const t=this.classVersions||Object.create(null),i=this.target;let o=this.version||0;if(null!=e&&e.length){const n=e.split(/\s+/);for(let e=0,r=n.length;e<r;++e){const r=n[e];""!==r&&(t[r]=o,i.classList.add(r))}}if(this.classVersions=t,this.version=o+1,0!==o){o-=1;for(const e in t)t[e]===o&&i.classList.remove(e)}}class ur extends tr.d${constructor(e){super(),this.binding=e,this.bind=ir,this.unbind=nr,this.updateTarget=ar,this.isBindingVolatile=er.y$.isVolatileBinding(this.binding)}get targetName(){return this.originalTargetName}set targetName(e){if(this.originalTargetName=e,void 0!==e)switch(e[0]){case":":if(this.cleanedTargetName=e.substr(1),this.updateTarget=dr,"innerHTML"===this.cleanedTargetName){const e=this.binding;this.binding=(t,i)=>qn.SO.createHTML(e(t,i))}break;case"?":this.cleanedTargetName=e.substr(1),this.updateTarget=lr;break;case"@":this.cleanedTargetName=e.substr(1),this.bind=or,this.unbind=sr;break;default:this.cleanedTargetName=e,"class"===e&&(this.updateTarget=hr)}}targetAtContent(){this.updateTarget=cr,this.unbind=rr}createBehavior(e){return new pr(e,this.binding,this.isBindingVolatile,this.bind,this.unbind,this.updateTarget,this.cleanedTargetName)}}class pr{constructor(e,t,i,o,n,r,s){this.source=null,this.context=null,this.bindingObserver=null,this.target=e,this.binding=t,this.isBindingVolatile=i,this.bind=o,this.unbind=n,this.updateTarget=r,this.targetName=s}handleChange(){this.updateTarget(this.bindingObserver.observe(this.source,this.context))}handleEvent(e){(0,er.z8)(e);const t=this.binding(this.source,this.context);(0,er.z8)(null),!0!==t&&e.preventDefault()}}let gr=null;class fr{addFactory(e){e.targetIndex=this.targetIndex,this.behaviorFactories.push(e)}captureContentBinding(e){e.targetAtContent(),this.addFactory(e)}reset(){this.behaviorFactories=[],this.targetIndex=-1}release(){gr=this}static borrow(e){const t=gr||new fr;return t.directives=e,t.reset(),gr=null,t}}function vr(e){if(1===e.length)return e[0];let t;const i=e.length,o=e.map((e=>"string"==typeof e?()=>e:(t=e.targetName||t,e.binding))),n=new ur(((e,t)=>{let n="";for(let r=0;r<i;++r)n+=o[r](e,t);return n}));return n.targetName=t,n}const br=qn.Yl.length;function mr(e,t){const i=t.split(qn.pc);if(1===i.length)return null;const o=[];for(let t=0,n=i.length;t<n;++t){const n=i[t],r=n.indexOf(qn.Yl);let s;if(-1===r)s=n;else{const t=parseInt(n.substring(0,r));o.push(e.directives[t]),s=n.substring(r+br)}""!==s&&o.push(s)}return o}function yr(e,t,i=!1){const o=t.attributes;for(let n=0,r=o.length;n<r;++n){const s=o[n],a=s.value,l=mr(e,a);let c=null;null===l?i&&(c=new ur((()=>a)),c.targetName=s.name):c=vr(l),null!==c&&(t.removeAttributeNode(s),n--,r--,e.addFactory(c))}}function wr(e,t,i){const o=mr(e,t.textContent);if(null!==o){let n=t;for(let r=0,s=o.length;r<s;++r){const s=o[r],a=0===r?t:n.parentNode.insertBefore(document.createTextNode(""),n.nextSibling);"string"==typeof s?a.textContent=s:(a.textContent=" ",e.captureContentBinding(s)),n=a,e.targetIndex++,a!==t&&i.nextNode()}e.targetIndex--}}var xr=i(161);class kr{constructor(e,t){this.behaviorCount=0,this.hasHostBehaviors=!1,this.fragment=null,this.targetOffset=0,this.viewBehaviorFactories=null,this.hostBehaviorFactories=null,this.html=e,this.directives=t}create(e){if(null===this.fragment){let e;const t=this.html;if("string"==typeof t){e=document.createElement("template"),e.innerHTML=qn.SO.createHTML(t);const i=e.content.firstElementChild;null!==i&&"TEMPLATE"===i.tagName&&(e=i)}else e=t;const i=function(e,t){const i=e.content;document.adoptNode(i);const o=fr.borrow(t);yr(o,e,!0);const n=o.behaviorFactories;o.reset();const r=qn.SO.createTemplateWalker(i);let s;for(;s=r.nextNode();)switch(o.targetIndex++,s.nodeType){case 1:yr(o,s);break;case 3:wr(o,s,r);break;case 8:qn.SO.isMarker(s)&&o.addFactory(t[qn.SO.extractDirectiveIndexFromMarker(s)])}let a=0;(qn.SO.isMarker(i.firstChild)||1===i.childNodes.length&&t.length)&&(i.insertBefore(document.createComment(""),i.firstChild),a=-1);const l=o.behaviorFactories;return o.release(),{fragment:i,viewBehaviorFactories:l,hostBehaviorFactories:n,targetOffset:a}}(e,this.directives);this.fragment=i.fragment,this.viewBehaviorFactories=i.viewBehaviorFactories,this.hostBehaviorFactories=i.hostBehaviorFactories,this.targetOffset=i.targetOffset,this.behaviorCount=this.viewBehaviorFactories.length+this.hostBehaviorFactories.length,this.hasHostBehaviors=this.hostBehaviorFactories.length>0}const t=this.fragment.cloneNode(!0),i=this.viewBehaviorFactories,o=new Array(this.behaviorCount),n=qn.SO.createTemplateWalker(t);let r=0,s=this.targetOffset,a=n.nextNode();for(let e=i.length;r<e;++r){const e=i[r],t=e.targetIndex;for(;null!==a;){if(s===t){o[r]=e.createBehavior(a);break}a=n.nextNode(),s++}}if(this.hasHostBehaviors){const t=this.hostBehaviorFactories;for(let i=0,n=t.length;i<n;++i,++r)o[r]=t[i].createBehavior(e)}return new xr.b(t,o)}render(e,t,i){"string"==typeof t&&(t=document.getElementById(t)),void 0===i&&(i=t);const o=this.create(i);return o.bind(e,er.Wp),o.appendTo(t),o}}const Cr=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F "'>=/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/;function Sr(e,...t){const i=[];let o="";for(let n=0,r=e.length-1;n<r;++n){const r=e[n];let s=t[n];if(o+=r,s instanceof kr){const e=s;s=()=>e}if("function"==typeof s&&(s=new ur(s)),s instanceof tr.d$){const e=Cr.exec(r);null!==e&&(s.targetName=e[2])}s instanceof tr.m0?(o+=s.createPlaceholder(i.length),i.push(s)):o+=s}return o+=e[e.length-1],new kr(o,i)}var Lr=i(868);const $r={toView:e=>e?"true":"false",fromView:e=>null!=e&&"false"!==e&&!1!==e&&0!==e},Er={toView(e){if(null==e)return null;const t=1*e;return isNaN(t)?null:t.toString()},fromView(e){if(null==e)return null;const t=1*e;return isNaN(t)?null:t}};class Nr{constructor(e,t,i=t.toLowerCase(),o="reflect",n){this.guards=new Set,this.Owner=e,this.name=t,this.attribute=i,this.mode=o,this.converter=n,this.fieldName=`_${t}`,this.callbackName=`${t}Changed`,this.hasCallback=this.callbackName in e.prototype,"boolean"===o&&void 0===n&&(this.converter=$r)}setValue(e,t){const i=e[this.fieldName],o=this.converter;void 0!==o&&(t=o.fromView(t)),i!==t&&(e[this.fieldName]=t,this.tryReflectToAttribute(e),this.hasCallback&&e[this.callbackName](i,t),e.$fastController.notify(this.name))}getValue(e){return er.y$.track(e,this.name),e[this.fieldName]}onAttributeChangedCallback(e,t){this.guards.has(e)||(this.guards.add(e),this.setValue(e,t),this.guards.delete(e))}tryReflectToAttribute(e){const t=this.mode,i=this.guards;i.has(e)||"fromView"===t||qn.SO.queueUpdate((()=>{i.add(e);const o=e[this.fieldName];switch(t){case"reflect":const t=this.converter;qn.SO.setAttribute(e,this.attribute,void 0!==t?t.toView(o):o);break;case"boolean":qn.SO.setBooleanAttribute(e,this.attribute,o)}i.delete(e)}))}static collect(e,...t){const i=[];t.push(e.attributes);for(let o=0,n=t.length;o<n;++o){const n=t[o];if(void 0!==n)for(let t=0,o=n.length;t<o;++t){const o=n[t];"string"==typeof o?i.push(new Nr(e,o)):i.push(new Nr(e,o.property,o.attribute,o.mode,o.converter))}}return i}}function Pr(e,t){let i;function o(e,t){arguments.length>1&&(i.property=t);const o=e.constructor.attributes||(e.constructor.attributes=[]);o.push(i)}return arguments.length>1?(i={},void o(e,t)):(i=void 0===e?{}:e,o)}const Dr={mode:"open"},Tr={},Or=new Map;class _r{constructor(e,t=e.definition){"string"==typeof t&&(t={name:t}),this.type=e,this.name=t.name,this.template=t.template;const i=Nr.collect(e,t.attributes),o=new Array(i.length),n={},r={};for(let e=0,t=i.length;e<t;++e){const t=i[e];o[e]=t.attribute,n[t.name]=t,r[t.attribute]=t}this.attributes=i,this.observedAttributes=o,this.propertyLookup=n,this.attributeLookup=r,this.shadowOptions=void 0===t.shadowOptions?Dr:null===t.shadowOptions?void 0:Object.assign(Object.assign({},Dr),t.shadowOptions),this.elementOptions=void 0===t.elementOptions?Tr:Object.assign(Object.assign({},Tr),t.elementOptions),this.styles=void 0===t.styles?void 0:Array.isArray(t.styles)?Kn.create(t.styles):t.styles instanceof Kn?t.styles:Kn.create([t.styles])}define(e=customElements){const t=this.type;if(!this.isDefined){const e=this.attributes,i=t.prototype;for(let t=0,o=e.length;t<o;++t)er.y$.defineProperty(i,e[t]);Reflect.defineProperty(t,"observedAttributes",{value:this.observedAttributes,enumerable:!0}),Or.set(t,this),this.isDefined=!0}return e.get(this.name)||e.define(this.name,t,this.elementOptions),this}static forType(e){return Or.get(e)}}const Br=new WeakMap,Ar={bubbles:!0,composed:!0,cancelable:!0};function Fr(e){return e.shadowRoot||Br.get(e)||null}class Rr extends Lr.A{constructor(e,t){super(e),this.boundObservables=null,this.behaviors=null,this.needsInitialization=!0,this._template=null,this._styles=null,this._isConnected=!1,this.view=null,this.element=e,this.definition=t;const i=t.shadowOptions;if(void 0!==i){const t=e.attachShadow(i);"closed"===i.mode&&Br.set(e,t)}const o=er.y$.getAccessors(e);if(o.length>0){const t=this.boundObservables=Object.create(null);for(let i=0,n=o.length;i<n;++i){const n=o[i].name,r=e[n];void 0!==r&&(delete e[n],t[n]=r)}}}get isConnected(){return er.y$.track(this,"isConnected"),this._isConnected}setIsConnected(e){this._isConnected=e,er.y$.notify(this,"isConnected")}get template(){return this._template}set template(e){this._template!==e&&(this._template=e,this.needsInitialization||this.renderTemplate(e))}get styles(){return this._styles}set styles(e){this._styles!==e&&(null!==this._styles&&this.removeStyles(this._styles),this._styles=e,this.needsInitialization||null===e||this.addStyles(e))}addStyles(e){const t=Fr(this.element)||this.element.getRootNode();if(e instanceof HTMLStyleElement)t.prepend(e);else if(!e.isAttachedTo(t)){const i=e.behaviors;e.addStylesTo(t),null!==i&&this.addBehaviors(i)}}removeStyles(e){const t=Fr(this.element)||this.element.getRootNode();if(e instanceof HTMLStyleElement)t.removeChild(e);else if(e.isAttachedTo(t)){const i=e.behaviors;e.removeStylesFrom(t),null!==i&&this.removeBehaviors(i)}}addBehaviors(e){const t=this.behaviors||(this.behaviors=new Map),i=e.length,o=[];for(let n=0;n<i;++n){const i=e[n];t.has(i)?t.set(i,t.get(i)+1):(t.set(i,1),o.push(i))}if(this._isConnected){const e=this.element;for(let t=0;t<o.length;++t)o[t].bind(e,er.Wp)}}removeBehaviors(e,t=!1){const i=this.behaviors;if(null===i)return;const o=e.length,n=[];for(let r=0;r<o;++r){const o=e[r];if(i.has(o)){const e=i.get(o)-1;0===e||t?i.delete(o)&&n.push(o):i.set(o,e)}}if(this._isConnected){const e=this.element;for(let t=0;t<n.length;++t)n[t].unbind(e)}}onConnectedCallback(){if(this._isConnected)return;const e=this.element;this.needsInitialization?this.finishInitialization():null!==this.view&&this.view.bind(e,er.Wp);const t=this.behaviors;if(null!==t)for(const[i]of t)i.bind(e,er.Wp);this.setIsConnected(!0)}onDisconnectedCallback(){if(!this._isConnected)return;this.setIsConnected(!1);const e=this.view;null!==e&&e.unbind();const t=this.behaviors;if(null!==t){const e=this.element;for(const[i]of t)i.unbind(e)}}onAttributeChangedCallback(e,t,i){const o=this.definition.attributeLookup[e];void 0!==o&&o.onAttributeChangedCallback(this.element,i)}emit(e,t,i){return!!this._isConnected&&this.element.dispatchEvent(new CustomEvent(e,Object.assign(Object.assign({detail:t},Ar),i)))}finishInitialization(){const e=this.element,t=this.boundObservables;if(null!==t){const i=Object.keys(t);for(let o=0,n=i.length;o<n;++o){const n=i[o];e[n]=t[n]}this.boundObservables=null}const i=this.definition;null===this._template&&(this.element.resolveTemplate?this._template=this.element.resolveTemplate():i.template&&(this._template=i.template||null)),null!==this._template&&this.renderTemplate(this._template),null===this._styles&&(this.element.resolveStyles?this._styles=this.element.resolveStyles():i.styles&&(this._styles=i.styles||null)),null!==this._styles&&this.addStyles(this._styles),this.needsInitialization=!1}renderTemplate(e){const t=this.element,i=Fr(t)||t;null!==this.view?(this.view.dispose(),this.view=null):this.needsInitialization||qn.SO.removeChildNodes(i),e&&(this.view=e.render(t,i,t))}static forCustomElement(e){const t=e.$fastController;if(void 0!==t)return t;const i=_r.forType(e.constructor);if(void 0===i)throw new Error("Missing FASTElement definition.");return e.$fastController=new Rr(e,i)}}function Ir(e){return class extends e{constructor(){super(),Rr.forCustomElement(this)}$emit(e,t,i){return this.$fastController.emit(e,t,i)}connectedCallback(){this.$fastController.onConnectedCallback()}disconnectedCallback(){this.$fastController.onDisconnectedCallback()}attributeChangedCallback(e,t,i){this.$fastController.onAttributeChangedCallback(e,t,i)}}}const Mr=Object.assign(Ir(HTMLElement),{from:e=>Ir(e),define:(e,t)=>new _r(e,t).define().type});function Hr(e){return function(t){new _r(t,e).define()}}class jr{constructor(){this.htmlVoidElementTagNames=i(318),this.elementsFromPoint=(e,t)=>document.elementsFromPoint?document.elementsFromPoint(e,t):document["msElementsFromPoint"]?document["msElementsFromPoint"](e,t):null,this.nodeFromPoint=(e,t)=>{const i=this.elementsFromPoint(e,t);if(!i)return null;const o=i[1];for(let i=0;i<o.childNodes.length;i++)if(o.childNodes[i].nodeType===Node.TEXT_NODE){const n=o.childNodes[i],r=document.createRange();r.selectNode(n);for(const i of r.getClientRects())if(e>i.left&&e<i.right&&t>i.top&&t<i.bottom)return n}return o},this.isElement=e=>void 0!==e.getBoundingClientRect,this.getClosestLogicalChildNodeAtPoint=(e,t,i,o,n)=>{let r=null,s=Number.MAX_VALUE;for(let a=0;a<i.childNodes.length;a++){const l=i.childNodes[a],c=o.getFirstLogicalNodeFromDomNode(l);if(!c||!this.isTextNode(l)&&!this.isElement(l))continue;const d=n.getBoundingClientRect(l);let h=0,u=0;e<d.left?h=d.left-e:e>d.right&&(h=e-d.right),t<d.top?u=d.top-t:t>d.bottom&&(u=t-d.bottom);const p=h*h+u*u;p<s&&(r=c,s=p)}return r},this.isTextNode=e=>!this.isElement(e)&&"#text"===e.nodeName.toLowerCase()}getLogicalContainerElementAtPoint(e,t,i){const o=this.elementsFromPoint(e,t);for(let e=0;e<o.length;e++){const t=o[e],n=i.getFirstLogicalNodeFromDomNode(t);if(n){const e=t.nodeName.toLowerCase();return this.htmlVoidElementTagNames.includes(e)?i.getFirstLogicalNodeFromDomNode(t.parentElement):n}}return null}}var zr=void 0&&(void 0).__decorate||function(e,t,i,o){var n,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,o);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,i,s):n(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s};const Vr=Zn`

    :host {
        z-index: var(--wlp-zIndex);
    }

    .menuButton_container {
        position: fixed;
        height: var(--wlp-status-bar-height);
        bottom: 0;
        font: var(--body-font);
    }

    .disconnectedOverlay {
        position: fixed;
        background-color: black;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        z-index: var(--wlp-zIndex);
        opacity: 0.7;
    }
`,Ur=Sr`
    ${(0,Vn.when)((e=>e.isDesignSurfaceEnabled||e.isDesignSurfaceReady),Sr`
        <div>
            <live-preview-design-system-provider use-defaults>
                ${(0,Vn.when)((e=>e.isDesignSurfaceEnabled),Sr`
                    ${(0,Vn.when)((e=>e.isInitializingLogicalTree||!e.isBrowserLinkConnected),Sr`
                        <div class="disconnectedOverlay"></div>
                    `)}
                    ${(0,Vn.when)((e=>!e.isInitializingLogicalTree),Sr`
                        <selection-overlay :browserLink=${e=>e.browserLink}
                                        :nodesFromAreaUtil=${e=>e.nodesFromAreaUtil}
                                        :nodeBoundingClientRectUtil=${e=>e.nodeBoundingClientRectUtil}>
                        </selection-overlay>
                    `)}
                    <wlp-status-bar ${(0,Vn.ref)("statusBar")} :browserLink=${e=>e.browserLink}
                        @dragenter=${(e,t)=>e.handleDrag(t.event)}
                        @dragover=${(e,t)=>e.handleDrag(t.event)}></wlp-status-bar>
                `)}
                ${(0,Vn.when)((e=>!e.isDesignSurfaceEnabled),Sr`
                    <div class="menuButton_container">
                        <wlp-start-button ${(0,Vn.ref)("floatingStartButton")} :browserLink=${e=>e.browserLink}></wlp-start-button>
                    </div>
                `)}
            </live-preview-design-system-provider>
        </div>
    `)}
`;let qr=class extends Mr{constructor(e,t,i){super(),this.toggleMenu=()=>{var e,t;this.isDesignSurfaceEnabled?null===(e=this.statusBar)||void 0===e||e.toggleMenu():null===(t=this.floatingStartButton)||void 0===t||t.toggleMenu()},this.handleDesignSurfaceIsEnabledChanged=()=>{this.isDesignSurfaceEnabled=this.browserLink.designSurfaceService.isEnabled},this.handleDesignSurfaceIsReadyChanged=()=>{this.isDesignSurfaceReady=this.browserLink.designSurfaceService.isReady},this.handleIsInitializedChanged=(e,t)=>{this.isInitializingLogicalTree=!t},this.handleIsBrowserLinkConnectedChanged=(e,t)=>{this.isBrowserLinkConnected=t},this.browserLink=e,this.nodesFromAreaUtil=t||new jr,this.nodeBoundingClientRectUtil=i||new a}connectedCallback(){super.connectedCallback(),jn.bind(Mn.toggleWLPMenu,this.toggleMenu,"keyup"),this.browserLink&&(this.checkBrowserLinkState(),this.attachBrowserLinkEvents())}disconnectedCallback(){super.disconnectedCallback(),jn.unbind(Mn.toggleWLPMenu,"keyup"),this.browserLink&&this.detachBrowserLinkEvents(this.browserLink)}handleDrag(e){e.dataTransfer.dropEffect="none",e.dataTransfer.effectAllowed="none"}browserLinkChanged(e,t){this.isConnected&&(e&&this.detachBrowserLinkEvents(e),t&&(this.browserLink.hotkeyManagerService.shadowRootNode=this.shadowRoot,this.checkBrowserLinkState(),this.attachBrowserLinkEvents()))}checkBrowserLinkState(){this.isInitializingLogicalTree=!this.browserLink.logicalTreeInitializedStatusService.isInitialized,this.isBrowserLinkConnected=this.browserLink.browserLinkConnectionStatusService.isConnected,this.isDesignSurfaceEnabled=this.browserLink.designSurfaceService.isEnabled,this.isDesignSurfaceReady=this.browserLink.designSurfaceService.isReady}attachBrowserLinkEvents(){this.browserLink.browserLinkConnectionStatusService.isConnectedChanged.subscribe(this.handleIsBrowserLinkConnectedChanged),this.browserLink.logicalTreeInitializedStatusService.isInitializedChanged.subscribe(this.handleIsInitializedChanged),this.browserLink.designSurfaceService.isEnabledChanged.subscribe(this.handleDesignSurfaceIsEnabledChanged),this.browserLink.designSurfaceService.isReadyChanged.subscribe(this.handleDesignSurfaceIsReadyChanged)}detachBrowserLinkEvents(e){e.browserLinkConnectionStatusService.isConnectedChanged.unsubscribe(this.handleIsBrowserLinkConnectedChanged),e.logicalTreeInitializedStatusService.isInitializedChanged.unsubscribe(this.handleIsInitializedChanged),e.designSurfaceService.isEnabledChanged.unsubscribe(this.handleDesignSurfaceIsEnabledChanged),e.designSurfaceService.isReadyChanged.unsubscribe(this.handleDesignSurfaceIsReadyChanged)}};zr([Vn.observable],qr.prototype,"browserLink",void 0),zr([Vn.observable],qr.prototype,"nodesFromAreaUtil",void 0),zr([Vn.observable],qr.prototype,"nodeBoundingClientRectUtil",void 0),zr([Vn.observable],qr.prototype,"isBrowserLinkConnected",void 0),zr([Vn.observable],qr.prototype,"isInitializingLogicalTree",void 0),zr([Vn.observable],qr.prototype,"isDesignSurfaceEnabled",void 0),zr([Vn.observable],qr.prototype,"isDesignSurfaceReady",void 0),qr=zr([Hr({name:"live-preview-root",template:Ur,styles:Vr})],qr);class Kr{constructor(e){this._browserLink=e}initialize(){this._browserLink.log("Initializing tools services..."),this._browserLink.browserLinkConnectionStatusService.isConnected=!0,this._browserLink.log("Initializing tools design surface service"),this._browserLink.designSurfaceService.initialize();const e=kn("status.generatingLogicalTree");this._browserLink.statusService.currentStatus={displayText:e,fullText:e},this._browserLink.log("Initializing tools selection service"),this._browserLink.selectionService.initialize(),this._browserLink.log("Initializing tools tag navigation service"),this._browserLink.tagNavigationService.initialize(),this._browserLink.log("Initializing tools hotkey manager service"),this._browserLink.hotkeyManagerService.initialize(),this._browserLink.sourceMapping.ensureUpToDateAsync((async()=>{this._browserLink.log("Logical tree initialization detected in tools extension"),this._browserLink.logicalTreeInitializedStatusService.isInitialized=!0,this._browserLink.log("Setting current status");const e=await this._browserLink.currentUpdateStatusService.getCurrentUpdateFullStatus(),t=await this._browserLink.currentUpdateStatusService.getCurrentUpdateShortStatus();this._browserLink.statusService.currentStatus={fullText:e,displayText:t},this._browserLink.log(`Current status set: ${e}/${t}`),this._browserLink.keyboardNavigationService.updatePositionMap(),this._browserLink.log("Tools service initialization finished"),this._browserLink.designSurfaceService.isReady=!0}))}uninitialize(){this._browserLink.designSurfaceService.uninitialize(),this._browserLink.selectionService.uninitialize(),this._rootElement&&this._rootElement.remove()}renderLivePreviewBrowserUI(){this._rootElement=new qr(this._browserLink),document.body.appendChild(this._rootElement)}}class Wr{createElement(e,t){return document.createElement(e,t)}}var Gr;!function(e){e[e["NORMAL_NAVIGATION"]=1]="NORMAL_NAVIGATION",e[e["MENU_NAVIGATION"]=2]="MENU_NAVIGATION",e[e["CLOSE_DIALOG_NAVIGATION"]=3]="CLOSE_DIALOG_NAVIGATION"}(Gr||(Gr={}));class Xr{constructor(e){this._arrowKeyMode=Gr.NORMAL_NAVIGATION,this._arrowKeyHandlers=new Map,this._arrowKeyModeAssociatedNode=new Map,this._browserLink=e}initialize(){this._arrowKeyHandlers.set(Gr.NORMAL_NAVIGATION,this._browserLink.keyboardNavigationService.onArrowKeyDown.bind(this._browserLink.keyboardNavigationService))}get arrowKeyMode(){return this._arrowKeyMode}set arrowKeyMode(e){if(this._arrowKeyMode=e,this._arrowKeyMode&&this._arrowKeyModeAssociatedNode.has(this._arrowKeyMode)){const e=this._arrowKeyModeAssociatedNode.get(this._arrowKeyMode);e&&e.focus()}}setArrowKeyModeAssociatedNode(e,t){this._arrowKeyModeAssociatedNode.set(e,t)}onArrowKeyPressed(e){this._arrowKeyMode&&this._arrowKeyHandlers.has(this._arrowKeyMode)&&this._arrowKeyHandlers.get(this._arrowKeyMode)(e)}}const Yr={max:2147483647,maxMinus1:2147483646};class Qr{constructor(e){var t;this._textNodeBeingEditedChanged=new n.pB,this._browserLink=e,this._documentWrapper=new Wr,this._textNodeBeingEdited=null,this._editableTempWrapper=null,this._focusOutEventListener=null,(null===(t=this._browserLink)||void 0===t?void 0:t.selectionService)&&this._browserLink.selectionService.selectedLogicalNodeChanged.subscribe(this.onSelectionNodeChanged.bind(this))}get textNodeBeingEditedChanged(){return this._textNodeBeingEditedChanged.asEvent()}get textNodeBeingEdited(){return this._textNodeBeingEdited}set textNodeBeingEdited(e){const t={prevEditedNode:this._textNodeBeingEdited,newEditedNode:null,isTextEditModeEnabled:!1};if(null===e){if(null===this._textNodeBeingEdited)return;this.escapeEditingMode(),t.newEditedNode=null,t.isTextEditModeEnabled=!1}else{if(!1===this.shouldEnableEditingMode(e))return;this.enableEditingMode(e),t.newEditedNode=this._textNodeBeingEdited,t.isTextEditModeEnabled=!0}this._textNodeBeingEditedChanged.dispatch(this,t)}onSelectionNodeChanged(e,t){if(null===this._textNodeBeingEdited)return;if(this._browserLink.logicalTree.getFirstLogicalNodeFromDomNode(this._textNodeBeingEdited)===t.newSelectedNode)throw Error("Nodes under simple text editing mode should not be newly selected node.");this.textNodeBeingEdited=null}onEscapeEditingModeWithoutSave(e){var t;if(e.preventDefault(),null===this.textNodeBeingEdited)return;const i=this._editableTempWrapper,o=i.parentElement;this._focusOutEventListener&&(i.removeEventListener("focusout",this._focusOutEventListener),this._focusOutEventListener=null),o.insertBefore(this._textNodeBeingEdited,i),this._textNodeBeingEdited.textContent=this._textNodeContentPreEditing,i.remove();const n=null===(t=this._browserLink.designSurfaceService)||void 0===t?void 0:t.selectionOverlayElement;n&&(n.style.zIndex=Yr.max.toString()),this._textNodeBeingEdited=null,this._textNodeContentPreEditing=null,this._editableTempWrapper=null,this._browserLink.hotkeyManagerService.arrowKeyMode=Gr.NORMAL_NAVIGATION}onEscapeEditingModeWithHotkey(e){e.preventDefault(),this.escapeEditingMode()}escapeEditingMode(){var e;const t=this._editableTempWrapper,i=t.parentElement,o=this._browserLink.logicalTree.getFirstLogicalNodeFromDomNode(this._textNodeBeingEdited);let n="";this._textNodeBeingEdited.parentNode===t&&(n=t.textContent),this._browserLink.logicalTreeEditingService.replaceTextInTextNode(o,n),this._textNodeBeingEdited.textContent=t.textContent,this._focusOutEventListener&&(t.removeEventListener("focusout",this._focusOutEventListener),this._focusOutEventListener=null),i.insertBefore(this._textNodeBeingEdited,t),t.remove();const r=null===(e=this._browserLink.designSurfaceService)||void 0===e?void 0:e.selectionOverlayElement;r&&(r.style.zIndex=Yr.max.toString()),this._textNodeBeingEdited=null,this._textNodeContentPreEditing=null,this._editableTempWrapper=null,this._browserLink.hotkeyManagerService.arrowKeyMode=Gr.NORMAL_NAVIGATION}enableEditingMode(e){var t;const i=this._documentWrapper.createElement("span");i.setAttribute("contentEditable","true"),e.parentElement.insertBefore(i,e),i.appendChild(e);const o=jn(i);o&&(o.bind(Mn.escape,this.onEscapeEditingModeWithoutSave.bind(this)),o.bind(Mn.enter,this.onEscapeEditingModeWithHotkey.bind(this))),this._textNodeBeingEdited=e,this._textNodeContentPreEditing=e.textContent,this._editableTempWrapper=i;const n=null===(t=this._browserLink.designSurfaceService)||void 0===t?void 0:t.selectionOverlayElement;n&&(n.style.zIndex=Yr.maxMinus1.toString()),i.style.zIndex=Yr.max.toString(),i.style.position="relative",i.style.outline="1px solid rgba(173, 216, 230, 0.8)",i.style.display="inline",i.style.cursor="text",i.setAttribute("role","textbox"),i.setAttribute("tabIndex","-1"),i.setAttribute("aria-label",kn("simpleTextEditing.editableText_ariaLabel")),this._focusOutEventListener=this.onTextEditingElementFocusOut.bind(this),i.addEventListener("focusout",this._focusOutEventListener),i.focus(),this.selectElementContents(i)}onTextEditingElementFocusOut(e){this.textNodeBeingEdited=null}selectElementContents(e){const t=window.getSelection(),i=document.createRange();i.selectNodeContents(e),t.removeAllRanges(),t.addRange(i)}shouldEnableEditingMode(e){if(e===this._textNodeBeingEdited)return!1;if(e.nodeType===Node.TEXT_NODE&&e.textContent){const t=this._browserLink.logicalTree.getLogicalNodesFromDomNode(e);return 1===t.length&&!1!==t[0].start.isLiteral}return!1}}function Jr(e,t,i,o){var n,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,o);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,i,s):n(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s}var Zr;function es(e,t,i,o){var n,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,o);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,i,s):n(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s}!function(e){e["ltr"]="ltr",e["rtl"]="rtl"}(Zr||(Zr={}));const ts="resize",is="scroll",os=e=>{const t=e.closest("[dir]");return null!==t&&"rtl"===t.dir?Zr.rtl:Zr.ltr};var ns=i(906);class rs extends Mr{constructor(){super(...arguments),this.anchor="",this.viewport="",this.horizontalPositioningMode="uncontrolled",this.horizontalDefaultPosition="unset",this.horizontalInset=!1,this.horizontalScaling="content",this.verticalPositioningMode="uncontrolled",this.verticalDefaultPosition="unset",this.verticalInset=!1,this.verticalScaling="content",this.fixedPlacement=!1,this.autoUpdateMode="anchor",this.anchorElement=null,this.viewportElement=null,this.initialLayoutComplete=!1,this.resizeDetector=null,this.pendingPositioningUpdate=!1,this.pendingLayoutUpdate=!1,this.pendingReset=!1,this.currentDirection=Zr.ltr,this.regionVisible=!1,this.updateThreshold=.5,this.update=()=>{null!==this.viewportRect&&null!==this.regionDimension?this.requestPositionUpdates():this.requestLayoutUpdate()},this.updateAnchorOffset=(e,t)=>{this.anchorLeft=this.anchorLeft+e,this.anchorRight=this.anchorRight+e,this.anchorTop=this.anchorTop+t,this.anchorBottom=this.anchorBottom+t,this.updateLayout()},this.startObservers=()=>{this.stopObservers(),null!==this.anchorElement&&(this.requestPositionUpdates(),null!==this.resizeDetector&&this.resizeDetector.observe(this.anchorElement))},this.requestPositionUpdates=()=>{null===this.anchorElement||this.pendingPositioningUpdate||(rs.intersectionService.requestPosition(this,this.handleIntersection),rs.intersectionService.requestPosition(this.anchorElement,this.handleIntersection),null!==this.viewportElement&&rs.intersectionService.requestPosition(this.viewportElement,this.handleIntersection),this.pendingPositioningUpdate=!0)},this.stopObservers=()=>{this.pendingPositioningUpdate&&(this.pendingPositioningUpdate=!1,rs.intersectionService.cancelRequestPosition(this,this.handleIntersection),null!==this.anchorElement&&rs.intersectionService.cancelRequestPosition(this.anchorElement,this.handleIntersection),null!==this.viewportElement&&rs.intersectionService.cancelRequestPosition(this.viewportElement,this.handleIntersection)),null!==this.resizeDetector&&this.resizeDetector.disconnect()},this.getViewport=()=>"string"!=typeof this.viewport||""===this.viewport?document.documentElement:document.getElementById(this.viewport),this.getAnchor=()=>document.getElementById(this.anchor),this.handleIntersection=e=>{this.pendingPositioningUpdate&&(this.pendingPositioningUpdate=!1,this.applyIntersectionEntries(e)&&null!==this.regionRect&&(this.initialLayoutComplete||(this.containingBlockHeight=this.regionRect.height,this.containingBlockWidth=this.regionRect.width),this.updateRegionOffset(this.regionRect),this.updateLayout()))},this.applyIntersectionEntries=e=>{let t=e.find((e=>e.target===this)),i=e.find((e=>e.target===this.anchorElement)),o=e.find((e=>e.target===this.viewportElement));return void 0!==t&&void 0!==o&&void 0!==i&&(!!(null===this.regionRect||null===this.anchorRect||null===this.viewportRect||this.isRectDifferent(this.anchorRect,i.boundingClientRect)||this.isRectDifferent(this.viewportRect,o.boundingClientRect)||this.isRectDifferent(this.regionRect,t.boundingClientRect))&&(this.regionRect=t.boundingClientRect,this.anchorRect=i.boundingClientRect,this.viewportRect=o.boundingClientRect,this.handleRegionIntersection(t),this.handleAnchorIntersection(i),!0))},this.isRectDifferent=(e,t)=>Math.abs(e.top-t.top)>this.updateThreshold||Math.abs(e.right-t.right)>this.updateThreshold||Math.abs(e.bottom-t.bottom)>this.updateThreshold||Math.abs(e.left-t.left)>this.updateThreshold,this.handleAnchorIntersection=e=>{this.anchorTop=e.boundingClientRect.top,this.anchorRight=e.boundingClientRect.right,this.anchorBottom=e.boundingClientRect.bottom,this.anchorLeft=e.boundingClientRect.left,this.anchorHeight=e.boundingClientRect.height,this.anchorWidth=e.boundingClientRect.width},this.handleRegionIntersection=e=>{const t=e.boundingClientRect;this.regionDimension={height:t.height,width:t.width}},this.handleResize=e=>{this.initialLayoutComplete&&this.update()},this.reset=()=>{this.pendingReset&&(this.pendingReset=!1,null===this.anchorElement&&(this.anchorElement=this.getAnchor()),null===this.viewportElement&&(this.viewportElement=this.getViewport()),this.currentDirection=os(this),this.startObservers())},this.updateLayout=()=>{this.pendingLayoutUpdate=!1;let e="undefined",t="undefined";if("uncontrolled"!==this.horizontalPositioningMode){const e=this.getHorizontalPositioningOptions();if("unset"!==this.horizontalDefaultPosition){let e=this.horizontalDefaultPosition;if("start"===e||"end"===e){const t=os(this);if(t!==this.currentDirection)return this.currentDirection=t,void this.initialize();e=this.currentDirection===Zr.ltr?"start"===e?"left":"right":"start"===e?"right":"left"}switch(e){case"left":t=this.horizontalInset?"insetLeft":"left";break;case"right":t=this.horizontalInset?"insetRight":"right"}}const i=void 0!==this.horizontalThreshold?this.horizontalThreshold:this.regionDimension.width;("undefined"===t||"locktodefault"!==this.horizontalPositioningMode&&this.getAvailableWidth(t)<i)&&(t=this.getAvailableWidth(e[0])>this.getAvailableWidth(e[1])?e[0]:e[1])}if("uncontrolled"!==this.verticalPositioningMode){const t=this.getVerticalPositioningOptions();if("unset"!==this.verticalDefaultPosition)switch(this.verticalDefaultPosition){case"top":e=this.verticalInset?"insetTop":"top";break;case"bottom":e=this.verticalInset?"insetBottom":"bottom"}const i=void 0!==this.verticalThreshold?this.verticalThreshold:this.regionDimension.height;("undefined"===e||"locktodefault"!==this.verticalPositioningMode&&this.getAvailableHeight(e)<i)&&(e=this.getAvailableHeight(t[0])>this.getAvailableHeight(t[1])?t[0]:t[1])}const i=this.getNextRegionDimension(t,e),o=this.horizontalPosition!==t||this.verticalPosition!==e;if(this.setHorizontalPosition(t,i),this.setVerticalPosition(e,i),this.updateRegionStyle(),!this.initialLayoutComplete)return this.initialLayoutComplete=!0,void this.requestPositionUpdates();this.regionVisible||(this.regionVisible=!0,this.style.removeProperty("pointer-events"),this.style.removeProperty("opacity"),this.classList.toggle("loaded",!0),this.$emit("loaded",this,{bubbles:!1})),o&&(this.requestPositionUpdates(),this.$emit("positionchange",this,{bubbles:!1}))},this.updateRegionStyle=()=>{this.classList.toggle("top","top"===this.verticalPosition),this.classList.toggle("bottom","bottom"===this.verticalPosition),this.classList.toggle("inset-top","insetTop"===this.verticalPosition),this.classList.toggle("inset-bottom","insetBottom"===this.verticalPosition),this.classList.toggle("left","left"===this.horizontalPosition),this.classList.toggle("right","right"===this.horizontalPosition),this.classList.toggle("inset-left","insetLeft"===this.horizontalPosition),this.classList.toggle("inset-right","insetRight"===this.horizontalPosition),this.style.position=this.fixedPlacement?"fixed":"absolute",this.style.transformOrigin=`${this.yTransformOrigin} ${this.xTransformOrigin}`,"uncontrolled"===this.horizontalPositioningMode?(this.style.width="unset",this.style.right="unset",this.style.left="unset"):(this.style.width=this.regionWidth,this.style.right=this.regionRight,this.style.left=this.regionLeft),"uncontrolled"===this.verticalPositioningMode?(this.style.height="unset",this.style.top="unset",this.style.bottom="unset"):(this.style.height=this.regionHeight,this.style.top=this.regionTop,this.style.bottom=this.regionBottom)},this.setHorizontalPosition=(e,t)=>{let i=null,o=null,n="left";switch(e){case"left":n="right",i=this.containingBlockWidth-this.baseHorizontalOffset;break;case"insetLeft":n="right",i=this.containingBlockWidth-this.anchorWidth-this.baseHorizontalOffset;break;case"insetRight":n="left",o=this.baseHorizontalOffset;break;case"right":n="left",o=this.anchorWidth+this.baseHorizontalOffset}switch(this.xTransformOrigin=n,this.regionRight=null===i?"unset":`${i}px`,this.regionLeft=null===o?"unset":`${o}px`,this.horizontalPosition=e,this.horizontalScaling){case"anchor":this.regionWidth=`${this.anchorWidth}px`;break;case"fill":this.regionWidth=`${t.width}px`;break;case"content":this.regionWidth="unset"}},this.setVerticalPosition=(e,t)=>{let i=null,o=null,n="top";switch(e){case"top":n="bottom",o=this.containingBlockHeight-this.baseVerticalOffset;break;case"insetTop":n="bottom",o=this.containingBlockHeight-this.baseVerticalOffset-this.anchorHeight;break;case"insetBottom":n="top",i=this.baseVerticalOffset;break;case"bottom":n="top",i=this.baseVerticalOffset+this.anchorHeight}switch(this.yTransformOrigin=n,this.regionTop=null===i?"unset":`${i}px`,this.regionBottom=null===o?"unset":`${o}px`,this.verticalPosition=e,this.verticalScaling){case"anchor":this.regionHeight=`${this.anchorHeight}px`;break;case"fill":this.regionHeight=`${t.height}px`;break;case"content":this.regionHeight="unset"}},this.updateRegionOffset=e=>{if("uncontrolled"===this.horizontalPositioningMode)this.baseHorizontalOffset=this.anchorLeft-e.left;else switch(this.horizontalPosition){case"undefined":this.baseHorizontalOffset=this.anchorLeft-e.left;break;case"left":this.baseHorizontalOffset=this.baseHorizontalOffset+(this.anchorLeft-e.right);break;case"insetLeft":this.baseHorizontalOffset=this.baseHorizontalOffset+(this.anchorRight-e.right);break;case"insetRight":this.baseHorizontalOffset=this.baseHorizontalOffset+(this.anchorLeft-e.left);break;case"right":this.baseHorizontalOffset=this.baseHorizontalOffset+(this.anchorRight-e.left)}if("uncontrolled"===this.verticalPositioningMode)this.baseVerticalOffset=this.anchorTop-e.top;else switch(this.verticalPosition){case"undefined":this.baseVerticalOffset=this.anchorTop-e.top;break;case"top":this.baseVerticalOffset=this.baseVerticalOffset+(this.anchorTop-e.bottom);break;case"insetTop":this.baseVerticalOffset=this.baseVerticalOffset+(this.anchorBottom-e.bottom);break;case"insetBottom":this.baseVerticalOffset=this.baseVerticalOffset+(this.anchorTop-e.top);break;case"bottom":this.baseVerticalOffset=this.baseVerticalOffset+(this.anchorBottom-e.top)}},this.getHorizontalPositioningOptions=()=>this.horizontalInset?["insetLeft","insetRight"]:["left","right"],this.getVerticalPositioningOptions=()=>this.verticalInset?["insetTop","insetBottom"]:["top","bottom"],this.getAvailableWidth=e=>{if(null!==this.viewportRect){const t=this.anchorLeft-this.viewportRect.left,i=this.viewportRect.right-(this.anchorLeft+this.anchorWidth);switch(e){case"left":return t;case"insetLeft":return t+this.anchorWidth;case"insetRight":return i+this.anchorWidth;case"right":return i}}return 0},this.getAvailableHeight=e=>{if(null!==this.viewportRect){const t=this.anchorTop-this.viewportRect.top,i=this.viewportRect.bottom-(this.anchorTop+this.anchorHeight);switch(e){case"top":return t;case"insetTop":return t+this.anchorHeight;case"insetBottom":return i+this.anchorHeight;case"bottom":return i}}return 0},this.getNextRegionDimension=(e,t)=>{const i={height:this.regionDimension.height,width:this.regionDimension.width};return"fill"===this.horizontalScaling&&(i.width=this.getAvailableWidth(e)),"fill"===this.verticalScaling&&(i.height=this.getAvailableHeight(t)),i},this.startAutoUpdateEventListeners=()=>{window.addEventListener(ts,this.update),window.addEventListener(is,this.update,!0),null!==this.resizeDetector&&null!==this.viewportElement&&this.resizeDetector.observe(this.viewportElement)},this.stopAutoUpdateEventListeners=()=>{window.removeEventListener(ts,this.update),window.removeEventListener(is,this.update),null!==this.resizeDetector&&null!==this.viewportElement&&this.resizeDetector.unobserve(this.viewportElement)}}anchorChanged(){this.initialLayoutComplete&&(this.anchorElement=this.getAnchor())}viewportChanged(){this.initialLayoutComplete&&(this.viewportElement=this.getViewport())}horizontalPositioningModeChanged(){this.requestReset()}horizontalDefaultPositionChanged(){this.updateForAttributeChange()}horizontalInsetChanged(){this.updateForAttributeChange()}horizontalThresholdChanged(){this.updateForAttributeChange()}horizontalScalingChanged(){this.updateForAttributeChange()}verticalPositioningModeChanged(){this.requestReset()}verticalDefaultPositionChanged(){this.updateForAttributeChange()}verticalInsetChanged(){this.updateForAttributeChange()}verticalThresholdChanged(){this.updateForAttributeChange()}verticalScalingChanged(){this.updateForAttributeChange()}fixedPlacementChanged(){this.$fastController.isConnected&&this.initialLayoutComplete&&this.initialize()}autoUpdateModeChanged(e,t){this.$fastController.isConnected&&this.initialLayoutComplete&&("auto"===e&&this.stopAutoUpdateEventListeners(),"auto"===t&&this.startAutoUpdateEventListeners())}anchorElementChanged(){this.requestReset()}viewportElementChanged(){this.$fastController.isConnected&&this.initialLayoutComplete&&this.initialize()}connectedCallback(){super.connectedCallback(),"auto"===this.autoUpdateMode&&this.startAutoUpdateEventListeners(),this.initialize()}disconnectedCallback(){super.disconnectedCallback(),"auto"===this.autoUpdateMode&&this.stopAutoUpdateEventListeners(),this.stopObservers(),this.disconnectResizeDetector()}adoptedCallback(){this.initialize()}disconnectResizeDetector(){null!==this.resizeDetector&&(this.resizeDetector.disconnect(),this.resizeDetector=null)}initializeResizeDetector(){this.disconnectResizeDetector(),this.resizeDetector=new window.ResizeObserver(this.handleResize)}updateForAttributeChange(){this.$fastController.isConnected&&this.initialLayoutComplete&&this.update()}initialize(){this.initializeResizeDetector(),null===this.anchorElement&&(this.anchorElement=this.getAnchor()),this.requestReset()}requestLayoutUpdate(){!1===this.pendingLayoutUpdate&&!1===this.pendingReset&&(this.pendingLayoutUpdate=!0,qn.SO.queueUpdate((()=>this.updateLayout())))}requestReset(){this.$fastController.isConnected&&!1===this.pendingReset&&(this.pendingLayoutUpdate=!1,this.setInitialState(),qn.SO.queueUpdate((()=>this.reset())),this.pendingReset=!0)}setInitialState(){this.initialLayoutComplete=!1,this.regionVisible=!1,this.regionTop="0",this.regionRight="0",this.regionBottom="0",this.regionLeft="0",this.regionWidth="100%",this.regionHeight="100%",this.xTransformOrigin="left",this.yTransformOrigin="top",this.viewportRect=null,this.regionRect=null,this.anchorRect=null,this.regionDimension={height:0,width:0},this.anchorTop=0,this.anchorRight=0,this.anchorBottom=0,this.anchorLeft=0,this.anchorHeight=0,this.anchorWidth=0,this.verticalPosition="undefined",this.horizontalPosition="undefined",this.baseHorizontalOffset=0,this.baseVerticalOffset=0,this.style.opacity="0",this.style.pointerEvents="none",this.updateRegionStyle()}}rs.intersectionService=new class{constructor(){this.intersectionDetector=null,this.observedElements=new Map,this.requestPosition=(e,t)=>{var i;null!==this.intersectionDetector&&(this.observedElements.has(e)?null===(i=this.observedElements.get(e))||void 0===i||i.push(t):(this.observedElements.set(e,[t]),this.intersectionDetector.observe(e)))},this.cancelRequestPosition=(e,t)=>{const i=this.observedElements.get(e);if(void 0!==i){const e=i.indexOf(t);-1!==e&&i.splice(e,1)}},this.initializeIntersectionDetector=()=>{ns.P.IntersectionObserver&&(this.intersectionDetector=new IntersectionObserver(this.handleIntersection,{root:null,rootMargin:"0px",threshold:[0,1]}))},this.handleIntersection=e=>{if(null===this.intersectionDetector)return;const t=[],i=[];e.forEach((e=>{var o;null===(o=this.intersectionDetector)||void 0===o||o.unobserve(e.target);const n=this.observedElements.get(e.target);void 0!==n&&(n.forEach((o=>{let n=t.indexOf(o);-1===n&&(n=t.length,t.push(o),i.push([])),i[n].push(e)})),this.observedElements.delete(e.target))})),t.forEach(((e,t)=>{e(i[t])}))},this.initializeIntersectionDetector()}},es([Pr],rs.prototype,"anchor",void 0),es([Pr],rs.prototype,"viewport",void 0),es([Pr({attribute:"horizontal-positioning-mode"})],rs.prototype,"horizontalPositioningMode",void 0),es([Pr({attribute:"horizontal-default-position"})],rs.prototype,"horizontalDefaultPosition",void 0),es([Pr({attribute:"horizontal-inset",mode:"boolean"})],rs.prototype,"horizontalInset",void 0),es([Pr({attribute:"horizontal-threshold"})],rs.prototype,"horizontalThreshold",void 0),es([Pr({attribute:"horizontal-scaling"})],rs.prototype,"horizontalScaling",void 0),es([Pr({attribute:"vertical-positioning-mode"})],rs.prototype,"verticalPositioningMode",void 0),es([Pr({attribute:"vertical-default-position"})],rs.prototype,"verticalDefaultPosition",void 0),es([Pr({attribute:"vertical-inset",mode:"boolean"})],rs.prototype,"verticalInset",void 0),es([Pr({attribute:"vertical-threshold"})],rs.prototype,"verticalThreshold",void 0),es([Pr({attribute:"vertical-scaling"})],rs.prototype,"verticalScaling",void 0),es([Pr({attribute:"fixed-placement",mode:"boolean"})],rs.prototype,"fixedPlacement",void 0),es([Pr({attribute:"auto-update-mode"})],rs.prototype,"autoUpdateMode",void 0),es([Vn.observable],rs.prototype,"anchorElement",void 0),es([Vn.observable],rs.prototype,"viewportElement",void 0),es([Vn.observable],rs.prototype,"initialLayoutComplete",void 0);const ss=Sr`
    <template class="${e=>e.initialLayoutComplete?"loaded":""}">
        ${(0,Vn.when)((e=>e.initialLayoutComplete),Sr`
                <slot></slot>
            `)}
    </template>
`,as=Zn`
    :host {
        contain: layout;
        display: block;
    }
`;let ls=class extends rs{};ls=Jr([Hr({name:"fast-anchored-region",template:ss,styles:as})],ls);null&&styles;class cs{}es([Pr({attribute:"aria-atomic",mode:"fromView"})],cs.prototype,"ariaAtomic",void 0),es([Pr({attribute:"aria-busy",mode:"fromView"})],cs.prototype,"ariaBusy",void 0),es([Pr({attribute:"aria-controls",mode:"fromView"})],cs.prototype,"ariaControls",void 0),es([Pr({attribute:"aria-current",mode:"fromView"})],cs.prototype,"ariaCurrent",void 0),es([Pr({attribute:"aria-describedby",mode:"fromView"})],cs.prototype,"ariaDescribedby",void 0),es([Pr({attribute:"aria-details",mode:"fromView"})],cs.prototype,"ariaDetails",void 0),es([Pr({attribute:"aria-disabled",mode:"fromView"})],cs.prototype,"ariaDisabled",void 0),es([Pr({attribute:"aria-errormessage",mode:"fromView"})],cs.prototype,"ariaErrormessage",void 0),es([Pr({attribute:"aria-flowto",mode:"fromView"})],cs.prototype,"ariaFlowto",void 0),es([Pr({attribute:"aria-haspopup",mode:"fromView"})],cs.prototype,"ariaHaspopup",void 0),es([Pr({attribute:"aria-hidden",mode:"fromView"})],cs.prototype,"ariaHidden",void 0),es([Pr({attribute:"aria-invalid",mode:"fromView"})],cs.prototype,"ariaInvalid",void 0),es([Pr({attribute:"aria-keyshortcuts",mode:"fromView"})],cs.prototype,"ariaKeyshortcuts",void 0),es([Pr({attribute:"aria-label",mode:"fromView"})],cs.prototype,"ariaLabel",void 0),es([Pr({attribute:"aria-labelledby",mode:"fromView"})],cs.prototype,"ariaLabelledby",void 0),es([Pr({attribute:"aria-live",mode:"fromView"})],cs.prototype,"ariaLive",void 0),es([Pr({attribute:"aria-owns",mode:"fromView"})],cs.prototype,"ariaOwns",void 0),es([Pr({attribute:"aria-relevant",mode:"fromView"})],cs.prototype,"ariaRelevant",void 0),es([Pr({attribute:"aria-roledescription",mode:"fromView"})],cs.prototype,"ariaRoledescription",void 0);class ds{handleStartContentChange(){this.startContainer.classList.toggle("start",this.start.assignedNodes().length>0)}handleEndContentChange(){this.endContainer.classList.toggle("end",this.end.assignedNodes().length>0)}}const hs=Sr`
    <span part="end" ${(0,Vn.ref)("endContainer")}>
        <slot
            name="end"
            ${(0,Vn.ref)("end")}
            @slotchange="${e=>e.handleEndContentChange()}"
        ></slot>
    </span>
`,us=Sr`
    <span part="start" ${(0,Vn.ref)("startContainer")}>
        <slot
            name="start"
            ${(0,Vn.ref)("start")}
            @slotchange="${e=>e.handleStartContentChange()}"
        ></slot>
    </span>
`;function ps(e,...t){t.forEach((t=>{if(Object.getOwnPropertyNames(t.prototype).forEach((i=>{Object.defineProperty(e.prototype,i,Object.getOwnPropertyDescriptor(t.prototype,i))})),t.attributes){const i=e.attributes||[];e.attributes=i.concat(t.attributes)}}))}var gs;!function(e){e[e["alt"]=18]="alt",e[e["arrowDown"]=40]="arrowDown",e[e["arrowLeft"]=37]="arrowLeft",e[e["arrowRight"]=39]="arrowRight",e[e["arrowUp"]=38]="arrowUp",e[e["back"]=8]="back",e[e["backSlash"]=220]="backSlash",e[e["break"]=19]="break",e[e["capsLock"]=20]="capsLock",e[e["closeBracket"]=221]="closeBracket",e[e["colon"]=186]="colon",e[e["colon2"]=59]="colon2",e[e["comma"]=188]="comma",e[e["ctrl"]=17]="ctrl",e[e["delete"]=46]="delete",e[e["end"]=35]="end",e[e["enter"]=13]="enter",e[e["equals"]=187]="equals",e[e["equals2"]=61]="equals2",e[e["equals3"]=107]="equals3",e[e["escape"]=27]="escape",e[e["forwardSlash"]=191]="forwardSlash",e[e["function1"]=112]="function1",e[e["function10"]=121]="function10",e[e["function11"]=122]="function11",e[e["function12"]=123]="function12",e[e["function2"]=113]="function2",e[e["function3"]=114]="function3",e[e["function4"]=115]="function4",e[e["function5"]=116]="function5",e[e["function6"]=117]="function6",e[e["function7"]=118]="function7",e[e["function8"]=119]="function8",e[e["function9"]=120]="function9",e[e["home"]=36]="home",e[e["insert"]=45]="insert",e[e["menu"]=93]="menu",e[e["minus"]=189]="minus",e[e["minus2"]=109]="minus2",e[e["numLock"]=144]="numLock",e[e["numPad0"]=96]="numPad0",e[e["numPad1"]=97]="numPad1",e[e["numPad2"]=98]="numPad2",e[e["numPad3"]=99]="numPad3",e[e["numPad4"]=100]="numPad4",e[e["numPad5"]=101]="numPad5",e[e["numPad6"]=102]="numPad6",e[e["numPad7"]=103]="numPad7",e[e["numPad8"]=104]="numPad8",e[e["numPad9"]=105]="numPad9",e[e["numPadDivide"]=111]="numPadDivide",e[e["numPadDot"]=110]="numPadDot",e[e["numPadMinus"]=109]="numPadMinus",e[e["numPadMultiply"]=106]="numPadMultiply",e[e["numPadPlus"]=107]="numPadPlus",e[e["openBracket"]=219]="openBracket",e[e["pageDown"]=34]="pageDown",e[e["pageUp"]=33]="pageUp",e[e["period"]=190]="period",e[e["print"]=44]="print",e[e["quote"]=222]="quote",e[e["scrollLock"]=145]="scrollLock",e[e["shift"]=16]="shift",e[e["space"]=32]="space",e[e["tab"]=9]="tab",e[e["tilde"]=192]="tilde",e[e["windowsLeft"]=91]="windowsLeft",e[e["windowsOpera"]=219]="windowsOpera",e[e["windowsRight"]=92]="windowsRight"}(gs||(gs={}));const fs=40,vs=37,bs=39,ms=38,ys=35,ws=13,xs=27,ks=36,Cs=32,Ss=9,Ls="ArrowDown",$s="ArrowLeft",Es="ArrowRight",Ns="ArrowUp",Ps="Enter",Ds={ArrowDown:Ls,ArrowLeft:$s,ArrowRight:Es,ArrowUp:Ns},Ts="form-associated-proxy",Os="ElementInternals",_s=Os in window&&"setFormValue"in window[Os].prototype,Bs=new Map;function As(e){const t=class extends e{constructor(...e){super(...e),this.dirtyValue=!1,this.disabled=!1,this.proxyEventsToBlock=["change","click"],this.formDisabledCallback=e=>{this.disabled=e},this.formResetCallback=()=>{this.value=this.initialValue,this.dirtyValue=!1},this.proxyInitialized=!1,this.required=!1,this.initialValue=this.initialValue||""}static get formAssociated(){return _s}get validity(){return this.elementInternals?this.elementInternals.validity:this.proxy.validity}get form(){return this.elementInternals?this.elementInternals.form:this.proxy.form}get validationMessage(){return this.elementInternals?this.elementInternals.validationMessage:this.proxy.validationMessage}get willValidate(){return this.elementInternals?this.elementInternals.willValidate:this.proxy.willValidate}get labels(){if(this.elementInternals)return Object.freeze(Array.from(this.elementInternals.labels));if(this.proxy instanceof HTMLElement&&this.proxy.ownerDocument&&this.id){const e=this.proxy.labels,t=Array.from(this.proxy.getRootNode().querySelectorAll(`[for='${this.id}']`)),i=e?t.concat(Array.from(e)):t;return Object.freeze(i)}return ns.o}valueChanged(e,t){this.dirtyValue=!0,this.proxy instanceof HTMLElement&&(this.proxy.value=this.value),this.setFormValue(this.value),this.validate()}initialValueChanged(e,t){this.dirtyValue||(this.value=this.initialValue,this.dirtyValue=!1)}disabledChanged(e,t){this.proxy instanceof HTMLElement&&(this.proxy.disabled=this.disabled),qn.SO.queueUpdate((()=>this.classList.toggle("disabled",this.disabled)))}nameChanged(e,t){this.proxy instanceof HTMLElement&&(this.proxy.name=this.name)}requiredChanged(e,t){this.proxy instanceof HTMLElement&&(this.proxy.required=this.required),qn.SO.queueUpdate((()=>this.classList.toggle("required",this.required))),this.validate()}get elementInternals(){if(!_s)return null;let e=Bs.get(this);return e||(e=this.attachInternals(),Bs.set(this,e)),e}connectedCallback(){super.connectedCallback(),this.addEventListener("keypress",this._keypressHandler),this.value||(this.value=this.initialValue,this.dirtyValue=!1),this.elementInternals||this.attachProxy(),this.form&&this.form.addEventListener("reset",this.formResetCallback)}disconnectedCallback(){this.proxyEventsToBlock.forEach((e=>this.proxy.removeEventListener(e,this.stopPropagation))),this.form&&this.form.removeEventListener("reset",this.formResetCallback)}checkValidity(){return this.elementInternals?this.elementInternals.checkValidity():this.proxy.checkValidity()}reportValidity(){return this.elementInternals?this.elementInternals.reportValidity():this.proxy.reportValidity()}setValidity(e,t,i){this.elementInternals?this.elementInternals.setValidity(e,t,i):"string"==typeof t&&this.proxy.setCustomValidity(t)}attachProxy(){var e;this.proxyInitialized||(this.proxyInitialized=!0,this.proxy.style.display="none",this.proxyEventsToBlock.forEach((e=>this.proxy.addEventListener(e,this.stopPropagation))),this.proxy.disabled=this.disabled,this.proxy.required=this.required,"string"==typeof this.name&&(this.proxy.name=this.name),"string"==typeof this.value&&(this.proxy.value=this.value),this.proxy.setAttribute("slot",Ts),this.proxySlot=document.createElement("slot"),this.proxySlot.setAttribute("name",Ts)),null===(e=this.shadowRoot)||void 0===e||e.appendChild(this.proxySlot),this.appendChild(this.proxy)}detachProxy(){var e;this.removeChild(this.proxy),null===(e=this.shadowRoot)||void 0===e||e.removeChild(this.proxySlot)}validate(){this.proxy instanceof HTMLElement&&this.setValidity(this.proxy.validity,this.proxy.validationMessage)}setFormValue(e,t){this.elementInternals&&this.elementInternals.setFormValue(e,t||e)}_keypressHandler(e){switch(e.keyCode){case ws:if(this.form instanceof HTMLFormElement){const e=this.form.querySelector("[type=submit]");null==e||e.click()}}}stopPropagation(e){e.stopPropagation()}};return Pr({mode:"boolean"})(t.prototype,"disabled"),Pr({mode:"fromView",attribute:"value"})(t.prototype,"initialValue"),Pr(t.prototype,"name"),Pr({mode:"boolean"})(t.prototype,"required"),(0,Vn.observable)(t.prototype,"value"),t}class Fs extends Mr{}class Rs extends(As(Fs)){constructor(){super(...arguments),this.proxy=document.createElement("input")}}class Is extends Rs{constructor(){super(...arguments),this.handleSubmission=()=>{if(!this.form)return;const e=this.proxy.isConnected;e||this.attachProxy(),"function"==typeof this.form.requestSubmit?this.form.requestSubmit(this.proxy):this.proxy.click(),e||this.detachProxy()},this.handleFormReset=()=>{var e;null===(e=this.form)||void 0===e||e.reset()}}formactionChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.formAction=this.formaction)}formenctypeChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.formEnctype=this.formenctype)}formmethodChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.formMethod=this.formmethod)}formnovalidateChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.formNoValidate=this.formnovalidate)}formtargetChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.formTarget=this.formtarget)}typeChanged(e,t){this.proxy instanceof HTMLInputElement&&(this.proxy.type=this.type),"submit"===t&&this.addEventListener("click",this.handleSubmission),"submit"===e&&this.removeEventListener("click",this.handleSubmission),"reset"===t&&this.addEventListener("click",this.handleFormReset),"reset"===e&&this.removeEventListener("click",this.handleFormReset)}connectedCallback(){super.connectedCallback(),this.proxy.setAttribute("type",this.type)}get root(){return this.control}}es([Pr({mode:"boolean"})],Is.prototype,"autofocus",void 0),es([Pr({attribute:"form"})],Is.prototype,"formId",void 0),es([Pr],Is.prototype,"formaction",void 0),es([Pr],Is.prototype,"formenctype",void 0),es([Pr],Is.prototype,"formmethod",void 0),es([Pr({mode:"boolean"})],Is.prototype,"formnovalidate",void 0),es([Pr],Is.prototype,"formtarget",void 0),es([Pr],Is.prototype,"type",void 0),es([Vn.observable],Is.prototype,"defaultSlottedContent",void 0);class Ms{}es([Pr({attribute:"aria-expanded",mode:"fromView"})],Ms.prototype,"ariaExpanded",void 0),es([Pr({attribute:"aria-pressed",mode:"fromView"})],Ms.prototype,"ariaPressed",void 0),ps(Ms,cs),ps(Is,ds,Ms);const Hs=Sr`
    <button
        class="control"
        part="control"
        ?autofocus="${e=>e.autofocus}"
        ?disabled="${e=>e.disabled}"
        form="${e=>e.formId}"
        formaction="${e=>e.formaction}"
        formenctype="${e=>e.formenctype}"
        formmethod="${e=>e.formmethod}"
        formnovalidate="${e=>e.formnovalidate}"
        formtarget="${e=>e.formtarget}"
        name="${e=>e.name}"
        type="${e=>e.type}"
        value="${e=>e.value}"
        aria-atomic="${e=>e.ariaAtomic}"
        aria-busy="${e=>e.ariaBusy}"
        aria-controls="${e=>e.ariaControls}"
        aria-current="${e=>e.ariaCurrent}"
        aria-describedBy="${e=>e.ariaDescribedby}"
        aria-details="${e=>e.ariaDetails}"
        aria-disabled="${e=>e.ariaDisabled}"
        aria-errormessage="${e=>e.ariaErrormessage}"
        aria-expanded="${e=>e.ariaExpanded}"
        aria-flowto="${e=>e.ariaFlowto}"
        aria-haspopup="${e=>e.ariaHaspopup}"
        aria-hidden="${e=>e.ariaHidden}"
        aria-invalid="${e=>e.ariaInvalid}"
        aria-keyshortcuts="${e=>e.ariaKeyshortcuts}"
        aria-label="${e=>e.ariaLabel}"
        aria-labelledby="${e=>e.ariaLabelledby}"
        aria-live="${e=>e.ariaLive}"
        aria-owns="${e=>e.ariaOwns}"
        aria-pressed="${e=>e.ariaPressed}"
        aria-relevant="${e=>e.ariaRelevant}"
        aria-roledescription="${e=>e.ariaRoledescription}"
        ${(0,Vn.ref)("control")}
    >
        ${us}
        <span class="content" part="content">
            <slot ${(0,Vn.slotted)("defaultSlottedContent")}></slot>
        </span>
        ${hs}
    </button>
`,js="not-allowed";class zs extends class{constructor(e){this.listenerCache=new WeakMap,this.query=e}bind(e){const{query:t}=this,i=this.constructListener(e);i.bind(t)(),t.addListener(i),this.listenerCache.set(e,i)}unbind(e){const t=this.listenerCache.get(e);t&&(this.query.removeListener(t),this.listenerCache.delete(e))}}{constructor(e,t){super(e),this.styles=t}static with(e){return t=>new zs(e,t)}constructListener(e){let t=!1;const i=this.styles;return function(){const{matches:o}=this;o&&!t?(e.$fastController.addStyles(i),t=o):!o&&t&&(e.$fastController.removeStyles(i),t=o)}}unbind(e){super.unbind(e),e.$fastController.removeStyles(this.styles)}}const Vs=zs.with(window.matchMedia("(forced-colors)"));zs.with(window.matchMedia("(prefers-color-scheme: dark)")),zs.with(window.matchMedia("(prefers-color-scheme: light)"));var Us;!function(e){e["Canvas"]="Canvas",e["CanvasText"]="CanvasText",e["LinkText"]="LinkText",e["VisitedText"]="VisitedText",e["ActiveText"]="ActiveText",e["ButtonFace"]="ButtonFace",e["ButtonText"]="ButtonText",e["Field"]="Field",e["FieldText"]="FieldText",e["Highlight"]="Highlight",e["HighlightText"]="HighlightText",e["GrayText"]="GrayText"}(Us||(Us={}));class qs{constructor(e,t,i){this.name=e,this.value=t,this.host=i,this.propertyName=`--${e}`,this.var=`var(${this.propertyName})`}bind(e){const t=this.host(e);null!==t&&("function"==typeof t.registerCSSCustomProperty?t.registerCSSCustomProperty(this):(Array.isArray(t.disconnectedCSSCustomPropertyRegistry)||(t.disconnectedCSSCustomPropertyRegistry=[]),t.disconnectedCSSCustomPropertyRegistry.push(this)))}unbind(e){const t=this.host(e);null!==t&&"function"==typeof t.unregisterCSSCustomProperty&&t.unregisterCSSCustomProperty(this)}}function Ks(e,t,i){return new qs(e,t,i)}const Ws={typeRampMinus2FontSize:"10px",typeRampMinus2LineHeight:"16px",typeRampMinus1FontSize:"12px",typeRampMinus1LineHeight:"16px",typeRampBaseFontSize:"14px",typeRampBaseLineHeight:"20px",typeRampPlus1FontSize:"16px",typeRampPlus1LineHeight:"24px",typeRampPlus2FontSize:"20px",typeRampPlus2LineHeight:"28px",typeRampPlus3FontSize:"28px",typeRampPlus3LineHeight:"36px",typeRampPlus4FontSize:"34px",typeRampPlus4LineHeight:"44px",typeRampPlus5FontSize:"46px",typeRampPlus5LineHeight:"56px",typeRampPlus6FontSize:"60px",typeRampPlus6LineHeight:"72px",accentBaseColor:"#DA1A5F",accentPalette:["#FFFFFF","#FEFBFC","#FEF7FA","#FDF4F7","#FDF0F5","#FCECF2","#FBE8EF","#FBE5ED","#FAE1EA","#FADDE7","#F9D9E5","#F8D6E2","#F8D2E0","#F7CEDD","#F7CADA","#F6C7D8","#F5C3D5","#F5BFD2","#F4BBD0","#F3B8CD","#F3B4CB","#F2B0C8","#F2ACC5","#F1A9C3","#F0A5C0","#F0A1BD","#EF9DBB","#EF9AB8","#EE96B6","#ED92B3","#ED8EB0","#EC8BAE","#EC87AB","#EB83A8","#EA7FA6","#EA7CA3","#E978A1","#E9749E","#E8709B","#E76D99","#E76996","#E66593","#E66191","#E55E8E","#E45A8C","#E45689","#E35286","#E24F84","#E24B81","#E1477E","#E1437C","#E04079","#DF3C77","#DF3874","#DE3471","#DE316F","#DD2D6C","#DC2969","#DC2567","#DB2264","#DB1E62","#DA1A5F","#D4195C","#CD1859","#C71857","#C01754","#BA1651","#B3154E","#AD154B","#A71449","#A01346","#9A1243","#931240","#8D113D","#86103B","#800F38","#7A0F35","#730E32","#6D0D2F","#660C2D","#600B2A","#590B27","#530A24","#4D0921","#46081F","#40081C","#3B071A","#350617","#300615","#2B0513","#260511","#21040E","#1C030C","#000000"],backgroundColor:"#181818",baseHeightMultiplier:10,baseHorizontalSpacingMultiplier:3,cornerRadius:3,density:0,designUnit:4,direction:Zr.ltr,disabledOpacity:.3,focusOutlineWidth:2,neutralPalette:["#FFFFFF","#FCFCFC","#FAFAFA","#F7F7F7","#F5F5F5","#F2F2F2","#EFEFEF","#EDEDED","#EAEAEA","#E8E8E8","#E5E5E5","#E2E2E2","#E0E0E0","#DDDDDD","#DBDBDB","#D8D8D8","#D6D6D6","#D3D3D3","#D0D0D0","#CECECE","#CBCBCB","#C9C9C9","#C6C6C6","#C3C3C3","#C1C1C1","#BEBEBE","#BCBCBC","#B9B9B9","#B6B6B6","#B4B4B4","#B1B1B1","#AFAFAF","#ACACAC","#A9A9A9","#A7A7A7","#A4A4A4","#A2A2A2","#9F9F9F","#9D9D9D","#9A9A9A","#979797","#959595","#929292","#909090","#8D8D8D","#8A8A8A","#888888","#858585","#838383","#808080","#7D7D7D","#7B7B7B","#787878","#767676","#737373","#717171","#6E6E6E","#6B6B6B","#696969","#666666","#646464","#616161","#5F5F5F","#5C5C5C","#5A5A5A","#575757","#545454","#525252","#4F4F4F","#4D4D4D","#4A4A4A","#484848","#454545","#424242","#404040","#3D3D3D","#3B3B3B","#383838","#363636","#333333","#313131","#2E2E2E","#2B2B2B","#292929","#262626","#242424","#212121","#1E1E1E","#1B1B1B","#181818","#151515","#121212","#101010","#000000"],outlineWidth:1,accentFillRestDelta:0,accentFillHoverDelta:4,accentFillActiveDelta:-5,accentFillFocusDelta:0,accentFillSelectedDelta:12,accentForegroundRestDelta:0,accentForegroundHoverDelta:6,accentForegroundActiveDelta:-4,accentForegroundFocusDelta:0,neutralFillRestDelta:7,neutralFillHoverDelta:10,neutralFillActiveDelta:5,neutralFillFocusDelta:0,neutralFillSelectedDelta:7,neutralFillInputRestDelta:0,neutralFillInputHoverDelta:0,neutralFillInputActiveDelta:0,neutralFillInputFocusDelta:0,neutralFillInputSelectedDelta:0,neutralFillStealthRestDelta:0,neutralFillStealthHoverDelta:5,neutralFillStealthActiveDelta:3,neutralFillStealthFocusDelta:0,neutralFillStealthSelectedDelta:7,neutralFillToggleHoverDelta:8,neutralFillToggleActiveDelta:-5,neutralFillToggleFocusDelta:0,baseLayerLuminance:-1,neutralFillCardDelta:3,neutralForegroundHoverDelta:0,neutralForegroundActiveDelta:0,neutralForegroundFocusDelta:0,neutralDividerRestDelta:8,neutralOutlineRestDelta:25,neutralOutlineHoverDelta:40,neutralOutlineActiveDelta:16,neutralOutlineFocusDelta:25,neutralContrastFillRestDelta:0,neutralContrastFillHoverDelta:-3,neutralContrastFillActiveDelta:7,neutralContrastFillFocusDelta:0};function Gs(e,t){return"function"==typeof e?e(t):e}function Xs(e){return t=>t&&void 0!==t[e]?t[e]:Ws[e]}const Ys=Xs("backgroundColor"),Qs=Xs("accentBaseColor"),Js=(Xs("cornerRadius"),Xs("neutralPalette")),Zs=Xs("accentPalette"),ea=(Xs("designUnit"),Xs("baseHeightMultiplier"),Xs("baseHorizontalSpacingMultiplier"),Xs("outlineWidth"),Xs("focusOutlineWidth"),Xs("disabledOpacity"),Xs("direction"),Xs("accentFillRestDelta"),Xs("accentFillHoverDelta")),ta=Xs("accentFillActiveDelta"),ia=Xs("accentFillFocusDelta"),oa=Xs("accentFillSelectedDelta"),na=Xs("accentForegroundRestDelta"),ra=Xs("accentForegroundHoverDelta"),sa=Xs("accentForegroundActiveDelta"),aa=Xs("accentForegroundFocusDelta"),la=Xs("neutralFillRestDelta"),ca=Xs("neutralFillHoverDelta"),da=Xs("neutralFillActiveDelta"),ha=Xs("neutralFillFocusDelta"),ua=Xs("neutralFillSelectedDelta"),pa=Xs("neutralFillInputRestDelta"),ga=Xs("neutralFillInputHoverDelta"),fa=Xs("neutralFillInputActiveDelta"),va=Xs("neutralFillInputFocusDelta"),ba=Xs("neutralFillInputSelectedDelta"),ma=Xs("neutralFillStealthRestDelta"),ya=Xs("neutralFillStealthHoverDelta"),wa=Xs("neutralFillStealthActiveDelta"),xa=Xs("neutralFillStealthFocusDelta"),ka=Xs("neutralFillStealthSelectedDelta"),Ca=Xs("neutralFillToggleHoverDelta"),Sa=Xs("neutralFillToggleActiveDelta"),La=Xs("neutralFillToggleFocusDelta"),$a=Xs("baseLayerLuminance"),Ea=Xs("neutralFillCardDelta"),Na=Xs("neutralForegroundHoverDelta"),Pa=Xs("neutralForegroundActiveDelta"),Da=Xs("neutralForegroundFocusDelta"),Ta=Xs("neutralDividerRestDelta"),Oa=Xs("neutralOutlineRestDelta"),_a=Xs("neutralOutlineHoverDelta"),Ba=Xs("neutralOutlineActiveDelta"),Aa=Xs("neutralOutlineFocusDelta"),Fa=(Xs("neutralContrastFillRestDelta"),Xs("neutralContrastFillHoverDelta")),Ra=Xs("neutralContrastFillActiveDelta"),Ia=Xs("neutralContrastFillFocusDelta");function Ma(e,t,i){return isNaN(e)||e<=t?t:e>=i?i:e}function Ha(e,t,i){return isNaN(e)||e<=t?0:e>=i?1:e/(i-t)}function ja(e,t,i){return isNaN(e)?t:t+e*(i-t)}function za(e){return e*(Math.PI/180)}function Va(e,t,i){return isNaN(e)||e<=0?t:e>=1?i:t+e*(i-t)}function Ua(e,t,i){if(e<=0)return t%360;if(e>=1)return i%360;const o=(t-i+360)%360;return o<=(i-t+360)%360?(t-o*e+360)%360:(t+o*e+360)%360}Math.PI;function qa(e,t){const i=Math.pow(10,t);return Math.round(e*i)/i}class Ka{constructor(e,t,i,o){this.r=e,this.g=t,this.b=i,this.a="number"!=typeof o||isNaN(o)?1:o}static fromObject(e){return!e||isNaN(e.r)||isNaN(e.g)||isNaN(e.b)?null:new Ka(e.r,e.g,e.b,e.a)}equalValue(e){return this.r===e.r&&this.g===e.g&&this.b===e.b&&this.a===e.a}toStringHexRGB(){return"#"+[this.r,this.g,this.b].map(this.formatHexValue).join("")}toStringHexRGBA(){return this.toStringHexRGB()+this.formatHexValue(this.a)}toStringHexARGB(){return"#"+[this.a,this.r,this.g,this.b].map(this.formatHexValue).join("")}toStringWebRGB(){return`rgb(${Math.round(ja(this.r,0,255))},${Math.round(ja(this.g,0,255))},${Math.round(ja(this.b,0,255))})`}toStringWebRGBA(){return`rgba(${Math.round(ja(this.r,0,255))},${Math.round(ja(this.g,0,255))},${Math.round(ja(this.b,0,255))},${Ma(this.a,0,1)})`}roundToPrecision(e){return new Ka(qa(this.r,e),qa(this.g,e),qa(this.b,e),qa(this.a,e))}clamp(){return new Ka(Ma(this.r,0,1),Ma(this.g,0,1),Ma(this.b,0,1),Ma(this.a,0,1))}toObject(){return{r:this.r,g:this.g,b:this.b,a:this.a}}formatHexValue(e){return function(e){const t=Math.round(Ma(e,0,255)).toString(16);return 1===t.length?"0"+t:t}(ja(e,0,255))}}const Wa=/^rgb\(\s*((?:(?:25[0-5]|2[0-4]\d|1\d\d|\d{1,2})\s*,\s*){2}(?:25[0-5]|2[0-4]\d|1\d\d|\d{1,2})\s*)\)$/i,Ga=/^#((?:[0-9a-f]{6}|[0-9a-f]{3}))$/i;function Xa(e){return Ga.test(e)}function Ya(e){return Wa.test(e)}function Qa(e){const t=Ga.exec(e);if(null===t)return null;let i=t[1];if(3===i.length){const e=i.charAt(0),t=i.charAt(1),o=i.charAt(2);i=e.concat(e,t,t,o,o)}const o=parseInt(i,16);return isNaN(o)?null:new Ka(Ha((16711680&o)>>>16,0,255),Ha((65280&o)>>>8,0,255),Ha(255&o,0,255),1)}function Ja(e){const t=Wa.exec(e);if(null===t)return null;const i=t[1].split(",");return new Ka(Ha(Number(i[0]),0,255),Ha(Number(i[1]),0,255),Ha(Number(i[2]),0,255),1)}class Za{constructor(e,t,i){this.h=e,this.s=t,this.l=i}static fromObject(e){return!e||isNaN(e.h)||isNaN(e.s)||isNaN(e.l)?null:new Za(e.h,e.s,e.l)}equalValue(e){return this.h===e.h&&this.s===e.s&&this.l===e.l}roundToPrecision(e){return new Za(qa(this.h,e),qa(this.s,e),qa(this.l,e))}toObject(){return{h:this.h,s:this.s,l:this.l}}}class el{constructor(e,t,i){this.h=e,this.s=t,this.v=i}static fromObject(e){return!e||isNaN(e.h)||isNaN(e.s)||isNaN(e.v)?null:new el(e.h,e.s,e.v)}equalValue(e){return this.h===e.h&&this.s===e.s&&this.v===e.v}roundToPrecision(e){return new el(qa(this.h,e),qa(this.s,e),qa(this.v,e))}toObject(){return{h:this.h,s:this.s,v:this.v}}}class tl{constructor(e,t,i){this.l=e,this.a=t,this.b=i}static fromObject(e){return!e||isNaN(e.l)||isNaN(e.a)||isNaN(e.b)?null:new tl(e.l,e.a,e.b)}equalValue(e){return this.l===e.l&&this.a===e.a&&this.b===e.b}roundToPrecision(e){return new tl(qa(this.l,e),qa(this.a,e),qa(this.b,e))}toObject(){return{l:this.l,a:this.a,b:this.b}}}tl.epsilon=216/24389,tl.kappa=24389/27;class il{constructor(e,t,i){this.l=e,this.c=t,this.h=i}static fromObject(e){return!e||isNaN(e.l)||isNaN(e.c)||isNaN(e.h)?null:new il(e.l,e.c,e.h)}equalValue(e){return this.l===e.l&&this.c===e.c&&this.h===e.h}roundToPrecision(e){return new il(qa(this.l,e),qa(this.c,e),qa(this.h,e))}toObject(){return{l:this.l,c:this.c,h:this.h}}}class ol{constructor(e,t,i){this.x=e,this.y=t,this.z=i}static fromObject(e){return!e||isNaN(e.x)||isNaN(e.y)||isNaN(e.z)?null:new ol(e.x,e.y,e.z)}equalValue(e){return this.x===e.x&&this.y===e.y&&this.z===e.z}roundToPrecision(e){return new ol(qa(this.x,e),qa(this.y,e),qa(this.z,e))}toObject(){return{x:this.x,y:this.y,z:this.z}}}function nl(e){return.2126*e.r+.7152*e.g+.0722*e.b}function rl(e){function t(e){return e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)}return nl(new Ka(t(e.r),t(e.g),t(e.b),1))}ol.whitePoint=new ol(.95047,1,1.08883);const sl=(e,t)=>(e+.05)/(t+.05);function al(e,t){const i=rl(e),o=rl(t);return i>o?sl(i,o):sl(o,i)}function ll(e){const t=Math.max(e.r,e.g,e.b),i=Math.min(e.r,e.g,e.b),o=t-i;let n=0;0!==o&&(n=t===e.r?60*((e.g-e.b)/o%6):t===e.g?60*((e.b-e.r)/o+2):60*((e.r-e.g)/o+4)),n<0&&(n+=360);const r=(t+i)/2;let s=0;return 0!==o&&(s=o/(1-Math.abs(2*r-1))),new Za(n,s,r)}function cl(e,t=1){const i=(1-Math.abs(2*e.l-1))*e.s,o=i*(1-Math.abs(e.h/60%2-1)),n=e.l-i/2;let r=0,s=0,a=0;return e.h<60?(r=i,s=o,a=0):e.h<120?(r=o,s=i,a=0):e.h<180?(r=0,s=i,a=o):e.h<240?(r=0,s=o,a=i):e.h<300?(r=o,s=0,a=i):e.h<360&&(r=i,s=0,a=o),new Ka(r+n,s+n,a+n,t)}function dl(e){const t=Math.max(e.r,e.g,e.b),i=t-Math.min(e.r,e.g,e.b);let o=0;0!==i&&(o=t===e.r?60*((e.g-e.b)/i%6):t===e.g?60*((e.b-e.r)/i+2):60*((e.r-e.g)/i+4)),o<0&&(o+=360);let n=0;return 0!==t&&(n=i/t),new el(o,n,t)}function hl(e){let t=0;(Math.abs(e.b)>.001||Math.abs(e.a)>.001)&&(t=Math.atan2(e.b,e.a)*(180/Math.PI)),t<0&&(t+=360);const i=Math.sqrt(e.a*e.a+e.b*e.b);return new il(e.l,i,t)}function ul(e){function t(e){return e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}const i=t(e.r),o=t(e.g),n=t(e.b);return new ol(.4124564*i+.3575761*o+.1804375*n,.2126729*i+.7151522*o+.072175*n,.0193339*i+.119192*o+.9503041*n)}function pl(e,t=1){function i(e){return e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055}const o=i(3.2404542*e.x-1.5371385*e.y-.4985314*e.z),n=i(-.969266*e.x+1.8760108*e.y+.041556*e.z),r=i(.0556434*e.x-.2040259*e.y+1.0572252*e.z);return new Ka(o,n,r,t)}function gl(e){return function(e){function t(e){return e>tl.epsilon?Math.pow(e,1/3):(tl.kappa*e+16)/116}const i=t(e.x/ol.whitePoint.x),o=t(e.y/ol.whitePoint.y),n=t(e.z/ol.whitePoint.z);return new tl(116*o-16,500*(i-o),200*(o-n))}(ul(e))}function fl(e,t=1){return pl(function(e){const t=(e.l+16)/116,i=t+e.a/500,o=t-e.b/200,n=Math.pow(i,3),r=Math.pow(t,3),s=Math.pow(o,3);let a=0;a=n>tl.epsilon?n:(116*i-16)/tl.kappa;let l=0;l=e.l>tl.epsilon*tl.kappa?r:e.l/tl.kappa;let c=0;return c=s>tl.epsilon?s:(116*o-16)/tl.kappa,a=ol.whitePoint.x*a,l=ol.whitePoint.y*l,c=ol.whitePoint.z*c,new ol(a,l,c)}(e),t)}function vl(e){return hl(gl(e))}function bl(e,t=1){return fl(function(e){let t=0,i=0;return 0!==e.h&&(t=Math.cos(za(e.h))*e.c,i=Math.sin(za(e.h))*e.c),new tl(e.l,t,i)}(e),t)}var ml="Expected a function";function yl(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(ml);var i=function(){var o=arguments,n=t?t.apply(this,o):o[0],r=i.cache;if(r.has(n))return r.get(n);var s=e.apply(this,o);return i.cache=r.set(n,s)||r,s};return i.cache=new(yl.Cache||Ft),i}yl.Cache=Ft;var wl,xl=yl;function kl(e){const t=xl(e);return function(e){return"function"==typeof e||"string"==typeof e?i=>t(Object.assign({},i,{backgroundColor:"function"==typeof e?e(i):e})):t(e)}}function Cl(e,t){const i=xl(t);return t=>"function"==typeof t||"string"==typeof t?o=>i(Object.assign({},o,{backgroundColor:"function"==typeof t?t(o):t}))[e]:i(t)[e]}!function(e){e["rest"]="rest",e["hover"]="hover",e["active"]="active",e["focus"]="focus",e["selected"]="selected"}(wl||(wl={}));const Sl=xl((e=>{let t=Qa(e);if(null!==t)return t;if(t=Ja(e),null!==t)return t;throw new Error(`${e} cannot be converted to a ColorRGBA64. Color strings must be one of the following formats: "#RGB", "#RRGGBB", or "rgb(r, g, b)"`)}));function Ll(e){return Xa(e)||Ya(e)}const $l=xl(((e,t)=>al(Sl(e),Sl(t))),((e,t)=>e+t));function El(e){return rl(Sl(e))}function Nl(...e){return t=>Math.max.apply(null,e.map((e=>e(t))))}const Pl=(e,t,i)=>Math.min(Math.max(e,t),i);var Dl;function Tl(e,t){return i=>{if(!Ll(t))return-1;const o=Gs(e,i),n=o.indexOf(t);return-1!==n?n:o.findIndex((e=>{return Ll(e)&&(i=e,Sl(t).equalValue(Sl(i)));var i}))}}function Ol(e,t){return i=>{const o=Gs(e,i),n=Gs(t,i),r=Tl(o,n)(i);let s;if(-1!==r)return r;try{s=El(n)}catch(e){s=-1}return-1===s?0:o.map(((e,t)=>({luminance:El(e),index:t}))).reduce(((e,t)=>Math.abs(t.luminance-s)<Math.abs(e.luminance-s)?t:e)).index}}function _l(e){return El(Ys(e))<=(-.1+Math.sqrt(.21))/2}function Bl(e,t){return"function"==typeof e?i=>t(i)[Pl(e(i),0,t(i).length-1)]:t[Pl(e,0,t.length-1)]}function Al(e){return(t,i)=>o=>Bl(_l(o)?Gs(i,o):Gs(t,o),e(o))}function Fl(e,t,i=0,o=e.length-1){if(o===i)return e[i];const n=Math.floor((o-i)/2)+i;return t(e[n])?Fl(e,t,i,n):Fl(e,t,n+1,o)}function Rl(e){return t=>i=>o=>n=>r=>{const s=Gs(e,r),a=Gs(t,r),l=a.length,c=Pl(i(s,a,r),0,l-1),d=o(c,a,r);const h=[].concat(a),u=l-1;let p=c;return-1===d&&(h.reverse(),p=u-p),Fl(h,(function(e){return n($l(s,e))}),p,u)}}function Il(e,t,i){return Ol(t,e)(i)}function Ml(e){return Ol(Js,Ys(e))(e)}function Hl(e,t,i,o,n,r){return s=>{const a=Gs(e,s),l=_l(s)?-1:1,c=Rl(Ys)(a)(Il)((()=>l))((d=Gs(t,s),e=>e>=d))(s);var d;const h=Tl(e,c)(s),u=Gs(i,s),p=Gs(o,s),g=Gs(n,s),f=Gs(r,s);return function(e,t,i,o,n,r,s){const a=e+i*Math.abs(o-n),l=1===i?o<n:i*o>i*n,c=l?e:a,d=l?a:e,h=c+i*r,u=c+i*s;return{rest:Bl(c,t),hover:Bl(d,t),active:Bl(h,t),focus:Bl(u,t)}}(h,a,l,u,p,g,f)}}!function(e){e["neutral"]="neutral",e["accent"]="accent"}(Dl||(Dl={}));const jl=kl(Hl(Js,14,0,Na,Pa,Da)),zl=Cl(wl.rest,jl),Vl=(Cl(wl.hover,jl),Cl(wl.active,jl),Cl(wl.focus,jl),"#FFFFFF"),Ul="#000000",ql=kl(Hl(Js,4.5,0,Ca,Sa,La)),Kl=Cl(wl.rest,ql),Wl=(Cl(wl.hover,ql),Cl(wl.active,ql),Cl(wl.focus,ql),(e,t)=>$l(Vl,e)>=t?Vl:Ul);function Gl(e){return function(t){return"function"==typeof t||"string"==typeof t?i=>Wl("function"==typeof t?t(i):t,e):Wl(Kl(t),e)}}const Xl=Gl(4.5),Yl=Gl(3);function Ql(e){return Hl(Js,e,0,0,0,0)}const Jl=Cl(wl.rest,kl(Ql(4.5))),Zl=Cl(wl.rest,kl(Ql(3)));function ec(e){return t=>{const i=Zs(t),o=Qs(t),n=Ol(Zs,o)(t),r={rest:na(t),hover:ra(t),active:sa(t),focus:aa(t)},s=_l(t)?-1:1,a=n+(1===s?Math.min(r.rest,r.hover):Math.max(s*r.rest,s*r.hover)),l=Rl(Ys)(Zs)((()=>a))((()=>s))((t=>t>=e))(t),c=Tl(Zs,l)(t),d=c+s*Math.abs(r.rest-r.hover),h=1===s?r.rest<r.hover:s*r.rest>s*r.hover,u=h?c:d,p=h?d:c,g=u+s*r.active,f=u+s*r.focus;return{rest:Bl(u,i),hover:Bl(p,i),active:Bl(g,i),focus:Bl(f,i)}}}const tc=kl(ec(4.5)),ic=kl(ec(3)),oc=(Cl(wl.rest,tc),Cl(wl.hover,tc),Cl(wl.active,tc),Cl(wl.focus,tc),Cl(wl.rest,ic),Cl(wl.hover,ic),Cl(wl.active,ic),Cl(wl.focus,ic),(e,t)=>$l(Vl,e)>=t?Vl:Ul);function nc(e){return function(t){return"function"==typeof t||"string"==typeof t?i=>oc("function"==typeof t?t(i):t,e):oc(Qs(t),e)}}const rc=nc(4.5),sc=(nc(3),Nl(la,ca,da,ha));function ac(e){return t=>{const i=Ml(t);return Bl(i+(i>=sc(t)?-1:1)*e(t),Js(t))}}const lc=kl(ac(la)),cc=kl(ac(ca)),dc=kl(ac(da)),hc=kl(ac(ha)),uc=kl(ac(ua)),pc=kl((e=>({rest:lc(e),hover:cc(e),active:dc(e),focus:hc(e),selected:uc(e)}))),gc=Nl(la,ca,da,ha,ma,ya,wa,xa);function fc(e){return t=>{const i=Ml(t);return Bl(i+(i>=gc(t)?-1:1)*e(t),Js(t))}}const vc=kl(fc(ma)),bc=kl(fc(ya)),mc=kl(fc(wa)),yc=kl(fc(xa)),wc=kl(fc(ka)),xc=kl((e=>({rest:vc(e),hover:bc(e),active:mc(e),focus:yc(e),selected:wc(e)})));function kc(e){return t=>{const i=_l(t)?-1:1;return Bl(Ml(t)-e(t)*i,Js(t))}}const Cc=kl(kc(pa)),Sc=kl(kc(ga)),Lc=kl(kc(fa)),$c=kl(kc(va)),Ec=kl(kc(ba)),Nc=kl((e=>({rest:Cc(e),hover:Sc(e),active:Lc(e),focus:$c(e),selected:Ec(e)})));var Pc=Math.max,Dc=Math.min;var Tc=function(e,t,i){return e>=Dc(t,i)&&e<Pc(t,i)},Oc=/\s/;var _c=function(e){for(var t=e.length;t--&&Oc.test(e.charAt(t)););return t},Bc=/^\s+/;var Ac=function(e){return e?e.slice(0,_c(e)+1).replace(Bc,""):e},Fc="[object Symbol]";var Rc=function(e){return"symbol"==typeof e||Gt(e)&&We(e)==Fc},Ic=0/0,Mc=/^[-+]0x[0-9a-f]+$/i,Hc=/^0b[01]+$/i,jc=/^0o[0-7]+$/i,zc=parseInt;var Vc=function(e){if("number"==typeof e)return e;if(Rc(e))return Ic;if(Ge(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Ge(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Ac(e);var i=Hc.test(e);return i||jc.test(e)?zc(e.slice(2),i?2:8):Mc.test(e)?Ic:+e},Uc=1/0,qc=17976931348623157e292;var Kc=function(e){return e?(e=Vc(e))===Uc||e===-Uc?(e<0?-1:1)*qc:e==e?e:0:0===e?e:0};var Wc=function(e,t,i){return t=Kc(t),void 0===i?(i=t,t=0):i=Kc(i),e=Vc(e),Tc(e,t,i)};const Gc=Nl(la,ca,da);function Xc(e){return t=>{const i=Zs(t),o=i.length,n=Qs(t),r=rc(Object.assign({},t,{backgroundColor:n})),s=ea(t),a=Ml(t)>=Gc(t)?-1:1,l=o-1,c=Ol(Zs,n)(t);let d=0;for(;d<a*s&&Wc(c+d+a,0,o)&&$l(i[c+d+a],r)>=e&&Wc(c+d+a+a,0,l);)d+=a;const h=c+d,u=h+-1*a*s,p=u+a*ta(t),g=u+a*ia(t);return{rest:Bl(u,i),hover:Bl(h,i),active:Bl(p,i),focus:Bl(g,i),selected:Bl(u+(_l(t)?-1*oa(t):oa(t)),i)}}}const Yc=kl(Xc(4.5)),Qc=kl(Xc(3)),Jc=(Cl(wl.rest,Yc),Cl(wl.hover,Yc),Cl(wl.active,Yc),Cl(wl.focus,Yc),Cl(wl.selected,Yc),Cl(wl.rest,Qc),Cl(wl.hover,Qc),Cl(wl.active,Qc),Cl(wl.focus,Qc),Cl(wl.selected,Qc),e=>{const t=Ea(e),i=Ol(Js,Ys(e))(e);return Bl(i-(i<t?-1*t:t),Js(e))});const Zc=kl((e=>{const t=Js(e),i=Ml(e),o=_l(e)?-1:1,n=Oa(e),r=i+o*n,s=r+o*(_a(e)-n),a=r+o*(Ba(e)-n),l=r+o*(Aa(e)-n);return{rest:Bl(r,t),hover:Bl(s,t),active:Bl(a,t),focus:Bl(l,t)}})),ed=(Cl(wl.rest,Zc),Cl(wl.hover,Zc),Cl(wl.active,Zc),Cl(wl.focus,Zc),kl((e=>{const t=Js(e),i=Ml(e),o=Ta(e);return Bl(i+(_l(e)?-1:1)*o,t)})));function td(e){return(...t)=>i=>{const o=t[0];let n="function"==typeof o?o(i):o;for(let o=1;o<t.length;o++){const r=t[o];n=e(n,"function"==typeof r?r(i):r)}return n}}const id=td(((e,t)=>e+t)),od=td(((e,t)=>e-t)),nd=td(((e,t)=>e*t));td(((e,t)=>e/t));function rd(...e){return id.apply(this,e)}function sd(...e){return od.apply(this,e)}function ad(...e){return nd.apply(this,e)}var ld;function cd(e,t){return i=>-1===$a(i)?t(i):e(i)}!function(e){e[e["LightMode"]=1]="LightMode",e[e["DarkMode"]=.23]="DarkMode"}(ld||(ld={}));const dd=Ol(Js,(e=>{const t=$a(e);return new Ka(t,t,t,1).toStringHexRGB()})),hd=e=>Ma(sd(dd,Ea)(e),0,Js(e).length-1),ud=Nl(la,ca,da),pd=Nl(rd(dd,Ea),ud),gd=e=>{const t=.14,i=new Ka(t,t,t,1);return Ol(Js,i.toStringHexRGB())(e)},fd=kl(cd(Bl(sd(hd,Ea),Js),Al(Js)(0,sd(gd,ad(Ea,5))))),vd=kl(cd(Bl(hd,Js),Al(Js)(0,sd(gd,ad(Ea,4))))),bd=kl(cd(Bl(rd(hd,Ea),Js),Al(Js)(Ea,sd(gd,ad(Ea,3))))),md=kl(cd(Bl(dd,Js),Al(Js)(0,sd(gd,ad(Ea,3))))),yd=bd,wd=kl(cd(Bl(pd,Js),Al(Js)(ud,sd(gd,ad(Ea,2))))),xd=kl(cd(Bl(rd(pd,Ea),Js),Al(Js)(rd(ud,Ea),sd(gd,Ea)))),kd=kl(cd(Bl(rd(pd,ad(Ea,2)),Js),Al(Js)(rd(ud,ad(Ea,2)),gd))),Cd=3.5;function Sd(e){return e>Cd}const Ld=kl(Rl(Ys)(Js)((function(e,t,i){return Ol(Js,e)(i)}))((function(e,t,i){return _l(i)?-1:1}))(Sd));function $d(e,t,i){return _l(i)?1:-1}const Ed=kl(Hl(Js,14,0,Fa,Ra,Ia)),Nd=Cl(wl.rest,Ed),Pd=(Cl(wl.hover,Ed),Cl(wl.active,Ed),Cl(wl.focus,Ed),":host{}");class Dd{constructor(){this.queue=new Set,this.customPropertyTarget=null,this._owner=null,this.ticking=!1,this.cssCustomPropertyDefinitions=new Map}get owner(){return this._owner}register(e){const t=this.cssCustomPropertyDefinitions.get(e.name);t?t.count+=1:(this.cssCustomPropertyDefinitions.set(e.name,Object.assign(Object.assign({},e),{count:1})),this.set(e))}unregister(e){const t=this.cssCustomPropertyDefinitions.get(e);t&&(t.count-=1,0===t.count&&(this.cssCustomPropertyDefinitions.delete(e),this.remove(e)))}set(e){this.owner&&(this.customPropertyTarget?this.customPropertyTarget.setProperty(`--${e.name}`,this.owner.evaluate(e)):this.queue.add(this.set.bind(this,e)))}remove(e){this.customPropertyTarget?this.customPropertyTarget.removeProperty(`--${e}`):this.queue.add(this.remove.bind(this,e))}setAll(){this.ticking||(this.ticking=!0,qn.SO.queueUpdate((()=>{this.ticking=!1,this.cssCustomPropertyDefinitions.forEach((e=>{this.set(e)}))})))}}class Td extends Dd{constructor(e){super(),this.subscribers=new Set,this.sheet=e,this.styles=Kn.create([e]),this.customPropertyTarget=e.cssRules[e.insertRule(Pd)].style}subscribe(e){this.subscribers.add(e),1===this.subscribers.size&&(this._owner=e),e.cssCustomPropertyDefinitions.forEach((e=>{this.register(e)})),e.$fastController.addStyles(this.styles)}unsubscribe(e){this.subscribers.delete(e),e.cssCustomPropertyDefinitions.forEach((e=>this.unregister(e.name))),this.owner===e&&(this._owner=this.subscribers.size?this.subscribers.values().next().value:null),!this.sheet.ownerNode&&this.styles&&e.$fastController.removeStyles(this.styles)}isSubscribed(e){return this.subscribers.has(e)}}class Od extends Dd{constructor(e,t){super(),this._sheet=null,this.handleConnection={handleChange:()=>{var e;this._sheet=this.styles.sheet;const t=this.sheet.insertRule(Pd);this.customPropertyTarget=this.sheet.rules[t].style,Vn.Observable.getNotifier(null===(e=this._owner)||void 0===e?void 0:e.$fastController).unsubscribe(this.handleConnection,"isConnected")}};const i=t.$fastController;i.addStyles(e),this.styles=e,this._owner=t,t.isConnected?this.handleConnection.handleChange():Vn.Observable.getNotifier(i).subscribe(this.handleConnection,"isConnected"),t.cssCustomPropertyDefinitions.forEach((e=>{this.register(e)}))}get sheet(){return this._sheet}customPropertyTargetChanged(e,t){!e&&this.queue.size&&(this.queue.forEach((e=>e())),this.queue.clear())}}function _d(e){const t=e.parentElement;if(t)return t;{const t=e.getRootNode();if(t.host instanceof HTMLElement)return t.host}return null}function Bd(e){const t=e.provider;return null!=t&&Fd.isDesignSystemProvider(t)}es([Vn.observable],Od.prototype,"customPropertyTarget",void 0);const Ad={bind(e){e.provider=Fd.findProvider(e)},unbind(e){}};class Fd extends Mr{constructor(){super(),this.isDesignSystemProvider=!0,this.designSystem={},this.useDefaults=!1,this.provider=null,this.cssCustomPropertyDefinitions=new Map,this.attributeChangeHandler={handleChange:(e,t)=>{const i=this[t],o=this.customPropertyManager;if(this.isValidDesignSystemValue(i)){this.designSystem[t]=i;const e=this.designSystemProperties[t];e&&e.cssCustomProperty&&o&&o.set({name:e.cssCustomProperty,value:i})}else{this.syncDesignSystemWithProvider();const e=this.designSystemProperties[t].cssCustomProperty;o&&("string"==typeof e&&o.remove(e),o.setAll())}}},this.localDesignSystemChangeHandler={handleChange:()=>{const e=this.customPropertyManager;e&&e.owner===this&&e.setAll()}},this.providerDesignSystemChangeHandler={handleChange:(e,t)=>{e[t]===this.designSystem[t]||this.isValidDesignSystemValue(this[t])||(this.designSystem[t]=e[t])}},qn.SO.supportsAdoptedStyleSheets?this.customPropertyManager=new Td(new CSSStyleSheet):this.customPropertyManager=new Od(document.createElement("style"),this),void 0===this.designSystemProperties&&(this.designSystemProperties={}),this.$fastController.addBehaviors([Ad])}static get tagNames(){return Fd._tagNames}static isDesignSystemProvider(e){return e.isDesignSystemProvider||-1!==Fd.tagNames.indexOf(e.tagName)}static findProvider(e){if(Bd(e))return e.provider;let t=_d(e);for(;null!==t;){if(Fd.isDesignSystemProvider(t))return e.provider=t,t;if(Bd(t))return e.provider=t.provider,t.provider;t=_d(t)}return null}static registerTagName(e){const t=e.toUpperCase();-1===Fd.tagNames.indexOf(t)&&Fd._tagNames.push(t)}useDefaultsChanged(){if(this.useDefaults){const e=this.designSystemProperties;Object.keys(e).forEach((t=>{void 0===this[t]&&(this[t]=e[t].default)}))}}providerChanged(e,t){if(e instanceof HTMLElement){const t=Vn.Observable.getNotifier(e.designSystem);Vn.Observable.getAccessors(e.designSystem).forEach((e=>{t.unsubscribe(this.providerDesignSystemChangeHandler,e.name)}))}if(t instanceof HTMLElement&&Fd.isDesignSystemProvider(t)){const e=Vn.Observable.getNotifier(t.designSystem),i=Vn.Observable.getAccessors(this.designSystem).reduce(((e,t)=>Object.assign(Object.assign({},e),{[t.name]:t})),{}),o=Vn.Observable.getNotifier(this.designSystem);Vn.Observable.getAccessors(t.designSystem).forEach((t=>{e.subscribe(this.providerDesignSystemChangeHandler,t.name),i[t.name]||((0,Vn.observable)(this.designSystem,t.name),o.subscribe(this.localDesignSystemChangeHandler,t.name))})),this.syncDesignSystemWithProvider()}}customPropertyManagerChanged(e,t){e&&e.unsubscribe&&e.unsubscribe(this),t.subscribe&&t.subscribe(this)}connectedCallback(){super.connectedCallback(),this.customPropertyManager.subscribe&&this.customPropertyManager.isSubscribed&&!this.customPropertyManager.isSubscribed(this)&&this.customPropertyManager.subscribe(this);const e=Vn.Observable.getNotifier(this),t=Vn.Observable.getNotifier(this.designSystem);if(Object.keys(this.designSystemProperties).forEach((i=>{(0,Vn.observable)(this.designSystem,i),e.subscribe(this.attributeChangeHandler,i),t.subscribe(this.localDesignSystemChangeHandler,i);const o=this[i];if(this.isValidDesignSystemValue(o)){this.designSystem[i]=o;const{cssCustomProperty:e}=this.designSystemProperties[i];"string"==typeof e&&this.customPropertyManager&&this.customPropertyManager.owner===this&&this.customPropertyManager.set({name:e,value:this[i]})}})),Array.isArray(this.disconnectedCSSCustomPropertyRegistry)){for(let e=0;e<this.disconnectedCSSCustomPropertyRegistry.length;e++)this.registerCSSCustomProperty(this.disconnectedCSSCustomPropertyRegistry[e]);delete this.disconnectedCSSCustomPropertyRegistry}if(Array.isArray(this.disconnectedRegistry)){for(let e=0;e<this.disconnectedRegistry.length;e++)this.disconnectedRegistry[e](this);delete this.disconnectedRegistry}}disconnectedCallback(){super.disconnectedCallback(),this.customPropertyManager.unsubscribe&&this.customPropertyManager.unsubscribe(this)}registerCSSCustomProperty(e){this.cssCustomPropertyDefinitions.set(e.name,e),this.customPropertyManager.register(e)}unregisterCSSCustomProperty(e){this.cssCustomPropertyDefinitions.delete(e.name),this.customPropertyManager.unregister(e.name)}evaluate(e){return"function"==typeof e.value?e.value(Object.assign({},this.designSystem)):e.value}syncDesignSystemWithProvider(){if(this.provider){const e=Vn.Observable.getAccessors(this.designSystem).reduce(((e,t)=>(e[t.name]=t,e)),{});Vn.Observable.getAccessors(this.provider.designSystem).forEach((t=>{var i;this.designSystemProperties.hasOwnProperty(t.name)&&this.isValidDesignSystemValue(this[t.name])||!this.isValidDesignSystemValue(null===(i=this.provider)||void 0===i?void 0:i.designSystem[t.name])||(e[t.name]||Vn.Observable.defineProperty(this.designSystem,t.name),this.designSystem[t.name]=this.provider.designSystem[t.name])}))}}isValidDesignSystemValue(e){return null!=e}}function Rd(e){return t=>{Hr(e)(t),t.registerTagName("string"==typeof e?e:e.name)}}Fd._tagNames=[],es([Pr({attribute:"use-defaults",mode:"boolean"})],Fd.prototype,"useDefaults",void 0),es([Vn.observable],Fd.prototype,"provider",void 0),es([Vn.observable],Fd.prototype,"customPropertyManager",void 0);const Id=Rd;function Md(e){return(t,i)=>{((e,t,i)=>{const{cssCustomProperty:o,attribute:n}=i;e.designSystemProperties||(e.designSystemProperties={}),!1===n?(0,Vn.observable)(e,t):(void 0===i.mode&&(i=Object.assign(Object.assign({},i),{mode:"fromView"})),Pr(i)(e,t)),e.designSystemProperties[t]={cssCustomProperty:!1!==o&&("string"==typeof o?o:"string"==typeof n?n:t),default:i.default}})(t,i,e)}}const Hd=Sr`
    <slot></slot>
`,jd=`:host([hidden]){display:none}`;function zd(e){return`${jd}:host{display:${e}}`}const Vd=Zn`
    ${zd("block")};
`,Ud=new qs("neutral-foreground-rest",zl,(e=>e)),qd=Zn`
    :host {
        background-color: var(--background-color);
        color: ${Ud.var};
    }
`.withBehaviors(Ud,Vs(Zn`
            :host {
                background-color: ${Us.ButtonFace};
                box-shadow: 0 0 0 1px ${Us.CanvasText};
                color: ${Us.ButtonText};
            }
        `));let Kd=class extends Fd{constructor(){super(...arguments),this.noPaint=!1}noPaintChanged(){this.noPaint||void 0===this.backgroundColor?this.$fastController.removeStyles(qd):this.$fastController.addStyles(qd)}backgroundColorChanged(){this.noPaintChanged()}};Jr([Pr({attribute:"no-paint",mode:"boolean"})],Kd.prototype,"noPaint",void 0),Jr([Md({attribute:"background-color",default:Ws.backgroundColor})],Kd.prototype,"backgroundColor",void 0),Jr([Md({attribute:"accent-base-color",cssCustomProperty:!1,default:Ws.accentBaseColor})],Kd.prototype,"accentBaseColor",void 0),Jr([Md({attribute:!1,cssCustomProperty:!1,default:Ws.neutralPalette})],Kd.prototype,"neutralPalette",void 0),Jr([Md({attribute:!1,cssCustomProperty:!1,default:Ws.accentPalette})],Kd.prototype,"accentPalette",void 0),Jr([Md({default:Ws.density,converter:Er})],Kd.prototype,"density",void 0),Jr([Md({attribute:"design-unit",converter:Er,default:Ws.designUnit})],Kd.prototype,"designUnit",void 0),Jr([Md({attribute:"direction",cssCustomProperty:!1,default:Ws.direction})],Kd.prototype,"direction",void 0),Jr([Md({attribute:"base-height-multiplier",default:Ws.baseHeightMultiplier,converter:Er})],Kd.prototype,"baseHeightMultiplier",void 0),Jr([Md({attribute:"base-horizontal-spacing-multiplier",converter:Er,default:Ws.baseHorizontalSpacingMultiplier})],Kd.prototype,"baseHorizontalSpacingMultiplier",void 0),Jr([Md({attribute:"corner-radius",converter:Er,default:Ws.cornerRadius})],Kd.prototype,"cornerRadius",void 0),Jr([Md({attribute:"outline-width",converter:Er,default:Ws.outlineWidth})],Kd.prototype,"outlineWidth",void 0),Jr([Md({attribute:"focus-outline-width",converter:Er,default:Ws.focusOutlineWidth})],Kd.prototype,"focusOutlineWidth",void 0),Jr([Md({attribute:"disabled-opacity",converter:Er,default:Ws.disabledOpacity})],Kd.prototype,"disabledOpacity",void 0),Jr([Md({attribute:"type-ramp-minus-2-font-size",default:Ws.typeRampMinus2FontSize})],Kd.prototype,"typeRampMinus2FontSize",void 0),Jr([Md({attribute:"type-ramp-minus-2-line-height",default:Ws.typeRampMinus2LineHeight})],Kd.prototype,"typeRampMinus2LineHeight",void 0),Jr([Md({attribute:"type-ramp-minus-1-font-size",default:Ws.typeRampMinus1FontSize})],Kd.prototype,"typeRampMinus1FontSize",void 0),Jr([Md({attribute:"type-ramp-minus-1-line-height",default:Ws.typeRampMinus1LineHeight})],Kd.prototype,"typeRampMinus1LineHeight",void 0),Jr([Md({attribute:"type-ramp-base-font-size",default:Ws.typeRampBaseFontSize})],Kd.prototype,"typeRampBaseFontSize",void 0),Jr([Md({attribute:"type-ramp-base-line-height",default:Ws.typeRampBaseLineHeight})],Kd.prototype,"typeRampBaseLineHeight",void 0),Jr([Md({attribute:"type-ramp-plus-1-font-size",default:Ws.typeRampPlus1FontSize})],Kd.prototype,"typeRampPlus1FontSize",void 0),Jr([Md({attribute:"type-ramp-plus-1-line-height",default:Ws.typeRampPlus1LineHeight})],Kd.prototype,"typeRampPlus1LineHeight",void 0),Jr([Md({attribute:"type-ramp-plus-2-font-size",default:Ws.typeRampPlus2FontSize})],Kd.prototype,"typeRampPlus2FontSize",void 0),Jr([Md({attribute:"type-ramp-plus-2-line-height",default:Ws.typeRampPlus2LineHeight})],Kd.prototype,"typeRampPlus2LineHeight",void 0),Jr([Md({attribute:"type-ramp-plus-3-font-size",default:Ws.typeRampPlus3FontSize})],Kd.prototype,"typeRampPlus3FontSize",void 0),Jr([Md({attribute:"type-ramp-plus-3-line-height",default:Ws.typeRampPlus3LineHeight})],Kd.prototype,"typeRampPlus3LineHeight",void 0),Jr([Md({attribute:"type-ramp-plus-4-font-size",default:Ws.typeRampPlus4FontSize})],Kd.prototype,"typeRampPlus4FontSize",void 0),Jr([Md({attribute:"type-ramp-plus-4-line-height",default:Ws.typeRampPlus4LineHeight})],Kd.prototype,"typeRampPlus4LineHeight",void 0),Jr([Md({attribute:"type-ramp-plus-5-font-size",default:Ws.typeRampPlus5FontSize})],Kd.prototype,"typeRampPlus5FontSize",void 0),Jr([Md({attribute:"type-ramp-plus-5-line-height",default:Ws.typeRampPlus5LineHeight})],Kd.prototype,"typeRampPlus5LineHeight",void 0),Jr([Md({attribute:"type-ramp-plus-6-font-size",default:Ws.typeRampPlus6FontSize})],Kd.prototype,"typeRampPlus6FontSize",void 0),Jr([Md({attribute:"type-ramp-plus-6-line-height",default:Ws.typeRampPlus6LineHeight})],Kd.prototype,"typeRampPlus6LineHeight",void 0),Jr([Md({attribute:"accent-fill-rest-delta",converter:Er,cssCustomProperty:!1,default:Ws.accentFillRestDelta})],Kd.prototype,"accentFillRestDelta",void 0),Jr([Md({attribute:"accent-fill-hover-delta",cssCustomProperty:!1,converter:Er,default:Ws.accentFillHoverDelta})],Kd.prototype,"accentFillHoverDelta",void 0),Jr([Md({attribute:"accent-fill-active-delta",cssCustomProperty:!1,converter:Er,default:Ws.accentFillActiveDelta})],Kd.prototype,"accentFillActiveDelta",void 0),Jr([Md({attribute:"accent-fill-focus-delta",converter:Er,cssCustomProperty:!1,default:Ws.accentFillFocusDelta})],Kd.prototype,"accentFillFocusDelta",void 0),Jr([Md({attribute:"accent-fill-selected-delta",converter:Er,cssCustomProperty:!1,default:Ws.accentFillSelectedDelta})],Kd.prototype,"accentFillSelectedDelta",void 0),Jr([Md({attribute:"accent-foreground-rest-delta",converter:Er,cssCustomProperty:!1,default:Ws.accentForegroundRestDelta})],Kd.prototype,"accentForegroundRestDelta",void 0),Jr([Md({attribute:"accent-foreground-hover-delta",converter:Er,cssCustomProperty:!1,default:Ws.accentForegroundHoverDelta})],Kd.prototype,"accentForegroundHoverDelta",void 0),Jr([Md({attribute:"accent-foreground-active-delta",converter:Er,cssCustomProperty:!1,default:Ws.accentForegroundActiveDelta})],Kd.prototype,"accentForegroundActiveDelta",void 0),Jr([Md({attribute:"accent-foreground-focus-delta",converter:Er,cssCustomProperty:!1,default:Ws.accentForegroundFocusDelta})],Kd.prototype,"accentForegroundFocusDelta",void 0),Jr([Md({attribute:"neutral-fill-rest-delta",converter:Er,cssCustomProperty:!1,default:Ws.neutralFillRestDelta})],Kd.prototype,"neutralFillRestDelta",void 0),Jr([Md({attribute:"neutral-fill-hover-delta",converter:Er,cssCustomProperty:!1,default:Ws.neutralFillHoverDelta})],Kd.prototype,"neutralFillHoverDelta",void 0),Jr([Md({attribute:"neutral-fill-active-delta",converter:Er,cssCustomProperty:!1,default:Ws.neutralFillActiveDelta})],Kd.prototype,"neutralFillActiveDelta",void 0),Jr([Md({attribute:"neutral-fill-focus-delta",converter:Er,cssCustomProperty:!1,default:Ws.neutralFillFocusDelta})],Kd.prototype,"neutralFillFocusDelta",void 0),Jr([Md({attribute:"neutral-fill-selected-delta",converter:Er,cssCustomProperty:!1,default:Ws.neutralFillSelectedDelta})],Kd.prototype,"neutralFillSelectedDelta",void 0),Jr([Md({attribute:"neutral-fill-input-rest-delta",converter:Er,cssCustomProperty:!1,default:Ws.neutralFillInputRestDelta})],Kd.prototype,"neutralFillInputRestDelta",void 0),Jr([Md({attribute:"neutral-fill-input-hover-delta",converter:Er,cssCustomProperty:!1,default:Ws.neutralFillInputHoverDelta})],Kd.prototype,"neutralFillInputHoverDelta",void 0),Jr([Md({attribute:"neutral-fill-input-active-delta",converter:Er,cssCustomProperty:!1,default:Ws.neutralFillInputActiveDelta})],Kd.prototype,"neutralFillInputActiveDelta",void 0),Jr([Md({attribute:"neutral-fill-input-focus-delta",converter:Er,cssCustomProperty:!1,default:Ws.neutralFillInputFocusDelta})],Kd.prototype,"neutralFillInputFocusDelta",void 0),Jr([Md({attribute:"neutral-fill-input-selected-delta",converter:Er,cssCustomProperty:!1,default:Ws.neutralFillInputSelectedDelta})],Kd.prototype,"neutralFillInputSelectedDelta",void 0),Jr([Md({attribute:"neutral-fill-stealth-rest-delta",converter:Er,cssCustomProperty:!1,default:Ws.neutralFillStealthRestDelta})],Kd.prototype,"neutralFillStealthRestDelta",void 0),Jr([Md({attribute:"neutral-fill-stealth-hover-delta",converter:Er,cssCustomProperty:!1,default:Ws.neutralFillStealthHoverDelta})],Kd.prototype,"neutralFillStealthHoverDelta",void 0),Jr([Md({attribute:"neutral-fill-stealth-active-delta",converter:Er,cssCustomProperty:!1,default:Ws.neutralFillStealthActiveDelta})],Kd.prototype,"neutralFillStealthActiveDelta",void 0),Jr([Md({attribute:"neutral-fill-stealth-focus-delta",converter:Er,cssCustomProperty:!1,default:Ws.neutralFillStealthFocusDelta})],Kd.prototype,"neutralFillStealthFocusDelta",void 0),Jr([Md({attribute:"neutral-fill-stealth-selected-delta",converter:Er,cssCustomProperty:!1,default:Ws.neutralFillStealthSelectedDelta})],Kd.prototype,"neutralFillStealthSelectedDelta",void 0),Jr([Md({attribute:"neutral-fill-toggle-hover-delta",converter:Er,cssCustomProperty:!1,default:Ws.neutralFillToggleHoverDelta})],Kd.prototype,"neutralFillToggleHoverDelta",void 0),Jr([Md({attribute:"neutral-fill-toggle-active-delta",converter:Er,cssCustomProperty:!1,default:Ws.neutralFillToggleActiveDelta})],Kd.prototype,"neutralFillToggleActiveDelta",void 0),Jr([Md({attribute:"neutral-fill-toggle-focus-delta",converter:Er,cssCustomProperty:!1,default:Ws.neutralFillToggleFocusDelta})],Kd.prototype,"neutralFillToggleFocusDelta",void 0),Jr([Md({attribute:"base-layer-luminance",converter:Er,cssCustomProperty:!1,default:Ws.baseLayerLuminance})],Kd.prototype,"baseLayerLuminance",void 0),Jr([Md({attribute:"neutral-fill-card-delta",converter:Er,cssCustomProperty:!1,default:Ws.neutralFillCardDelta})],Kd.prototype,"neutralFillCardDelta",void 0),Jr([Md({attribute:"neutral-foreground-hover-delta",converter:Er,cssCustomProperty:!1,default:Ws.neutralForegroundHoverDelta})],Kd.prototype,"neutralForegroundHoverDelta",void 0),Jr([Md({attribute:"neutral-foreground-active-delta",converter:Er,cssCustomProperty:!1,default:Ws.neutralForegroundActiveDelta})],Kd.prototype,"neutralForegroundActiveDelta",void 0),Jr([Md({attribute:"neutral-foreground-focus-delta",converter:Er,cssCustomProperty:!1,default:Ws.neutralForegroundFocusDelta})],Kd.prototype,"neutralForegroundFocusDelta",void 0),Jr([Md({attribute:"neutral-divider-rest-delta",converter:Er,cssCustomProperty:!1,default:Ws.neutralDividerRestDelta})],Kd.prototype,"neutralDividerRestDelta",void 0),Jr([Md({attribute:"neutral-outline-rest-delta",converter:Er,cssCustomProperty:!1,default:Ws.neutralOutlineRestDelta})],Kd.prototype,"neutralOutlineRestDelta",void 0),Jr([Md({attribute:"neutral-outline-hover-delta",converter:Er,cssCustomProperty:!1,default:Ws.neutralOutlineHoverDelta})],Kd.prototype,"neutralOutlineHoverDelta",void 0),Jr([Md({attribute:"neutral-outline-active-delta",converter:Er,cssCustomProperty:!1,default:Ws.neutralOutlineActiveDelta})],Kd.prototype,"neutralOutlineActiveDelta",void 0),Jr([Md({attribute:"neutral-outline-focus-delta",converter:Er,cssCustomProperty:!1,default:Ws.neutralOutlineFocusDelta})],Kd.prototype,"neutralOutlineFocusDelta",void 0),Jr([Md({attribute:"neutral-contrast-fill-rest-delta",converter:Er,cssCustomProperty:!1,default:Ws.neutralContrastFillRestDelta})],Kd.prototype,"neutralContrastFillRestDelta",void 0),Jr([Md({attribute:"neutral-contrast-fill-hover-delta",converter:Er,cssCustomProperty:!1,default:Ws.neutralContrastFillHoverDelta})],Kd.prototype,"neutralContrastFillHoverDelta",void 0),Jr([Md({attribute:"neutral-contrast-fill-active-delta",converter:Er,cssCustomProperty:!1,default:Ws.neutralContrastFillActiveDelta})],Kd.prototype,"neutralContrastFillActiveDelta",void 0),Jr([Md({attribute:"neutral-contrast-fill-focus-delta",converter:Er,cssCustomProperty:!1,default:Ws.neutralContrastFillFocusDelta})],Kd.prototype,"neutralContrastFillFocusDelta",void 0),Kd=Jr([Id({name:"fast-design-system-provider",template:Hd,styles:Vd})],Kd);const Wd=Ks("neutral-foreground-rest",(e=>jl(e).rest),Kd.findProvider),Gd=Ks("neutral-foreground-hover",(e=>jl(e).hover),Kd.findProvider),Xd=(Ks("neutral-foreground-active",(e=>jl(e).active),Kd.findProvider),Ks("neutral-foreground-focus",(e=>jl(e).focus),Kd.findProvider),Ks("neutral-foreground-toggle",Xl,Kd.findProvider),Ks("neutral-foreground-toggle-large",Yl,Kd.findProvider),Ks("neutral-foreground-hint",Jl,Kd.findProvider)),Yd=(Ks("neutral-foreground-hint-large",Zl,Kd.findProvider),Ks("accent-foreground-rest",(e=>tc(e).rest),Kd.findProvider)),Qd=Ks("accent-foreground-hover",(e=>tc(e).hover),Kd.findProvider),Jd=Ks("accent-foreground-active",(e=>tc(e).active),Kd.findProvider),Zd=Ks("accent-foreground-focus",(e=>tc(e).focus),Kd.findProvider),eh=Ks("accent-foreground-cut-rest",(e=>rc(e)),Kd.findProvider),th=(Ks("accent-foreground-large-rest",(e=>ic(e).rest),Kd.findProvider),Ks("accent-foreground-large-hover",(e=>ic(e).hover),Kd.findProvider),Ks("accent-foreground-large-active",(e=>ic(e).active),Kd.findProvider),Ks("accent-foreground-large-focus",(e=>ic(e).focus),Kd.findProvider),Ks("neutral-fill-rest",(e=>pc(e).rest),Kd.findProvider)),ih=Ks("neutral-fill-hover",(e=>pc(e).hover),Kd.findProvider),oh=Ks("neutral-fill-active",(e=>pc(e).active),Kd.findProvider),nh=(Ks("neutral-fill-focus",(e=>pc(e).focus),Kd.findProvider),Ks("neutral-fill-selected",(e=>pc(e).selected),Kd.findProvider),Ks("neutral-fill-stealth-rest",(e=>xc(e).rest),Kd.findProvider)),rh=Ks("neutral-fill-stealth-hover",(e=>xc(e).hover),Kd.findProvider),sh=Ks("neutral-fill-stealth-active",(e=>xc(e).active),Kd.findProvider),ah=(Ks("neutral-fill-stealth-focus",(e=>xc(e).focus),Kd.findProvider),Ks("neutral-fill-stealth-selected",(e=>xc(e).selected),Kd.findProvider)),lh=(Ks("neutral-fill-toggle-rest",(e=>ql(e).rest),Kd.findProvider),Ks("neutral-fill-toggle-hover",(e=>ql(e).hover),Kd.findProvider),Ks("neutral-fill-toggle-active",(e=>ql(e).active),Kd.findProvider),Ks("neutral-fill-toggle-focus",(e=>ql(e).focus),Kd.findProvider),Ks("neutral-fill-input-rest",(e=>Nc(e).rest),Kd.findProvider)),ch=Ks("neutral-fill-input-hover",(e=>Nc(e).hover),Kd.findProvider),dh=Ks("neutral-fill-input-active",(e=>Nc(e).active),Kd.findProvider),hh=(Ks("neutral-fill-input-selected",(e=>Nc(e).selected),Kd.findProvider),Ks("neutral-fill-input-focus",(e=>Nc(e).focus),Kd.findProvider),Ks("accent-fill-rest",(e=>Yc(e).rest),Kd.findProvider)),uh=Ks("accent-fill-hover",(e=>Yc(e).hover),Kd.findProvider),ph=Ks("accent-fill-active",(e=>Yc(e).active),Kd.findProvider),gh=(Ks("accent-fill-focus",(e=>Yc(e).focus),Kd.findProvider),Ks("accent-fill-selected",(e=>Yc(e).selected),Kd.findProvider)),fh=(Ks("accent-fill-large-rest",(e=>Qc(e).rest),Kd.findProvider),Ks("accent-fill-large-hover",(e=>Qc(e).hover),Kd.findProvider),Ks("accent-fill-large-active",(e=>Qc(e).active),Kd.findProvider),Ks("accent-fill-large-focus",(e=>Qc(e).focus),Kd.findProvider),Ks("accent-fill-large-selected",(e=>Qc(e).selected),Kd.findProvider),Ks("neutral-fill-card-rest",(e=>{return"function"==typeof(t=e)?e=>Jc(Object.assign({},e,{backgroundColor:t(e)})):Jc(t);var t}),Kd.findProvider),Ks("neutral-outline-rest",(e=>Zc(e).rest),Kd.findProvider)),vh=Ks("neutral-outline-hover",(e=>Zc(e).hover),Kd.findProvider),bh=Ks("neutral-outline-active",(e=>Zc(e).active),Kd.findProvider),mh=(Ks("neutral-outline-focus",(e=>Zc(e).focus),Kd.findProvider),Ks("neutral-divider-rest",ed,Kd.findProvider)),yh=Ks("neutral-layer-floating",fd,Kd.findProvider),wh=(Ks("neutral-layer-card",vd,Kd.findProvider),Ks("neutral-layer-card-container",bd,Kd.findProvider),Ks("neutral-layer-l1",md,Kd.findProvider)),xh=(Ks("neutral-layer-l1-alt",yd,Kd.findProvider),Ks("neutral-layer-l2",wd,Kd.findProvider)),kh=Ks("neutral-layer-l3",xd,Kd.findProvider),Ch=Ks("neutral-layer-l4",kd,Kd.findProvider),Sh=Ks("neutral-focus",Ld,Kd.findProvider),Lh=Ks("neutral-focus-inner-accent",($h=Qs,Rl(Ld)(Zs)(function(e){return(t,i,o)=>i.indexOf(e(o))}($h))($d)(Sd)),Kd.findProvider);var $h;Ks("neutral-contrast-foreground-rest",(e=>zl(Nd)(e)),Kd.findProvider),Ks("neutral-contrast-fill-rest",(e=>Ed(e).rest),Kd.findProvider),Ks("neutral-contrast-fill-hover",(e=>Ed(e).hover),Kd.findProvider),Ks("neutral-contrast-fill-active",(e=>Ed(e).active),Kd.findProvider),Ks("neutral-contrast-fill-focus",(e=>Ed(e).focus),Kd.findProvider);var Eh="[object Boolean]";var Nh=function(e){return!0===e||!1===e||Gt(e)&&We(e)==Eh};function Ph(...e){return e.every((e=>e instanceof HTMLElement))}let Dh;const Th=function(){if(Nh(Dh))return Dh;if("undefined"==typeof window||!window.document||!window.document.createElement)return Dh=!1,Dh;const e=document.createElement("style"),t=function(){const e=document.querySelector('meta[property="csp-nonce"]');return e?e.getAttribute("content"):null}();null!==t&&e.setAttribute("nonce",t),document.head.appendChild(e);try{e.sheet.insertRule("foo:focus-visible {color:inherit}",0),Dh=!0}catch(e){Dh=!1}finally{document.head.removeChild(e)}return Dh}()?"focus-visible":"focus",Oh="(var(--base-height-multiplier) + var(--density)) * var(--design-unit)",_h=Zn`
    ${zd("inline-flex")} :host {
        font-family: var(--body-font);
        outline: none;
        font-size: var(--type-ramp-base-font-size);
        line-height: var(--type-ramp-base-line-height);
        height: calc(${Oh} * 1px);
        min-width: calc(${Oh} * 1px);
        background-color: ${th.var};
        color: ${Wd.var};
        border-radius: calc(var(--corner-radius) * 1px);
        fill: currentcolor;
        cursor: pointer;
    }

    .control {
        background: transparent;
        height: inherit;
        flex-grow: 1;
        box-sizing: border-box;
        display: inline-flex;
        justify-content: center;
        align-items: center;
        padding: 0 calc((10 + (var(--design-unit) * 2 * var(--density))) * 1px);
        white-space: nowrap;
        outline: none;
        text-decoration: none;
        border: calc(var(--outline-width) * 1px) solid transparent;
        color: inherit;
        border-radius: inherit;
        fill: inherit;
        cursor: inherit;
        font-family: inherit;
        font-size: inherit;
        line-height: inherit;
    }

    :host(:hover) {
        background-color: ${ih.var};
    }

    :host(:active) {
        background-color: ${oh.var};
    }

    .control:${Th} {
        border: calc(var(--outline-width) * 1px) solid ${Sh.var};
        box-shadow: 0 0 0 calc((var(--focus-outline-width) - var(--outline-width)) * 1px) ${Sh.var};
    }

    .control::-moz-focus-inner {
        border: 0;
    }

    .start,
    .end {
        display: flex;
    }

    .control.icon-only {
        padding: 0;
        line-height: 0;
    }

    ::slotted(svg) {
        ${""} width: 16px;
        height: 16px;
        pointer-events: none;
    }

    .start {
        margin-inline-end: 11px;
    }

    .end {
        margin-inline-start: 11px;
    }
`.withBehaviors(th,Wd,ih,oh,Vs(Zn`
            :host .control {
              background-color: ${Us.ButtonFace};
              border-color: ${Us.ButtonText};
              color: ${Us.ButtonText};
              fill: currentColor;
            }
    
            :host(:hover) .control {
              forced-color-adjust: none;
              background-color: ${Us.Highlight};
              color: ${Us.HighlightText};
            }

            .control:${Th} {
              forced-color-adjust: none;
              background-color: ${Us.Highlight};
              border-color: ${Us.ButtonText};
              box-shadow: 0 0 0 calc((var(--focus-outline-width) - var(--outline-width)) * 1px) ${Us.ButtonText};
              color: ${Us.HighlightText};
            }

            .control:hover,
            :host([appearance="outline"]) .control:hover {
              border-color: ${Us.ButtonText};
            }

            :host([href]) .control {
                border-color: ${Us.LinkText};
                color: ${Us.LinkText};
            }

            :host([href]) .control:hover,
            :host([href]) .control:${Th}{
              forced-color-adjust: none;
              background: ${Us.ButtonFace};
              border-color: ${Us.LinkText};
              box-shadow: 0 0 0 1px ${Us.LinkText} inset;
              color: ${Us.LinkText};
              fill: currentColor;
            }
        `)),Bh=Zn`
    :host([appearance="accent"]) {
        background: ${hh.var};
        color: ${eh.var};
    }

    :host([appearance="accent"]:hover) {
        background: ${uh.var};
    }

    :host([appearance="accent"]:active) .control:active {
        background: ${ph.var};
    }

    :host([appearance="accent"]) .control:${Th} {
        box-shadow: 0 0 0 calc(var(--focus-outline-width) * 1px) inset ${Lh.var};
    }
`.withBehaviors(hh,eh,uh,ph,Lh,Vs(Zn`
            :host([appearance="accent"]) .control {
                forced-color-adjust: none;
                background: ${Us.Highlight};
                color: ${Us.HighlightText};
            }

            :host([appearance="accent"]) .control:hover {
                background: ${Us.HighlightText};
                border-color: ${Us.Highlight};
                color: ${Us.Highlight};
            }

            :host([appearance="accent"]) .control:${Th} {
                border-color: ${Us.ButtonText};
                box-shadow: 0 0 0 2px ${Us.HighlightText} inset;
            }

            :host([appearance="accent"][href]) .control{
                background: ${Us.LinkText};
                color: ${Us.HighlightText};
            }

            :host([appearance="accent"][href]) .control:hover {
                background: ${Us.ButtonFace};
                border-color: ${Us.LinkText};
                box-shadow: none;
                color: ${Us.LinkText};
                fill: currentColor;
            }

            :host([appearance="accent"][href]) .control:${Th} {
                border-color: ${Us.LinkText};
                box-shadow: 0 0 0 2px ${Us.HighlightText} inset;
            }
        `)),Ah=(Zn`
    :host([appearance="hypertext"]) {
        font-size: inherit;
        line-height: inherit;
        height: auto;
        min-width: 0;
        background: transparent;
    }

    :host([appearance="hypertext"]) .control {
        display: inline;
        padding: 0;
        border: none;
        box-shadow: none;
        border-radius: 0;
        line-height: 1;
    }

    :host a.control:not(:link) {
        background-color: transparent;
        cursor: default;
    }
    :host([appearance="hypertext"]) .control:link,
    :host([appearance="hypertext"]) .control:visited {
        background: transparent;
        color: ${Yd.var};
        border-bottom: calc(var(--outline-width) * 1px) solid ${Yd.var};
    }

    :host([appearance="hypertext"]) .control:hover {
        border-bottom-color: ${Qd.var};
    }

    :host([appearance="hypertext"]) .control:active {
        border-bottom-color: ${Jd.var};
    }

    :host([appearance="hypertext"]) .control:${Th} {
        border-bottom: calc(var(--focus-outline-width) * 1px) solid ${Sh.var};
        margin-bottom: calc(calc(var(--outline-width) - var(--focus-outline-width)) * 1px);
    }
`.withBehaviors(Yd,Qd,Jd,Sh,Vs(Zn`
            :host([appearance="hypertext"]:hover) {
                background-color: ${Us.ButtonFace};
                color: ${Us.ButtonText};
            }
            :host([appearance="hypertext"][href]) .control:hover,
            :host([appearance="hypertext"][href]) .control:active,
            :host([appearance="hypertext"][href]) .control:${Th} {
                color: ${Us.LinkText};
                border-bottom-color: ${Us.LinkText};
                box-shadow: none;
            }
        `)),Zn`
    :host([appearance="lightweight"]) {
        background: transparent;
        color: ${Yd.var};
    }

    :host([appearance="lightweight"]) .control {
        padding: 0;
        height: initial;
        border: none;
        box-shadow: none;
        border-radius: 0;
    }

    :host([appearance="lightweight"]:hover) {
        color: ${Qd.var};
    }

    :host([appearance="lightweight"]:active) {
        color: ${Jd.var};
    }

    :host([appearance="lightweight"]) .content {
        position: relative;
    }

    :host([appearance="lightweight"]) .content::before {
        content: "";
        display: block;
        height: calc(var(--outline-width) * 1px);
        position: absolute;
        top: calc(1em + 4px);
        width: 100%;
    }

    :host([appearance="lightweight"]:hover) .content::before {
        background: ${Qd.var};
    }

    :host([appearance="lightweight"]:active) .content::before {
        background: ${Jd.var};
    }

    :host([appearance="lightweight"]) .control:${Th} .content::before {
        background: ${Wd.var};
        height: calc(var(--focus-outline-width) * 1px);
    }
`.withBehaviors(Yd,Qd,Jd,Qd,Wd,Vs(Zn`
            :host([appearance="lightweight"]) .control:hover,
            :host([appearance="lightweight"]) .control:${Th} {
                forced-color-adjust: none;
                background: ${Us.ButtonFace};
                color: ${Us.Highlight};
            }
            :host([appearance="lightweight"]) .control:hover .content::before,
            :host([appearance="lightweight"]) .control:${Th} .content::before {
                background: ${Us.Highlight};
            }

            :host([appearance="lightweight"][href]) .control:hover,
            :host([appearance="lightweight"][href]) .control:${Th} {
                background: ${Us.ButtonFace};
                box-shadow: none;
                color: ${Us.LinkText};
            }

            :host([appearance="lightweight"][href]) .control:hover .content::before,
            :host([appearance="lightweight"][href]) .control:${Th} .content::before {
                background: ${Us.LinkText};
            }
        `))),Fh=Zn`
    :host([appearance="outline"]) {
        background: transparent;
        border-color: ${hh.var};
    }

    :host([appearance="outline"]:hover) {
        border-color: ${uh.var};
    }

    :host([appearance="outline"]:active) {
        border-color: ${ph.var};
    }

    :host([appearance="outline"]) .control {
        border-color: inherit;
    }

    :host([appearance="outline"]) .control:${Th} {
        box-shadow: 0 0 0 calc((var(--focus-outline-width) - var(--outline-width)) * 1px) ${Sh.var};
        border-color: ${Sh.var};
    }
`.withBehaviors(hh,uh,ph,Sh,Vs(Zn`
            :host([appearance="outline"]) .control {
                border-color: ${Us.ButtonText};
            }
            :host([appearance="outline"]) .control:${Th} {
              forced-color-adjust: none;
              background-color: ${Us.Highlight};
              border-color: ${Us.ButtonText};
              box-shadow: 0 0 0 calc((var(--focus-outline-width) - var(--outline-width)) * 1px) ${Us.ButtonText};
              color: ${Us.HighlightText};
              fill: currentColor;
            }
            :host([appearance="outline"][href]) .control {
                background: ${Us.ButtonFace};
                border-color: ${Us.LinkText};
                color: ${Us.LinkText};
                fill: currentColor;
            }
            :host([appearance="outline"][href]) .control:hover,
            :host([appearance="outline"][href]) .control:${Th} {
              forced-color-adjust: none;
              border-color: ${Us.LinkText};
              box-shadow: 0 0 0 1px ${Us.LinkText} inset;
            }
        `)),Rh=Zn`
    :host([appearance="stealth"]) {
        background: ${nh.var};
    }

    :host([appearance="stealth"]:hover) {
        background: ${rh.var};
    }

    :host([appearance="stealth"]:active) {
        background: ${sh.var};
    }
`.withBehaviors(nh,rh,sh,Vs(Zn`
            :host([appearance="stealth"]),
            :host([appearance="stealth"]) .control {
                forced-color-adjust: none;
                background: ${Us.ButtonFace};
                border-color: transparent;
                color: ${Us.ButtonText};
                fill: currentColor;
            }

            :host([appearance="stealth"]:hover) .control {
                background: ${Us.Highlight};
                border-color: ${Us.Highlight};
                color: ${Us.HighlightText};
                fill: currentColor;
            }

            :host([appearance="stealth"]:${Th}) .control {
                background: ${Us.Highlight};
                box-shadow: 0 0 0 1px ${Us.Highlight};
                color: ${Us.HighlightText};
                fill: currentColor;
            }

            :host([appearance="stealth"][href]) .control {
                color: ${Us.LinkText};
            }

            :host([appearance="stealth"][href]:hover) .control,
            :host([appearance="stealth"][href]:${Th}) .control {
                background: ${Us.LinkText};
                border-color: ${Us.LinkText};
                color: ${Us.HighlightText};
                fill: currentColor;
            }

            :host([appearance="stealth"][href]:${Th}) .control {
                forced-color-adjust: none;
                box-shadow: 0 0 0 1px ${Us.LinkText};
            }
        `));class Ih{constructor(e,t,i){this.propertyName=e,this.value=t,this.styles=i}bind(e){Vn.Observable.getNotifier(e).subscribe(this,this.propertyName),this.handleChange(e,this.propertyName)}unbind(e){Vn.Observable.getNotifier(e).unsubscribe(this,this.propertyName),e.$fastController.removeStyles(this.styles)}handleChange(e,t){e[t]===this.value?e.$fastController.addStyles(this.styles):e.$fastController.removeStyles(this.styles)}}function Mh(e,t){return new Ih("appearance",e,t)}const Hh=Zn`
    :host([disabled]),
    :host([disabled]:hover),
    :host([disabled]:active) {
        opacity: var(--disabled-opacity);
        background-color: ${th.var};
        cursor: ${js};
    }

    ${_h}
`.withBehaviors(Vs(Zn`
            :host([disabled]),
            :host([disabled]) .control {
                forced-color-adjust: none;
                background-color: ${Us.ButtonFace};
                border-color: ${Us.GrayText};
                color: ${Us.GrayText};
                cursor: ${js};
                opacity: 1;
            }
        `),Mh("accent",Zn`
            :host([appearance="accent"][disabled]),
            :host([appearance="accent"][disabled]:hover),
            :host([appearance="accent"][disabled]:active) {
                background: ${hh.var};
            }

            ${Bh}
        `.withBehaviors(Vs(Zn`
                    :host([appearance="accent"][disabled]) .control,
                    :host([appearance="accent"][disabled]) .control:hover {
                        background: ${Us.ButtonFace};
                        border-color: ${Us.GrayText};
                        color: ${Us.GrayText};
                    }
                `))),Mh("lightweight",Zn`
            :host([appearance="lightweight"][disabled]:hover),
            :host([appearance="lightweight"][disabled]:active) {
                background-color: transparent;
                color: ${Yd.var};
            }

            :host([appearance="lightweight"][disabled]) .content::before,
            :host([appearance="lightweight"][disabled]:hover) .content::before,
            :host([appearance="lightweight"][disabled]:active) .content::before {
                background: transparent;
            }

            ${Ah}
        `.withBehaviors(Vs(Zn`
                    :host([appearance="lightweight"].disabled) .control {
                        forced-color-adjust: none;
                        color: ${Us.GrayText};
                    }

                    :host([appearance="lightweight"].disabled)
                        .control:hover
                        .content::before {
                        background: none;
                    }
                `))),Mh("outline",Zn`
            :host([appearance="outline"][disabled]),
            :host([appearance="outline"][disabled]:hover),
            :host([appearance="outline"][disabled]:active) {
                background: transparent;
                border-color: ${hh.var};
            }

            ${Fh}
        `.withBehaviors(Vs(Zn`
                    :host([appearance="outline"][disabled]) .control {
                        border-color: ${Us.GrayText};
                    }
                `))),Mh("stealth",Zn`
            :host([appearance="stealth"][disabled]),
            :host([appearance="stealth"][disabled]:hover),
            :host([appearance="stealth"][disabled]:active) {
                background: ${nh.var};
            }

            ${Rh}
        `.withBehaviors(Vs(Zn`
                    :host([appearance="stealth"][disabled]) {
                        background: ${Us.ButtonFace};
                    }

                    :host([appearance="stealth"][disabled]) .control {
                        background: ${Us.ButtonFace};
                        border-color: transparent;
                        color: ${Us.GrayText};
                    }
                `))));let jh=class extends Is{connectedCallback(){super.connectedCallback(),this.appearance||(this.appearance="neutral")}defaultSlottedContentChanged(e,t){const i=this.defaultSlottedContent.filter((e=>e.nodeType===Node.ELEMENT_NODE));1===i.length&&i[0]instanceof SVGElement?this.control.classList.add("icon-only"):this.control.classList.remove("icon-only")}};Jr([Pr],jh.prototype,"appearance",void 0),jh=Jr([Hr({name:"fast-button",template:Hs,styles:Hh,shadowOptions:{delegatesFocus:!0}})],jh);null&&styles;class zh extends Mr{}class Vh extends(As(zh)){constructor(){super(...arguments),this.proxy=document.createElement("input")}}class Uh extends Vh{constructor(){super(),this.initialValue="on",this.indeterminate=!1,this.dirtyChecked=!1,this.constructed=!1,this.formResetCallback=()=>{this.checked=this.checkedAttribute,this.dirtyChecked=!1},this.keypressHandler=e=>{switch(e.keyCode){case Cs:this.checked=!this.checked}},this.clickHandler=e=>{this.disabled||this.readOnly||(this.checked=!this.checked)},this.defaultChecked=!!this.checkedAttribute,this.checked=this.defaultChecked,this.constructed=!0}readOnlyChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.readOnly=this.readOnly)}checkedAttributeChanged(){this.defaultChecked=this.checkedAttribute}defaultCheckedChanged(){this.dirtyChecked||(this.checked=this.defaultChecked,this.dirtyChecked=!1)}checkedChanged(){this.dirtyChecked||(this.dirtyChecked=!0),this.updateForm(),this.proxy instanceof HTMLInputElement&&(this.proxy.checked=this.checked),this.constructed&&this.$emit("change"),this.validate()}connectedCallback(){super.connectedCallback(),this.proxy.setAttribute("type","checkbox"),this.updateForm()}updateForm(){const e=this.checked?this.value:null;this.setFormValue(e,e)}}es([Pr({attribute:"readonly",mode:"boolean"})],Uh.prototype,"readOnly",void 0),es([Pr({attribute:"checked",mode:"boolean"})],Uh.prototype,"checkedAttribute",void 0),es([Vn.observable],Uh.prototype,"defaultSlottedNodes",void 0),es([Vn.observable],Uh.prototype,"defaultChecked",void 0),es([Vn.observable],Uh.prototype,"checked",void 0),es([Vn.observable],Uh.prototype,"indeterminate",void 0);const qh=Sr`
    <template
        role="checkbox"
        aria-checked="${e=>e.checked}"
        aria-required="${e=>e.required}"
        aria-disabled="${e=>e.disabled}"
        aria-readonly="${e=>e.readOnly}"
        tabindex="${e=>e.disabled?null:0}"
        @keypress="${(e,t)=>e.keypressHandler(t.event)}"
        @click="${(e,t)=>e.clickHandler(t.event)}"
        class="${e=>e.readOnly?"readonly":""} ${e=>e.checked?"checked":""} ${e=>e.indeterminate?"indeterminate":""}"
    >
        <div part="control" class="control">
            <slot name="checked-indicator">
                <svg
                    aria-hidden="true"
                    part="checked-indicator"
                    class="checked-indicator"
                    viewBox="0 0 20 20"
                    xmlns="http://www.w3.org/2000/svg"
                >
                    <path
                        fill-rule="evenodd"
                        clip-rule="evenodd"
                        d="M8.143 12.6697L15.235 4.5L16.8 5.90363L8.23812 15.7667L3.80005 11.2556L5.27591 9.7555L8.143 12.6697Z"
                    />
                </svg>
            </slot>
            <slot name="indeterminate-indicator">
                <div part="indeterminate-indicator" class="indeterminate-indicator"></div>
            </slot>
        </div>
        <label
            part="label"
            class="${e=>e.defaultSlottedNodes&&e.defaultSlottedNodes.length?"label":"label label__hidden"}"
        >
            <slot ${(0,Vn.slotted)("defaultSlottedNodes")}></slot>
        </label>
    </template>
`,Kh=Zn`
    ${zd("inline-flex")} :host {
        align-items: center;
        outline: none;
        margin: calc(var(--design-unit) * 1px) 0;
        ${""} user-select: none;
    }

    .control {
        position: relative;
        width: calc((${Oh} / 2 + var(--design-unit)) * 1px);
        height: calc((${Oh} / 2 + var(--design-unit)) * 1px);
        box-sizing: border-box;
        border-radius: calc(var(--corner-radius) * 1px);
        border: calc(var(--outline-width) * 1px) solid ${fh.var};
        background: ${lh.var};
        outline: none;
        cursor: pointer;
    }

    .label {
        font-family: var(--body-font);
        color: ${Wd.var};
        ${""} padding-inline-start: calc(var(--design-unit) * 2px + 2px);
        margin-inline-end: calc(var(--design-unit) * 2px + 2px);
        cursor: pointer;
        font-size: var(--type-ramp-base-font-size);
        line-height: var(--type-ramp-base-line-height);
    }

    .label__hidden {
        display: none;
        visibility: hidden;
    }

    .checked-indicator {
        width: 100%;
        height: 100%;
        display: block;
        fill: ${eh.var};
        opacity: 0;
        pointer-events: none;
    }

    .indeterminate-indicator {
        border-radius: calc(var(--corner-radius) * 1px);
        background: ${eh.var};
        position: absolute;
        top: 50%;
        left: 50%;
        width: 50%;
        height: 50%;
        transform: translate(-50%, -50%);
        opacity: 0;
    }

    :host(:not([disabled])) .control:hover {
        background: ${ch.var};
        border-color: ${vh.var};
    }

    :host(:not([disabled])) .control:active {
        background: ${dh.var};
        border-color: ${bh.var};
    }

    :host(:${Th}) .control {
        box-shadow: 0 0 0 2px var(--background-color), 0 0 0 4px ${Sh.var};
        border-color: ${Sh.var};
    }

    :host([aria-checked="true"]) .control {
        background: ${hh.var};
        border: calc(var(--outline-width) * 1px) solid ${hh.var};
    }

    :host([aria-checked="true"]:not([disabled])) .control:hover {
        background: ${uh.var};
        border: calc(var(--outline-width) * 1px) solid ${uh.var};
    }

    :host([aria-checked="true"]:not([disabled])) .control:active {
        background: ${ph.var};
        border: calc(var(--outline-width) * 1px) solid ${ph.var};
    }

    :host([aria-checked="true"]:${Th}:not([disabled])) .control {
        box-shadow: 0 0 0 2px var(--background-color), 0 0 0 4px ${Sh.var};
        border-color: transparent;
    }


    :host([disabled]) .label,
    :host([readonly]) .label,
    :host([readonly]) .control,
    :host([disabled]) .control {
        cursor: ${js};
    }

    :host([aria-checked="true"]:not(.indeterminate)) .checked-indicator,
    :host(.indeterminate) .indeterminate-indicator {
        opacity: 1;
    }

    :host([disabled]) {
        opacity: var(--disabled-opacity);
    }
`.withBehaviors(ph,uh,hh,eh,dh,ch,lh,Sh,Lh,Wd,bh,vh,fh,Vs(Zn`
            .control {
                forced-color-adjust: none;
                border-color: ${Us.FieldText};
                background: ${Us.Field};
            }
            .checked-indicator {
                fill: ${Us.FieldText};
            }
            .indeterminate-indicator {
                background: ${Us.FieldText};
            }
            :host(:not([disabled])) .control:hover, .control:active {
                border-color: ${Us.Highlight};
                background: ${Us.Field};
            }
            :host(:${Th}) .control {
                border-color: ${Us.Highlight};
                box-shadow: 0 0 0 2px ${Us.Field}, 0 0 0 4px ${Us.FieldText};
            }
            :host([aria-checked="true"]:${Th}:not([disabled])) .control {
                box-shadow: 0 0 0 2px ${Us.Field}, 0 0 0 4px ${Us.FieldText};
            }
            :host([aria-checked="true"]) .control {
                background: ${Us.Highlight};
                border-color: ${Us.Highlight};
            }
            :host([aria-checked="true"]:not([disabled])) .control:hover, .control:active {
                border-color: ${Us.Highlight};
                background: ${Us.HighlightText};
            }
            :host([aria-checked="true"]) .checked-indicator {
                fill: ${Us.HighlightText};
            }
            :host([aria-checked="true"]:not([disabled])) .control:hover .checked-indicator {
                fill: ${Us.Highlight}
            }
            :host([aria-checked="true"]) .indeterminate-indicator {
                background: ${Us.HighlightText};
            }
            :host([aria-checked="true"]) .control:hover .indeterminate-indicator {
                background: ${Us.Highlight}
            }
            :host([disabled]) {
                opacity: 1;
            }
            :host([disabled]) .control {
                forced-color-adjust: none;
                border-color: ${Us.GrayText};
                background: ${Us.Field};
            }
            :host([disabled]) .indeterminate-indicator,
            :host([aria-checked="true"][disabled]) .control:hover .indeterminate-indicator {
                forced-color-adjust: none;
                background: ${Us.GrayText};
            }
            :host([disabled]) .checked-indicator,
            :host([aria-checked="true"][disabled]) .control:hover .checked-indicator {
                forced-color-adjust: none;
                fill: ${Us.GrayText};
            }
        `));let Wh=class extends Uh{};Wh=Jr([Hr({name:"fast-checkbox",template:qh,styles:Kh})],Wh);null&&styles;var Gh=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])',"details>summary:first-of-type","details"],Xh=Gh.join(","),Yh="undefined"==typeof Element?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Qh=function(e,t,i){var o=Array.prototype.slice.apply(e.querySelectorAll(Xh));return t&&Yh.call(e,Xh)&&o.unshift(e),o=o.filter(i)},Jh=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return isNaN(t)?function(e){return"true"===e.contentEditable}(e)?0:"AUDIO"!==e.nodeName&&"VIDEO"!==e.nodeName&&"DETAILS"!==e.nodeName||null!==e.getAttribute("tabindex")?e.tabIndex:0:t},Zh=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},eu=function(e){return"INPUT"===e.tagName},tu=function(e){return function(e){return eu(e)&&"radio"===e.type}(e)&&!function(e){if(!e.name)return!0;var t,i=e.form||e.ownerDocument,o=function(e){return i.querySelectorAll('input[type="radio"][name="'+e+'"]')};if("undefined"!=typeof window&&void 0!==window.CSS&&"function"==typeof window.CSS.escape)t=o(window.CSS.escape(e.name));else try{t=o(e.name)}catch(e){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",e.message),!1}var n=function(e,t){for(var i=0;i<e.length;i++)if(e[i].checked&&e[i].form===t)return e[i]}(t,e.form);return!n||n===e}(e)},iu=function(e,t){return!(t.disabled||function(e){return eu(e)&&"hidden"===e.type}(t)||function(e,t){if("hidden"===getComputedStyle(e).visibility)return!0;var i=Yh.call(e,"details>summary:first-of-type")?e.parentElement:e;if(Yh.call(i,"details:not([open]) *"))return!0;if(t&&"full"!==t){if("non-zero-area"===t){var o=e.getBoundingClientRect(),n=o.width,r=o.height;return 0===n&&0===r}}else for(;e;){if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}(t,e.displayCheck)||function(e){return"DETAILS"===e.tagName&&Array.prototype.slice.apply(e.children).some((function(e){return"SUMMARY"===e.tagName}))}(t))},ou=function(e,t){return!(!iu(e,t)||tu(t)||Jh(t)<0)},nu=function(e,t){var i=[],o=[];return Qh(e,(t=t||{}).includeContainer,ou.bind(null,t)).forEach((function(e,t){var n=Jh(e);0===n?i.push(e):o.push({documentOrder:t,tabIndex:n,node:e})})),o.sort(Zh).map((function(e){return e.node})).concat(i)};null&&Gh.concat("iframe").join(",");class ru extends Mr{constructor(){super(...arguments),this.modal=!0,this.hidden=!1,this.trapFocus=!0,this.onChildListChange=e=>{e.length&&(this.tabbableElements=nu(this))},this.trapFocusChanged=()=>{this.trapFocus?(this.tabbableElements=nu(this),document.addEventListener("focusin",this.handleDocumentFocus),this.shouldForceFocus(document.activeElement)&&this.focusFirstElement()):document.removeEventListener("focusin",this.handleDocumentFocus)},this.handleDocumentKeydown=e=>{if(!e.defaultPrevented&&!this.hidden)switch(e.keyCode){case xs:this.dismiss();break;case Ss:this.handleTabKeyDown(e)}},this.handleDocumentFocus=e=>{!e.defaultPrevented&&this.shouldForceFocus(e.target)&&(this.focusFirstElement(),e.preventDefault())},this.handleTabKeyDown=e=>{if(!this.trapFocus)return;const t=this.tabbableElements.length;if(0===t)return this.dialog.focus(),void e.preventDefault();e.shiftKey&&e.target===this.tabbableElements[0]?(this.tabbableElements[t-1].focus(),e.preventDefault()):e.shiftKey||e.target!==this.tabbableElements[t-1]||(this.tabbableElements[0].focus(),e.preventDefault())},this.focusFirstElement=()=>{0===this.tabbableElements.length?this.dialog.focus():this.tabbableElements[0].focus()},this.shouldForceFocus=e=>!this.hidden&&!this.contains(e)}dismiss(){this.$emit("dismiss")}show(){this.hidden=!1}hide(){this.hidden=!0}connectedCallback(){super.connectedCallback(),this.observer=new MutationObserver(this.onChildListChange),this.observer.observe(this,{childList:!0}),document.addEventListener("keydown",this.handleDocumentKeydown),qn.SO.queueUpdate(this.trapFocusChanged)}disconnectedCallback(){super.disconnectedCallback(),this.observer.disconnect(),document.removeEventListener("keydown",this.handleDocumentKeydown),this.trapFocus&&document.removeEventListener("focusin",this.handleDocumentFocus)}}es([Pr({mode:"boolean"})],ru.prototype,"modal",void 0),es([Pr({mode:"boolean"})],ru.prototype,"hidden",void 0),es([Pr({attribute:"trap-focus",mode:"boolean"})],ru.prototype,"trapFocus",void 0),es([Pr({attribute:"aria-describedby"})],ru.prototype,"ariaDescribedby",void 0),es([Pr({attribute:"aria-labelledby"})],ru.prototype,"ariaLabelledby",void 0),es([Pr({attribute:"aria-label"})],ru.prototype,"ariaLabel",void 0);const su=Sr`
    <div class="positioning-region" part="positioning-region">
        ${(0,Vn.when)((e=>e.modal),Sr`
                <div
                    class="overlay"
                    part="overlay"
                    role="presentation"
                    tabindex="-1"
                    @click="${e=>e.dismiss()}"
                ></div>
            `)}
        <div
            role="dialog"
            class="control"
            part="control"
            aria-modal="${e=>e.modal}"
            aria-describedby="${e=>e.ariaDescribedby}"
            aria-labelledby="${e=>e.ariaLabelledby}"
            aria-label="${e=>e.ariaLabel}"
            ${(0,Vn.ref)("dialog")}
        >
            <slot></slot>
        </div>
    </div>
`,au=`box-shadow: ${"0 0 calc((var(--elevation) * 0.225px) + 2px) rgba(0, 0, 0, calc(.11 * (2 - var(--background-luminance, 1))))"}, ${"0 calc(var(--elevation) * 0.4px) calc((var(--elevation) * 0.9px)) rgba(0, 0, 0, calc(.13 * (2 - var(--background-luminance, 1))))"};`,lu=Zn`
    :host([hidden]) {
        display: none;
    }

    :host {
        --elevation: 14;
        --dialog-height: 480px;
        --dialog-width: 640px;
        display: block;
    }

    .overlay {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0, 0, 0, 0.3);
        touch-action: none;
    }

    .positioning-region {
        display: flex;
        justify-content: center;
        position: fixed;
        top: 0;
        bottom: 0;
        left: 0;
        right: 0;
        overflow: auto;
    }

    .control {
        ${au}
        margin-top: auto;
        margin-bottom: auto;
        width: var(--dialog-width);
        height: var(--dialog-height);
        background-color: var(--background-color);
        z-index: 1;
        border-radius: calc(var(--corner-radius) * 1px);
        border: calc(var(--outline-width) * 1px) solid transparent;
    }
`;let cu=class extends ru{};cu=Jr([Hr({name:"fast-dialog",template:su,styles:lu})],cu);null&&styles;var du;!function(e){e["separator"]="separator",e["presentation"]="presentation"}(du||(du={}));class hu extends Mr{constructor(){super(...arguments),this.role=du.separator}}es([Pr],hu.prototype,"role",void 0);const uu=Sr`
    <template role="${e=>e.role}"></template>
`,pu=Zn`
    ${zd("block")} :host {
        box-sizing: content-box;
        height: 0;
        margin: calc(var(--design-unit) * 1px) 0;
        border: none;
        border-top: calc(var(--outline-width) * 1px) solid
            ${mh.var};
    }
`.withBehaviors(mh);let gu=class extends hu{};gu=Jr([Hr({name:"fast-divider",template:uu,styles:pu})],gu);null&&styles;var fu=function(e){return function(){return e}};var vu=function(e){return function(t,i,o){for(var n=-1,r=Object(t),s=o(t),a=s.length;a--;){var l=s[e?a:++n];if(!1===i(r[l],l,r))break}return t}}();var bu=function(e,t){return e&&vu(e,t,Di)};var mu=function(e,t,i,o){return bu(e,(function(e,n,r){t(o,i(e),n,r)})),o};var yu=function(e,t){return function(i,o){return mu(i,e,t(o),{})}};var wu,xu=function(e){return e},ku=Object.prototype.toString,Cu=yu((function(e,t,i){null!=t&&"function"!=typeof t.toString&&(t=ku.call(t)),e[t]=i}),fu(xu));!function(e){e["menuitem"]="menuitem",e["menuitemcheckbox"]="menuitemcheckbox",e["menuitemradio"]="menuitemradio"}(wu||(wu={}));class Su extends Mr{constructor(){super(...arguments),this.expandedItem=null,this.focusIndex=-1,this.isNestedMenu=()=>null!==this.parentElement&&Ph(this.parentElement)&&"menuitem"===this.parentElement.getAttribute("role"),this.handleFocusOut=e=>{if(!this.contains(e.relatedTarget)){this.collapseExpandedItem();const e=this.menuItems.findIndex(this.isFocusableElement);this.menuItems[this.focusIndex].setAttribute("tabindex","-1"),this.menuItems[e].setAttribute("tabindex","0"),this.focusIndex=e}},this.handleItemFocus=e=>{const t=e.target;t!==this.menuItems[this.focusIndex]&&(this.menuItems[this.focusIndex].setAttribute("tabindex","-1"),this.focusIndex=this.menuItems.indexOf(t),t.setAttribute("tabindex","0"))},this.handleExpandedChanged=e=>{if(e.defaultPrevented||null===e.target||this.menuItems.indexOf(e.target)<0)return;e.preventDefault();const t=e.target;null===this.expandedItem||t!==this.expandedItem||!1!==t.expanded?t.expanded&&(null!==this.expandedItem&&this.expandedItem!==t&&(this.expandedItem.expanded=!1),this.menuItems[this.focusIndex].setAttribute("tabindex","-1"),this.expandedItem=t,this.focusIndex=this.menuItems.indexOf(t),t.setAttribute("tabindex","0")):this.expandedItem=null},this.setItems=()=>{const e=this.menuItems.filter(this.isMenuItemElement);e.length&&(this.focusIndex=0),e.forEach(((e,t)=>{e.setAttribute("tabindex",0===t?"0":"-1"),e.addEventListener("expanded-change",this.handleExpandedChanged),e.addEventListener("focus",this.handleItemFocus)}))},this.resetItems=e=>{e.forEach((e=>{e.removeEventListener("expanded-change",this.handleExpandedChanged),e.removeEventListener("focus",this.handleItemFocus)}))},this.changeHandler=e=>{const t=e.target,i=this.menuItems.indexOf(t);if(-1!==i&&"menuitemradio"===t.role&&!0===t.checked){for(let e=i-1;e>=0;--e){const t=this.menuItems[e],i=t.getAttribute("role");if(i===wu.menuitemradio&&(t.checked=!1),"separator"===i)break}const e=this.menuItems.length-1;for(let t=i+1;t<=e;++t){const e=this.menuItems[t],i=e.getAttribute("role");if(i===wu.menuitemradio&&(e.checked=!1),"separator"===i)break}}},this.isMenuItemElement=e=>Ph(e)&&Su.focusableElementRoles.hasOwnProperty(e.getAttribute("role")),this.isFocusableElement=e=>this.isMenuItemElement(e)}itemsChanged(e,t){this.$fastController.isConnected&&(this.menuItems=this.domChildren(),this.resetItems(e),this.setItems())}connectedCallback(){super.connectedCallback(),this.menuItems=this.domChildren(),this.addEventListener("change",this.changeHandler)}disconnectedCallback(){super.disconnectedCallback(),this.menuItems=[],this.removeEventListener("change",this.changeHandler)}focus(){this.setFocus(0,1)}collapseExpandedItem(){null!==this.expandedItem&&(this.expandedItem.expanded=!1,this.expandedItem=null)}handleMenuKeyDown(e){if(!e.defaultPrevented)switch(e.keyCode){case fs:return void this.setFocus(this.focusIndex+1,1);case ms:return void this.setFocus(this.focusIndex-1,-1);case ys:return void this.setFocus(this.menuItems.length-1,-1);case ks:return void this.setFocus(0,1);default:return!0}}domChildren(){return Array.from(this.children)}setFocus(e,t){if(void 0!==this.menuItems)for(;Wc(e,this.menuItems.length);){const i=this.menuItems[e];if(this.isFocusableElement(i)){this.focusIndex>-1&&this.menuItems.length>=this.focusIndex-1&&this.menuItems[this.focusIndex].setAttribute("tabindex","-1"),this.focusIndex=e,i.setAttribute("tabindex","0"),i.focus();break}e+=t}}}Su.focusableElementRoles=Cu(wu),es([Vn.observable],Su.prototype,"items",void 0);const Lu=Sr`
    <template
        slot="${e=>e.isNestedMenu()?"submenu":void 0}"
        role="menu"
        @keydown="${(e,t)=>e.handleMenuKeyDown(t.event)}"
        @focusout="${(e,t)=>e.handleFocusOut(t.event)}"
    >
        <slot ${(0,Vn.slotted)("items")}></slot>
    </template>
`,$u=Zn`
    ${zd("block")} :host {
        --elevation: 11;
        background: ${yh.var};
        border: calc(var(--outline-width) * 1px) solid transparent;
        ${au}
        margin: 0;
        border-radius: calc(var(--corner-radius) * 1px);
        padding: calc(var(--design-unit) * 1px) 0;
        max-width: 368px;
        min-width: 64px;
    }

    :host([slot="submenu"]) {
        width: max-content;
        margin: 0 calc(var(--design-unit) * 1px);
    }

    ::slotted(hr) {
        box-sizing: content-box;
        height: 0;
        margin: 0;
        border: none;
        border-top: calc(var(--outline-width) * 1px) solid var(--neutral-divider-rest);
    }
`.withBehaviors(yh,mh,Vs(Zn`
            :host {
                background: ${Us.Canvas};
                border-color: ${Us.CanvasText};
            }
        `));let Eu=class extends Su{};Eu=Jr([Hr({name:"fast-menu",template:Lu,styles:$u})],Eu);null&&styles,Nu("fast");function Nu(e){return Sr`
    <template
        role="${e=>e.role}"
        aria-haspopup="${e=>e.hasSubmenu?"menu":void 0}"
        aria-checked="${e=>e.role!==wu.menuitem?e.checked:void 0}"
        aria-disabled="${e=>e.disabled}"
        aria-expanded="${e=>e.expanded}"
        @keydown="${(e,t)=>e.handleMenuItemKeyDown(t.event)}"
        @click="${(e,t)=>e.handleMenuItemClick(t.event)}"
        @mouseover="${(e,t)=>e.handleMouseOver(t.event)}"
        @mouseout="${(e,t)=>e.handleMouseOut(t.event)}"
        class="${e=>e.disabled?"disabled":""} ${e=>e.expanded?"expanded":""}"
    >

            ${(0,Vn.when)((e=>e.role===wu.menuitemcheckbox),Sr`
                    <div part="input-container" class="input-container">
                        <span part="checkbox" class="checkbox">
                            <slot name="checkbox-indicator">
                                <svg
                                    aria-hidden="true"
                                    part="checkbox-indicator"
                                    class="checkbox-indicator"
                                    viewBox="0 0 20 20"
                                    xmlns="http://www.w3.org/2000/svg"
                                >
                                    <path
                                        fill-rule="evenodd"
                                        clip-rule="evenodd"
                                        d="M8.143 12.6697L15.235 4.5L16.8 5.90363L8.23812 15.7667L3.80005 11.2556L5.27591 9.7555L8.143 12.6697Z"
                                    />
                                </svg>
                            </slot>
                        </span>
                    </div>
                `)}
            ${(0,Vn.when)((e=>e.role===wu.menuitemradio),Sr`
                    <div part="input-container" class="input-container">
                        <span part="radio" class="radio">
                            <slot name="radio-indicator">
                                <span
                                    part="radio-indicator"
                                    class="radio-indicator"
                                ></span>
                            </slot>
                        </span>
                    </div>
                `)}
            ${(0,Vn.when)((e=>e.hasSubmenu),Sr`
                    <div
                        part="expand-collapse-glyph-container"
                        class="expand-collapse-glyph-container"
                    >
                        <span part="expand-collapse" class="expand-collapse">
                            <slot name="expand-collapse-indicator">
                                <svg
                                    viewBox="0 0 16 16"
                                    xmlns="http://www.w3.org/2000/svg"
                                    class="expand-collapse-glyph"
                                    part="expand-collapse-glyph"
                                >
                                    <path
                                        d="M5.00001 12.3263C5.00124 12.5147 5.05566 12.699 5.15699 12.8578C5.25831 13.0167 5.40243 13.1437 5.57273 13.2242C5.74304 13.3047 5.9326 13.3354 6.11959 13.3128C6.30659 13.2902 6.4834 13.2152 6.62967 13.0965L10.8988 8.83532C11.0739 8.69473 11.2153 8.51658 11.3124 8.31402C11.4096 8.11146 11.46 7.88966 11.46 7.66499C11.46 7.44033 11.4096 7.21853 11.3124 7.01597C11.2153 6.81341 11.0739 6.63526 10.8988 6.49467L6.62967 2.22347C6.48274 2.10422 6.30501 2.02912 6.11712 2.00691C5.92923 1.9847 5.73889 2.01628 5.56823 2.09799C5.39757 2.17969 5.25358 2.30817 5.153 2.46849C5.05241 2.62882 4.99936 2.8144 5.00001 3.00369V12.3263Z"
                                    />
                                </svg>
                            </slot>
                        </span>
                    </div>
                `)}
        </div>
        ${us}
        <span class="content" part="content">
            <slot></slot>
        </span>
        ${hs}
        ${(0,Vn.when)((e=>e.expanded),Sr`
                <${e}-anchored-region
                    :anchorElement="${e=>e}"
                    vertical-positioning-mode="dynamic"
                    vertical-default-position="bottom"
                    vertical-inset="true"
                    horizontal-positioning-mode="dynamic"
                    horizontal-default-position="end"
                    class="submenu-region"
                    dir="${e=>e.currentDirection}"
                    @loaded="${e=>e.submenuLoaded()}"
                    ${(0,Vn.ref)("submenuRegion")}
                    part="submenu-region"
                >
                    <slot name="submenu"></slot>
                </${e}-anchored-region>
            `)}
    </template>
`}class Pu extends Mr{constructor(){super(...arguments),this.role=wu.menuitem,this.hasSubmenu=!1,this.currentDirection=Zr.ltr,this.focusSubmenuOnLoad=!1,this.handleMenuItemKeyDown=e=>{if(e.defaultPrevented)return!1;switch(e.keyCode){case ws:case Cs:return this.invoke(),!1;case bs:return this.expandAndFocus(),!1;case vs:if(this.expanded)return this.expanded=!1,this.focus(),!1}return!0},this.handleMenuItemClick=e=>(e.defaultPrevented||this.disabled||this.invoke(),!1),this.submenuLoaded=()=>{this.focusSubmenuOnLoad&&(this.focusSubmenuOnLoad=!1,this.hasSubmenu&&(this.submenu.focus(),this.setAttribute("tabindex","-1")))},this.handleMouseOver=e=>(this.disabled||!this.hasSubmenu||this.expanded||(this.expanded=!0),!1),this.handleMouseOut=e=>(!this.expanded||this.contains(document.activeElement)||(this.expanded=!1),!1),this.expandAndFocus=()=>{this.hasSubmenu&&(this.focusSubmenuOnLoad=!0,this.expanded=!0)},this.invoke=()=>{if(!this.disabled)switch(this.role){case wu.menuitemcheckbox:this.checked=!this.checked,this.$emit("change");break;case wu.menuitem:this.updateSubmenu(),this.hasSubmenu?this.expandAndFocus():this.$emit("change");break;case wu.menuitemradio:this.checked||(this.checked=!0)}},this.updateSubmenu=()=>{this.submenu=this.domChildren().find((e=>"menu"===e.getAttribute("role"))),this.hasSubmenu=void 0!==this.submenu}}expandedChanged(e){if(this.$fastController.isConnected){if(void 0===this.submenu)return;!1===this.expanded?this.submenu.collapseExpandedItem():this.currentDirection=os(this),this.$emit("expanded-change",this,{bubbles:!1})}}checkedChanged(e,t){this.$fastController.isConnected&&this.$emit("change")}connectedCallback(){super.connectedCallback(),qn.SO.queueUpdate((()=>{this.updateSubmenu()})),this.observer=new MutationObserver(this.updateSubmenu)}disconnectedCallback(){super.disconnectedCallback(),this.submenu=void 0,void 0!==this.observer&&(this.observer.disconnect(),this.observer=void 0)}domChildren(){return Array.from(this.children)}}es([Pr({mode:"boolean"})],Pu.prototype,"disabled",void 0),es([Pr({attribute:"expanded"})],Pu.prototype,"expanded",void 0),es([Pr],Pu.prototype,"role",void 0),es([Pr],Pu.prototype,"checked",void 0),es([Vn.observable],Pu.prototype,"submenuRegion",void 0),es([Vn.observable],Pu.prototype,"hasSubmenu",void 0),es([Vn.observable],Pu.prototype,"currentDirection",void 0),es([Vn.observable],Pu.prototype,"submenu",void 0),ps(Pu,ds);class Du{constructor(e,t,i){this.ltr=e,this.rtl=t,this.source=i,this.attached=null}handleChange(e){this.attach(e.direction)}attach(e){this.attached!==this[e]&&(null!==this.attached&&this.source.$fastController.removeStyles(this.attached),this.attached=this[e],null!==this.attached&&this.source.$fastController.addStyles(this.attached))}}const Tu=Zn`
    ${zd("grid")} :host {
        contain: layout;
        overflow: visible;
        font-family: var(--body-font);
        outline: none;
        box-sizing: border-box;
        height: calc(${Oh} * 1px);
        grid-template-columns: minmax(42px, auto) 1fr minmax(42px, auto);
        grid-template-rows: auto;
        justify-items: center;
        align-items: center;
        padding: 0;
        margin: 0 calc(var(--design-unit) * 1px);
        white-space: nowrap;
        color: ${Wd.var};
        fill: currentcolor;
        cursor: pointer;
        font-size: var(--type-ramp-base-font-size);
        line-height: var(--type-ramp-base-line-height);
        border-radius: calc(var(--corner-radius) * 1px);
        border: calc(var(--focus-outline-width) * 1px) solid transparent;
    }

    :host(:${Th}) {
        border-color: ${Sh.var};
        background: ${kh.var};
        color: ${Wd.var};
    }

    :host(:hover) {
        background: ${kh.var};
        color: ${Gd.var};
    }

    :host([aria-checked="true"]),
    :host(:active),
    :host(.expanded) {
        background: ${xh.var};
        color: ${Wd.var};
    }

    :host([disabled]) {
        cursor: ${js};
        opacity: var(--disabled-opacity);
    }

    :host([disabled]:hover) {
        color: ${Wd.var};
        fill: currentcolor;
        background: ${nh.var}
    }

    :host([disabled]:hover) .start,
    :host([disabled]:hover) .end,
    :host([disabled]:hover)::slotted(svg) {
        fill: ${Wd.var};
    }

    .expand-collapse-glyph {
        ${""} width: 16px;
        height: 16px;
        transition: transform 0.1s linear;
        fill: currentcolor;
    }

    .content {
        grid-column-start: 2;
        justify-self: start;
        overflow: hidden;
        text-overflow: ellipsis;
    }

    .start,
    .end {
        display: flex;
        justify-content: center;
    }
    
    ::slotted(svg) {
        ${""} width: 16px;
        height: 16px;
    }

    :host(:hover) .start,
    :host(:hover) .end,
    :host(:hover)::slotted(svg),
    :host(:active) .start,
    :host(:active) .end,
    :host(:active)::slotted(svg) {
        fill: ${Wd.var};
    }

    :host([aria-haspopup="menu"]),
    :host([role="menuitemcheckbox"]),
    :host([role="menuitemradio"]) {
        display: grid;
        grid-template-columns: auto auto 1fr minmax(42px, auto);
        align-items: center;
        min-height: 32px;
    }

    :host .input-container,
    :host .expand-collapse-glyph-container {
        display: none;
    }

    :host([aria-haspopup="menu"]) .expand-collapse-glyph-container,
    :host([role="menuitemcheckbox"]) .input-container,
    :host([role="menuitemradio"]) .input-container {
        display: grid;
        margin-inline-end: 10px;
    }

    :host([aria-haspopup="menu"]) .start,
    :host([role="menuitemcheckbox"]) .start,
    :host([role="menuitemradio"]) .start {
        grid-column-start: 2;
        margin-inline-end: 10px;
    }

    :host([aria-haspopup="menu"]) .content,
    :host([role="menuitemcheckbox"]) .content,
    :host([role="menuitemradio"]) .content {
        grid-column-start: 3;
    }

    :host([aria-haspopup="menu"]) .end,
    :host([role="menuitemcheckbox"]) .end,
    :host([role="menuitemradio"]) .end {
        grid-column-start: 4;
    }

    :host .expand-collapse,
    :host .checkbox,
    :host .radio {
        display: flex;
        align-items: center;
        justify-content: center;
        position: relative;
        width: 20px;
        height: 20px;
        box-sizing: border-box;
        outline: none;
        margin-inline-start: 10px;
    }

    :host .checkbox,
    :host .radio {
        border: calc(var(--outline-width) * 1px) solid ${Wd.var};
    }

    :host([aria-checked="true"]) .checkbox,
    :host([aria-checked="true"]) .radio {
        background: ${hh.var};
        border-color: ${hh.var};
    }

    :host .checkbox {
        border-radius: calc(var(--corner-radius) * 1px);
    }

    :host .radio {
        border-radius: 999px;
    }

    :host .checkbox-indicator,
    :host .radio-indicator,
    :host .expand-collapse-indicator,
    ::slotted([slot="checkbox-indicator"]),
    ::slotted([slot="radio-indicator"]),
    ::slotted([slot="expand-collapse-indicator"]) {
        display: none;
    }

    :host([aria-checked="true"]) .checkbox-indicator,
    :host([aria-checked="true"]) ::slotted([slot="checkbox-indicator"]) {
        width: 100%;
        height: 100%;
        display: block;
        fill: ${Wd.var};
        pointer-events: none;
    }

    :host([aria-checked="true"]) .radio-indicator {
        position: absolute;
        top: 4px;
        left: 4px;
        right: 4px;
        bottom: 4px;
        border-radius: 999px;
        display: block;
        background: ${Wd.var};
        pointer-events: none;
    }

    :host([aria-checked="true"]) ::slotted([slot="radio-indicator"]) {
        display: block;
        pointer-events: none;
    }
`.withBehaviors(hh,nh,Sh,Gd,Wd,xh,kh,Vs(Zn`
            :host {
                border-color: transparent;
                color: ${Us.ButtonText};
                forced-color-adjust: none;
            }

            :host(:hover) {
                background: ${Us.Highlight};
                color: ${Us.HighlightText};
            }

            :host(:hover) .start,
            :host(:hover) .end,
            :host(:hover)::slotted(svg),
            :host(:active) .start,
            :host(:active) .end,
            :host(:active)::slotted(svg) {
                fill: ${Us.HighlightText};
            }

            :host(.expanded) {
                background: ${Us.Highlight};
                border-color: ${Us.Highlight};
                color: ${Us.HighlightText};
            }

            :host(:${Th}) {
                background: ${Us.Highlight};
                border-color: ${Us.ButtonText};
                box-shadow: 0 0 0 calc(var(--focus-outline-width) * 1px) inset ${Us.HighlightText};
                color: ${Us.HighlightText};
                fill: currentcolor;
            }

            :host([disabled]),
            :host([disabled]:hover),
            :host([disabled]:hover) .start,
            :host([disabled]:hover) .end,
            :host([disabled]:hover)::slotted(svg) {
                background: ${Us.Canvas};
                color: ${Us.GrayText};
                fill: currentcolor;
                opacity: 1;
            }

            :host .expanded-toggle,
            :host .checkbox,
            :host .radio{
                border-color: ${Us.ButtonText};
                background: ${Us.HighlightText};
            }

            :host([checked="true"]) .checkbox,
            :host([checked="true"]) .radio {
                background: ${Us.HighlightText};
                border-color: ${Us.HighlightText};
            }

            :host(:hover) .expanded-toggle,
            :host(:hover) .checkbox,
            :host(:hover) .radio,
            :host(:${Th}) .expanded-toggle,
            :host(:${Th}) .checkbox,
            :host(:${Th}) .radio,
            :host([checked="true"]:hover) .checkbox,
            :host([checked="true"]:hover) .radio,
            :host([checked="true"]:${Th}) .checkbox,
            :host([checked="true"]:${Th}) .radio {
                border-color: ${Us.HighlightText};
            }

            :host([aria-checked="true"]) {
                background: ${Us.Highlight};
                color: ${Us.HighlightText};
            }

            :host([aria-checked="true"]) .checkbox-indicator,
            :host([aria-checked="true"]) ::slotted([slot="checkbox-indicator"]),
            :host([aria-checked="true"]) ::slotted([slot="radio-indicator"]) {
                fill: ${Us.Highlight};
            }

            :host([aria-checked="true"]) .radio-indicator {
                background: ${Us.Highlight};
            }
        `),new class{constructor(e,t){this.cache=new WeakMap,this.ltr=e,this.rtl=t}bind(e){const t=Fd.findProvider(e);null!==t&&(t.$fastController&&t.$fastController.isConnected?this.attach(e,t):(Array.isArray(t.disconnectedRegistry)||(t.disconnectedRegistry=[]),t.disconnectedRegistry.push(this.attach.bind(this,e))))}unbind(e){const t=this.cache.get(e);t&&Vn.Observable.getNotifier(t[0].designSystem).unsubscribe(t[1])}attach(e,t){const i=new Du(this.ltr,this.rtl,e);Vn.Observable.getNotifier(t.designSystem).subscribe(i,"direction"),i.attach(t.designSystem["direction"]),this.cache.set(e,[t,i])}}(Zn`
            .expand-collapse-glyph {
                transform: rotate(0deg);
            }
            :host([expanded="true"]) .expand-collapse-glyph {
                transform: rotate(45deg);
            }
        `,Zn`
            .expand-collapse-glyph {
                transform: rotate(180deg);
            }
            :host([expanded="true"]) .expand-collapse-glyph {
                transform: rotate(135deg);
            }
        `)),Ou=Nu("fast");let _u=class extends Pu{};_u=Jr([Hr({name:"fast-menu-item",template:Ou,styles:Tu})],_u);null&&styles;function Bu(e){return Ph(e)&&("option"===e.getAttribute("role")||e instanceof HTMLOptionElement)}class Au extends Mr{constructor(e,t,i,o){super(),this.defaultSelected=!1,this.dirtySelected=!1,this.selected=this.defaultSelected,this.dirtyValue=!1,this.initialValue=this.initialValue||"",e&&(this.textContent=e),t&&(this.initialValue=t),i&&(this.defaultSelected=i),o&&(this.selected=o),this.proxy=new Option(`${this.textContent}`,this.initialValue,this.defaultSelected,this.selected),this.proxy.disabled=this.disabled}defaultSelectedChanged(){this.dirtySelected||(this.selected=this.defaultSelected,this.proxy instanceof HTMLOptionElement&&(this.proxy.selected=this.defaultSelected))}disabledChanged(e,t){this.proxy instanceof HTMLOptionElement&&(this.proxy.disabled=this.disabled)}selectedAttributeChanged(){this.defaultSelected=this.selectedAttribute,this.proxy instanceof HTMLOptionElement&&(this.proxy.defaultSelected=this.defaultSelected)}selectedChanged(){this.$fastController.isConnected&&(this.dirtySelected||(this.dirtySelected=!0),this.proxy instanceof HTMLOptionElement&&(this.proxy.selected=this.selected))}initialValueChanged(e,t){this.dirtyValue||(this.value=this.initialValue,this.dirtyValue=!1)}get label(){return this.value?this.value:this.textContent?this.textContent:""}get text(){return this.textContent}set value(e){this._value=e,this.dirtyValue=!0,this.proxy instanceof HTMLElement&&(this.proxy.value=e),Vn.Observable.notify(this,"value")}get value(){return Vn.Observable.track(this,"value"),this._value?this._value:this.text}get form(){return this.proxy?this.proxy.form:null}}es([Vn.observable],Au.prototype,"defaultSelected",void 0),es([Pr({mode:"boolean"})],Au.prototype,"disabled",void 0),es([Pr({attribute:"selected",mode:"boolean"})],Au.prototype,"selectedAttribute",void 0),es([Vn.observable],Au.prototype,"selected",void 0),es([Pr({attribute:"value",mode:"fromView"})],Au.prototype,"initialValue",void 0),ps(Au,ds);const Fu=Sr`
    <template
        aria-selected="${e=>e.selected}"
        class="${e=>e.selected?"selected":""} ${e=>e.disabled?"disabled":""}"
        role="option"
    >
        ${us}
        <span class="content" part="content">
            <slot></slot>
        </span>
        ${hs}
    </template>
`,Ru=Zn`
    ${zd("inline-flex")} :host {
        align-items: center;
        font-family: var(--body-font);
        border-radius: calc(var(--corner-radius) * 1px);
        border: calc(var(--focus-outline-width) * 1px) solid transparent;
        box-sizing: border-box;
        color: ${Wd.var};
        cursor: pointer;
        fill: currentcolor;
        font-size: var(--type-ramp-base-font-size);
        height: calc(${Oh} * 1px);
        line-height: var(--type-ramp-base-line-height);
        margin: 0 calc(var(--design-unit) * 1px);
        outline: none;
        overflow: hidden;
        padding: 0 calc(var(--design-unit) * 2.25px);
        user-select: none;
        white-space: nowrap;
    }

    :host(:${Th}) {
        box-shadow: 0 0 0 calc(var(--focus-outline-width) * 1px) inset ${Lh.var};
        border-color: ${Sh.var};
        background: ${uh.var};
        color: ${eh.var};
    }

    :host([aria-selected="true"]) {
        background: ${uh.var};
        color: ${eh.var};
    }

    :host(:active) {
        background: ${ph.var};
        color: ${eh.var};
    }

    :host(:not([aria-selected="true"]):hover) {
        background: ${ih.var};
        color: ${Gd.var};
    }

    :host(:not([aria-selected="true"]):active) {
        background: ${ih.var};
        color: ${Gd.var};
    }

    :host([disabled]) {
        cursor: ${js};
        opacity: var(--disabled-opacity);
    }

    :host([disabled]:hover) {
        background-color: inherit;
    }

    .content {
        grid-column-start: 2;
        justify-self: start;
        overflow: hidden;
        text-overflow: ellipsis;
    }

    .start,
    .end,
    ::slotted(svg) {
        display: flex;
    }

    ::slotted(svg) {
        ${""}
        height: calc(var(--design-unit) * 4px);
        width: calc(var(--design-unit) * 4px);
    }

    ::slotted([slot="end"]) {
        margin-inline-start: 1ch;
    }

    ::slotted([slot="start"]) {
        margin-inline-end: 1ch;
    }

`.withBehaviors(ph,uh,gh,eh,Vs(Zn`
            :host {
                border-color: transparent;
                forced-color-adjust: none;
                color: ${Us.ButtonText};
                fill: currentcolor;
            }

            :host(:not([aria-selected="true"]):hover),
            :host([aria-selected="true"]) {
                background: ${Us.Highlight};
                color: ${Us.HighlightText};
            }

            :host([disabled]),
            :host([disabled]:not([aria-selected="true"]):hover) {
                background: ${Us.Canvas};
                color: ${Us.GrayText};
                fill: currentcolor;
                opacity: 1;
            }
        `),ih,rh,nh,ah,Sh,Lh,Gd,Wd,wh);let Iu=class extends Au{};Iu=Jr([Hr({name:"fast-option",template:Fu,styles:Ru})],Iu);null&&styles;class Mu extends Mr{}class Hu extends(As(Mu)){constructor(){super(...arguments),this.proxy=document.createElement("input")}}class ju extends Hu{constructor(){var e;super(),this.initialValue="on",this.checkedAttribute=!1,this.dirtyChecked=!1,this.formResetCallback=()=>{this.checked=!!this.defaultChecked,this.dirtyChecked=!1},this.keypressHandler=e=>{switch(e.keyCode){case Cs:return void(this.checked||this.readOnly||(this.checked=!0))}return!0},this.clickHandler=e=>{this.disabled||this.readOnly||this.checked||(this.checked=!0)},this.checked=null!==(e=this.defaultChecked)&&void 0!==e&&e}readOnlyChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.readOnly=this.readOnly)}checkedAttributeChanged(){this.defaultChecked=this.checkedAttribute}defaultCheckedChanged(){var e;this.$fastController.isConnected&&!this.dirtyChecked&&(this.isInsideRadioGroup()||(this.checked=null!==(e=this.defaultChecked)&&void 0!==e&&e,this.dirtyChecked=!1))}checkedChanged(){this.$fastController.isConnected&&(this.dirtyChecked||(this.dirtyChecked=!0),this.updateForm(),this.proxy instanceof HTMLInputElement&&(this.proxy.checked=this.checked),this.$emit("change"),this.validate())}connectedCallback(){var e,t;super.connectedCallback(),this.proxy.setAttribute("type","radio"),this.validate(),"radiogroup"!==(null===(e=this.parentElement)||void 0===e?void 0:e.getAttribute("role"))&&null===this.getAttribute("tabindex")&&(this.disabled||this.setAttribute("tabindex","0")),this.updateForm(),this.checkedAttribute&&(this.dirtyChecked||this.isInsideRadioGroup()||(this.checked=null!==(t=this.defaultChecked)&&void 0!==t&&t,this.dirtyChecked=!1))}isInsideRadioGroup(){return null!==this.closest("[role=radiogroup]")}updateForm(){const e=this.checked?this.value:null;this.setFormValue(e,e)}}es([Pr({attribute:"readonly",mode:"boolean"})],ju.prototype,"readOnly",void 0),es([Vn.observable],ju.prototype,"name",void 0),es([Pr({attribute:"checked",mode:"boolean"})],ju.prototype,"checkedAttribute",void 0),es([Vn.observable],ju.prototype,"defaultSlottedNodes",void 0),es([Vn.observable],ju.prototype,"defaultChecked",void 0),es([Vn.observable],ju.prototype,"checked",void 0);const zu=Sr`
    <template
        role="radio"
        class="${e=>e.checked?"checked":""} ${e=>e.readOnly?"readonly":""}"
        aria-checked="${e=>e.checked}"
        aria-required="${e=>e.required}"
        aria-disabled="${e=>e.disabled}"
        aria-readonly="${e=>e.readOnly}"
        @keypress="${(e,t)=>e.keypressHandler(t.event)}"
        @click="${(e,t)=>e.clickHandler(t.event)}"
    >
        <div part="control" class="control">
            <slot name="checked-indicator">
                <div part="checked-indicator" class="checked-indicator"></div>
            </slot>
        </div>
        <label
            part="label"
            class="${e=>e.defaultSlottedNodes&&e.defaultSlottedNodes.length?"label":"label label__hidden"}"
        >
            <slot ${(0,Vn.slotted)("defaultSlottedNodes")}></slot>
        </label>
    </template>
`,Vu=Zn`
    ${zd("inline-flex")} :host {
        --input-size: calc((${Oh} / 2) + var(--design-unit));
        align-items: center;
        outline: none;
        margin: calc(var(--design-unit) * 1px) 0;
        ${""} user-select: none;
        position: relative;
        flex-direction: row;
        transition: all 0.2s ease-in-out;
    }

    .control {
        position: relative;
        width: calc((${Oh} / 2 + var(--design-unit)) * 1px);
        height: calc((${Oh} / 2 + var(--design-unit)) * 1px);
        box-sizing: border-box;
        border-radius: 999px;
        border: calc(var(--outline-width) * 1px) solid ${fh.var};
        background: ${lh.var};
        outline: none;
        cursor: pointer;
    }

    .label {
        font-family: var(--body-font);
        color: ${Wd.var};
        ${""} padding-inline-start: calc(var(--design-unit) * 2px + 2px);
        margin-inline-end: calc(var(--design-unit) * 2px + 2px);
        cursor: pointer;
        font-size: var(--type-ramp-base-font-size);
        line-height: var(--type-ramp-base-line-height);
    }

    .label__hidden {
        display: none;
        visibility: hidden;
    }

    .control, .checked-indicator {
        flex-shrink: 0;
    }

    .checked-indicator {
        position: absolute;
        top: 5px;
        left: 5px;
        right: 5px;
        bottom: 5px;
        border-radius: 999px;
        display: inline-block;
        background: ${eh.var};
        fill: ${eh.var};
        opacity: 0;
        pointer-events: none;
    }

    :host(:not([disabled])) .control:hover{
        background: ${ch.var};
        border-color: ${vh.var};
    }

    :host(:not([disabled])) .control:active {
        background: ${dh.var};
        border-color: ${bh.var};
    }

    :host(:${Th}) .control {
        box-shadow: 0 0 0 2px var(--background-color), 0 0 0 4px ${Sh.var};
        border-color: ${Sh.var};
    }

    :host([aria-checked="true"]) .control {
        background: ${hh.var};
        border: calc(var(--outline-width) * 1px) solid ${hh.var};
    }

    :host([aria-checked="true"]:not([disabled])) .control:hover {
        background: ${uh.var};
        border: calc(var(--outline-width) * 1px) solid ${uh.var};
    }

    :host([aria-checked="true"]:not([disabled])) .control:active {
        background: ${ph.var};
        border: calc(var(--outline-width) * 1px) solid ${ph.var};
    }

    :host([aria-checked="true"]:${Th}:not([disabled])) .control {
        box-shadow: 0 0 0 2px var(--background-color), 0 0 0 4px ${Sh.var};
        border-color: transparent;
    }

    :host([disabled]) .label,
    :host([readonly]) .label,
    :host([readonly]) .control,
    :host([disabled]) .control {
        cursor: ${js};
    }

    :host([aria-checked="true"]) .checked-indicator {
        opacity: 1;
    }

    :host([disabled]) {
        opacity: var(--disabled-opacity);
    }
`.withBehaviors(ph,uh,hh,eh,dh,ch,lh,Sh,Wd,bh,vh,fh,Vs(Zn`
            .control,
            :host([checked]:not([disabled])) .control {
                forced-color-adjust: none;
                border-color: ${Us.FieldText};
                background: ${Us.Field};
            }
            :host(:not([disabled])) .control:hover {
                border-color: ${Us.Highlight};
                background: ${Us.Field};
            }
            :host([checked]:not([disabled])) .control:hover,
            :host([checked]:not([disabled])) .control:active {
                border-color: ${Us.Highlight};
                background: ${Us.Highlight};
            }
            :host([checked]) .checked-indicator {
                background: ${Us.Highlight};
                fill: ${Us.Highlight};
            }
            :host([checked]:not([disabled])) .control:hover .checked-indicator,
            :host([checked]:not([disabled])) .control:active .checked-indicator {
                background: ${Us.HighlightText};
                fill: ${Us.HighlightText};
            }
            :host(:${Th}) .control {
                border-color: ${Us.Highlight};
                box-shadow: 0 0 0 2px ${Us.Field}, 0 0 0 4px ${Us.FieldText};
            }
            :host([checked]:${Th}:not([disabled])) .control {
                border-color: ${Us.Highlight};
                box-shadow: 0 0 0 2px ${Us.Field}, 0 0 0 4px ${Us.FieldText};
            }
            :host([disabled]) {
                forced-color-adjust: none;
                opacity: 1;
            }
            :host([disabled]) .label {
                color: ${Us.GrayText};
            }
            :host([disabled]) .control,
            :host([checked][disabled]) .control:hover, .control:active {
                background: ${Us.Field};
                border-color: ${Us.GrayText};
            }
            :host([disabled]) .checked-indicator,
            :host([checked][disabled]) .control:hover .checked-indicator {
                fill: ${Us.GrayText};
                background: ${Us.GrayText};
            }
        `));let Uu=class extends ju{};Uu=Jr([Hr({name:"fast-radio",template:zu,styles:Vu})],Uu);null&&styles;var qu;!function(e){e["horizontal"]="horizontal",e["vertical"]="vertical"}(qu||(qu={}));class Ku extends Mr{constructor(){super(...arguments),this.orientation=qu.horizontal,this.radioChangeHandler=e=>{const t=e.target;t.checked&&(this.slottedRadioButtons.forEach((e=>{e!==t&&(e.checked=!1,this.isInsideFoundationToolbar||e.setAttribute("tabindex","-1"))})),this.selectedRadio=t,this.value=t.value,t.setAttribute("tabindex","0"),this.focusedRadio=t),e.stopPropagation()},this.moveToRadioByIndex=(e,t)=>{const i=e[t];this.isInsideToolbar||(i.setAttribute("tabindex","0"),i.readOnly?this.slottedRadioButtons.forEach((e=>{e!==i&&e.setAttribute("tabindex","-1")})):(i.checked=!0,this.selectedRadio=i)),this.focusedRadio=i,i.focus()},this.moveRightOffGroup=()=>{var e;null===(e=this.nextElementSibling)||void 0===e||e.focus()},this.moveLeftOffGroup=()=>{var e;null===(e=this.previousElementSibling)||void 0===e||e.focus()},this.focusOutHandler=e=>{const t=this.slottedRadioButtons,i=e.target,o=null!==i?t.indexOf(i):0,n=this.focusedRadio?t.indexOf(this.focusedRadio):-1;return(0===n&&o===n||n===t.length-1&&n===o)&&(this.selectedRadio?(this.focusedRadio=this.selectedRadio,this.isInsideFoundationToolbar||(this.selectedRadio.setAttribute("tabindex","0"),t.forEach((e=>{e!==this.selectedRadio&&e.setAttribute("tabindex","-1")})))):(this.focusedRadio=t[0],this.focusedRadio.setAttribute("tabindex","0"),t.forEach((e=>{e!==this.focusedRadio&&e.setAttribute("tabindex","-1")})))),!0},this.clickHandler=e=>{const t=e.target;if(t){const e=this.slottedRadioButtons;t.checked||0===e.indexOf(t)?(t.setAttribute("tabindex","0"),this.selectedRadio=t):(t.setAttribute("tabindex","-1"),this.selectedRadio=null),this.focusedRadio=t}e.preventDefault()},this.shouldMoveOffGroupToTheRight=(e,t,i)=>e===t.length&&this.isInsideToolbar&&i===bs,this.shouldMoveOffGroupToTheLeft=(e,t)=>(this.focusedRadio?e.indexOf(this.focusedRadio)-1:0)<0&&this.isInsideToolbar&&t===vs,this.checkFocusedRadio=()=>{null===this.focusedRadio||this.focusedRadio.readOnly||this.focusedRadio.checked||(this.focusedRadio.checked=!0,this.focusedRadio.setAttribute("tabindex","0"),this.focusedRadio.focus(),this.selectedRadio=this.focusedRadio)},this.moveRight=e=>{const t=this.slottedRadioButtons;let i=0;if(i=this.focusedRadio?t.indexOf(this.focusedRadio)+1:1,this.shouldMoveOffGroupToTheRight(i,t,e.keyCode))this.moveRightOffGroup();else for(i===t.length&&(i=0);i<t.length&&t.length>1;){if(!t[i].disabled){this.moveToRadioByIndex(t,i);break}if(this.focusedRadio&&i===t.indexOf(this.focusedRadio))break;if(i+1>=t.length){if(this.isInsideToolbar)break;i=0}else i+=1}},this.moveLeft=e=>{const t=this.slottedRadioButtons;let i=0;if(i=this.focusedRadio?t.indexOf(this.focusedRadio)-1:0,i=i<0?t.length-1:i,this.shouldMoveOffGroupToTheLeft(t,e.keyCode))this.moveLeftOffGroup();else for(;i>=0&&t.length>1;){if(!t[i].disabled){this.moveToRadioByIndex(t,i);break}if(this.focusedRadio&&i===t.indexOf(this.focusedRadio))break;i-1<0?i=t.length-1:i-=1}},this.keydownHandler=e=>{const t=e.key;if(t in Ds&&this.isInsideFoundationToolbar)return!0;switch(t){case Ps:this.checkFocusedRadio();break;case Es:case Ls:this.direction===Zr.ltr?this.moveRight(e):this.moveLeft(e);break;case $s:case Ns:this.direction===Zr.ltr?this.moveLeft(e):this.moveRight(e);break;default:return!0}}}readOnlyChanged(){void 0!==this.slottedRadioButtons&&this.slottedRadioButtons.forEach((e=>{this.readOnly?e.readOnly=!0:e.readOnly=!1}))}disabledChanged(){void 0!==this.slottedRadioButtons&&this.slottedRadioButtons.forEach((e=>{this.disabled?e.disabled=!0:e.disabled=!1}))}nameChanged(){this.slottedRadioButtons&&this.slottedRadioButtons.forEach((e=>{e.setAttribute("name",this.name)}))}valueChanged(){this.slottedRadioButtons&&this.slottedRadioButtons.forEach((e=>{e.getAttribute("value")===this.value&&(e.checked=!0,this.selectedRadio=e)})),this.$emit("change")}slottedRadioButtonsChanged(e,t){this.slottedRadioButtons&&this.slottedRadioButtons.length>0&&this.setupRadioButtons()}get parentToolbar(){return this.closest('[role="toolbar"]')}get isInsideToolbar(){var e;return null!==(e=this.parentToolbar)&&void 0!==e&&e}get isInsideFoundationToolbar(){var e;return!!(null===(e=this.parentToolbar)||void 0===e?void 0:e["$fastController"])}connectedCallback(){super.connectedCallback(),this.direction=os(this),this.setupRadioButtons()}disconnectedCallback(){this.slottedRadioButtons.forEach((e=>{e.removeEventListener("change",this.radioChangeHandler)}))}setupRadioButtons(){const e=this.slottedRadioButtons.filter((e=>e.hasAttribute("checked"))),t=e?e.length:0;if(t>1){e[t-1].checked=!0}let i=!1;if(this.slottedRadioButtons.forEach((e=>{void 0!==this.name&&e.setAttribute("name",this.name),this.disabled&&(e.disabled=!0),this.readOnly&&(e.readOnly=!0),this.value&&this.value===e.getAttribute("value")?(this.selectedRadio=e,this.focusedRadio=e,e.checked=!0,e.setAttribute("tabindex","0"),i=!0):(this.isInsideFoundationToolbar||e.setAttribute("tabindex","-1"),e.checked=!1),e.addEventListener("change",this.radioChangeHandler)})),void 0===this.value&&this.slottedRadioButtons.length>0){const e=this.slottedRadioButtons.filter((e=>e.hasAttribute("checked"))),t=null!==e?e.length:0;if(t>0&&!i){const i=e[t-1];i.checked=!0,this.focusedRadio=i,i.setAttribute("tabindex","0")}else this.slottedRadioButtons[0].setAttribute("tabindex","0"),this.focusedRadio=this.slottedRadioButtons[0]}}}es([Pr({attribute:"readonly",mode:"boolean"})],Ku.prototype,"readOnly",void 0),es([Pr({attribute:"disabled",mode:"boolean"})],Ku.prototype,"disabled",void 0),es([Pr],Ku.prototype,"name",void 0),es([Pr],Ku.prototype,"value",void 0),es([Pr],Ku.prototype,"orientation",void 0),es([Vn.observable],Ku.prototype,"childItems",void 0),es([Vn.observable],Ku.prototype,"slottedRadioButtons",void 0);var Wu=i(928);const Gu=Sr`
    <template
        role="radiogroup"
        aria-disabled="${e=>e.disabled}"
        aria-readonly="${e=>e.readOnly}"
        @click="${(e,t)=>e.clickHandler(t.event)}"
        @keydown="${(e,t)=>e.keydownHandler(t.event)}"
        @focusout="${(e,t)=>e.focusOutHandler(t.event)}"
    >
        <slot name="label"></slot>
        <div
            class="positioning-region ${e=>e.orientation===qu.horizontal?"horizontal":"vertical"}"
            part="positioning-region"
        >
            <slot
                ${(0,Vn.slotted)({property:"slottedRadioButtons",filter:(0,Wu.R)("[role=radio]")})}
            ></slot>
        </div>
    </template>
`,Xu=Zn`
    ${zd("flex")} :host {
        align-items: flex-start;
        margin: calc(var(--design-unit) * 1px) 0;
        flex-direction: column;
    }
    .positioning-region {
        display: flex;
        flex-wrap: wrap;
    }
    :host([orientation="vertical"]) .positioning-region {
        flex-direction: column;
    }
    :host([orientation="horizontal"]) .positioning-region {
        flex-direction: row;
    }
`;let Yu=class extends Ku{};Yu=Jr([Hr({name:"fast-radio-group",template:Gu,styles:Xu})],Yu);null&&styles;var Qu=function(e,t){for(var i=-1,o=null==e?0:e.length,n=Array(o);++i<o;)n[i]=t(e[i],i,e);return n},Ju=1/0,Zu=Fe?Fe.prototype:void 0,ep=Zu?Zu.toString:void 0;var tp=function e(t){if("string"==typeof t)return t;if(ti(t))return Qu(t,e)+"";if(Rc(t))return ep?ep.call(t):"";var i=t+"";return"0"==i&&1/t==-Ju?"-0":i};var ip=function(e){return null==e?"":tp(e)},op=0;var np,rp,sp,ap=function(e){var t=++op;return ip(e)+t};!function(e){e["listbox"]="listbox"}(np||(np={}));class lp extends Mr{constructor(){super(...arguments),this.selectedIndex=-1,this.typeaheadBuffer="",this.typeaheadTimeout=-1,this.typeAheadExpired=!0,this.role=np.listbox,this._options=[],this.selectedOptions=[],this.shouldSkipFocus=!1,this.handleTypeAhead=e=>{this.typeaheadTimeout&&window.clearTimeout(this.typeaheadTimeout),this.typeaheadTimeout=window.setTimeout((()=>this.typeAheadExpired=!0),lp.TYPE_AHEAD_TIMEOUT_MS),e.length>1||(this.typeaheadBuffer=`${this.typeAheadExpired?"":this.typeaheadBuffer}${e}`)}}selectedIndexChanged(e,t){this.setSelectedOptions()}typeaheadBufferChanged(e,t){if(this.$fastController.isConnected){const e=this.typeaheadBuffer.replace(/[.*+\-?^${}()|[\]\\]/g,"\\$&"),t=new RegExp(`^${e}`,"gi"),i=this.options.filter((e=>e.text.trim().match(t)));if(i.length){const e=this.options.indexOf(i[0]);e>-1&&(this.selectedIndex=e)}this.typeAheadExpired=!1}}slottedOptionsChanged(e,t){this.$fastController.isConnected&&(this.options=t.reduce(((e,t)=>(Bu(t)&&e.push(t),e)),[]),this.options.forEach((e=>{e.id=e.id||ap("option-")})),this.setSelectedOptions(),this.setDefaultSelectedOption())}get options(){return Vn.Observable.track(this,"options"),this._options}set options(e){this._options=e,Vn.Observable.notify(this,"options")}selectedOptionsChanged(e,t){this.$fastController.isConnected&&this.options.forEach((e=>{e.selected=t.includes(e)}))}get firstSelectedOption(){return this.selectedOptions[0]}focusAndScrollOptionIntoView(){this.contains(document.activeElement)&&this.firstSelectedOption&&(this.firstSelectedOption.focus(),requestAnimationFrame((()=>{this.firstSelectedOption.scrollIntoView({block:"nearest"})})))}focusinHandler(e){this.shouldSkipFocus||e.target!==e.currentTarget||(this.setSelectedOptions(),this.focusAndScrollOptionIntoView()),this.shouldSkipFocus=!1}mousedownHandler(e){return this.shouldSkipFocus=!this.contains(document.activeElement),!0}setDefaultSelectedOption(){if(this.options&&this.$fastController.isConnected){const e=this.options.findIndex((e=>null!==e.getAttribute("selected")));if(-1!==e)return void(this.selectedIndex=e);this.selectedIndex=0}}setSelectedOptions(){if(this.$fastController.isConnected&&this.options){const e=this.options[this.selectedIndex]||null;this.selectedOptions=this.options.filter((t=>t.isSameNode(e))),this.ariaActiveDescendant=this.firstSelectedOption?this.firstSelectedOption.id:"",this.focusAndScrollOptionIntoView()}}selectFirstOption(){this.disabled||(this.selectedIndex=0)}selectLastOption(){this.disabled||(this.selectedIndex=this.options.length-1)}selectNextOption(){!this.disabled&&this.options&&this.selectedIndex<this.options.length-1&&(this.selectedIndex+=1)}get length(){return this.options?this.options.length:0}selectPreviousOption(){!this.disabled&&this.selectedIndex>0&&(this.selectedIndex=this.selectedIndex-1)}clickHandler(e){const t=e.target.closest(`option,[role=option]`);if(t&&!t.disabled)return this.selectedIndex=this.options.indexOf(t),!0}keydownHandler(e){if(this.disabled)return!0;this.shouldSkipFocus=!1;const t=e.key;switch(t){case"Home":e.shiftKey||(e.preventDefault(),this.selectFirstOption());break;case"ArrowDown":e.shiftKey||(e.preventDefault(),this.selectNextOption());break;case"ArrowUp":e.shiftKey||(e.preventDefault(),this.selectPreviousOption());break;case"End":e.preventDefault(),this.selectLastOption();break;case"Tab":return this.focusAndScrollOptionIntoView(),!0;case"Enter":case"Escape":return!0;case" ":if(this.typeAheadExpired)return!0;default:return 1===t.length&&this.handleTypeAhead(`${t}`),!0}}}lp.TYPE_AHEAD_TIMEOUT_MS=1e3,lp.slottedOptionFilter=e=>Bu(e)&&!e.disabled&&!e.hidden,es([Vn.observable],lp.prototype,"selectedIndex",void 0),es([Vn.observable],lp.prototype,"typeaheadBuffer",void 0),es([Pr],lp.prototype,"role",void 0),es([Pr({mode:"boolean"})],lp.prototype,"disabled",void 0),es([Vn.observable],lp.prototype,"slottedOptions",void 0),es([Vn.observable],lp.prototype,"selectedOptions",void 0);class cp{constructor(){this.ariaActiveDescendant=""}}es([Vn.observable],cp.prototype,"ariaActiveDescendant",void 0),es([Vn.observable],cp.prototype,"ariaDisabled",void 0),es([Vn.observable],cp.prototype,"ariaExpanded",void 0),ps(cp,cs),ps(lp,cp);class dp extends lp{}class hp extends(As(dp)){constructor(){super(...arguments),this.proxy=document.createElement("select")}}!function(e){e["above"]="above",e["below"]="below"}(rp||(rp={})),function(e){e["combobox"]="combobox"}(sp||(sp={}));class up extends hp{constructor(){super(...arguments),this.open=!1,this.forcedPosition=!1,this.role=sp.combobox,this.position=rp.below,this.maxHeight=0,this.displayValue="",this.formResetCallback=()=>{this.setProxyOptions(),this.setDefaultSelectedOption(),this.value=this.firstSelectedOption.value}}openChanged(){this.ariaExpanded=this.open?"true":"false",this.open&&(this.setPositioning(),this.focusAndScrollOptionIntoView(),this.indexWhenOpened=this.selectedIndex)}get value(){return Vn.Observable.track(this,"value"),this._value}set value(e){const t=`${this._value}`;if(this.$fastController.isConnected&&this.options){const t=this.options.findIndex((t=>t.value===e)),i=this.options[this.selectedIndex],o=this.options[t],n=i?i.value:null,r=o?o.value:null;-1!==t&&n===r||(e="",this.selectedIndex=t),this.firstSelectedOption&&(e=this.firstSelectedOption.value)}t!==e&&(this._value=e,super.valueChanged(t,e),Vn.Observable.notify(this,"value"))}updateValue(e){this.$fastController.isConnected&&(this.value=this.firstSelectedOption?this.firstSelectedOption.value:"",this.displayValue=this.firstSelectedOption?this.firstSelectedOption.textContent||this.firstSelectedOption.value:this.value),e&&this.$emit("change")}selectedIndexChanged(e,t){super.selectedIndexChanged(e,t),this.updateValue()}setPositioning(){const e=this.getBoundingClientRect(),t=window.innerHeight-e.bottom;this.position=this.forcedPosition?this.positionAttribute:e.top>t?rp.above:rp.below,this.positionAttribute=this.forcedPosition?this.positionAttribute:this.position,this.maxHeight=this.position===rp.above?~~e.top:~~t}disabledChanged(e,t){super.disabledChanged&&super.disabledChanged(e,t),this.ariaDisabled=this.disabled?"true":"false"}clickHandler(e){if(!this.disabled){if(this.open){const t=e.target.closest(`option,[role=option]`);if(t&&t.disabled)return}return super.clickHandler(e),this.open=!this.open,this.open||this.indexWhenOpened===this.selectedIndex||this.updateValue(!0),!0}}focusoutHandler(e){if(!this.open)return!0;const t=e.relatedTarget;this.isSameNode(t)?this.focus():this.options&&this.options.includes(t)||(this.open=!1)}slottedOptionsChanged(e,t){super.slottedOptionsChanged(e,t),this.setProxyOptions(),this.updateValue()}setProxyOptions(){this.proxy instanceof HTMLSelectElement&&this.options&&(this.proxy.options.length=0,this.options.forEach((e=>{const t=e.proxy||(e instanceof HTMLOptionElement?e.cloneNode():null);t&&this.proxy.appendChild(t)})))}keydownHandler(e){super.keydownHandler(e);switch(e.key||e.key.charCodeAt(0)){case" ":this.typeAheadExpired&&(e.preventDefault(),this.open=!this.open);break;case"Enter":e.preventDefault(),this.open=!this.open;break;case"Escape":this.open&&(e.preventDefault(),this.open=!1);break;case"Tab":if(!this.open)return!0;e.preventDefault(),this.open=!1}return this.open||this.indexWhenOpened===this.selectedIndex||this.updateValue(!0),!0}connectedCallback(){super.connectedCallback(),this.forcedPosition=!!this.positionAttribute}}es([Pr({attribute:"open",mode:"boolean"})],up.prototype,"open",void 0),es([Pr({attribute:"position"})],up.prototype,"positionAttribute",void 0),es([Vn.observable],up.prototype,"position",void 0),es([Vn.observable],up.prototype,"maxHeight",void 0),es([Vn.observable],up.prototype,"displayValue",void 0);class pp{}es([Vn.observable],pp.prototype,"ariaExpanded",void 0),es([Pr({attribute:"aria-pressed",mode:"fromView"})],pp.prototype,"ariaPressed",void 0),ps(pp,cs),ps(up,ds,pp);const gp=Sr`
    <template
        class="${e=>e.open?"open":""} ${e=>e.disabled?"disabled":""} ${e=>e.position}"
        role="${e=>e.role}"
        tabindex="${e=>e.disabled?null:"0"}"
        aria-disabled="${e=>e.ariaDisabled}"
        aria-expanded="${e=>e.ariaExpanded}"
        @click="${(e,t)=>e.clickHandler(t.event)}"
        @focusout="${(e,t)=>e.focusoutHandler(t.event)}"
        @keydown="${(e,t)=>e.keydownHandler(t.event)}"
    >
        <div
            aria-activedescendant="${e=>e.open?e.ariaActiveDescendant:null}"
            aria-controls="listbox"
            aria-expanded="${e=>e.ariaExpanded}"
            aria-haspopup="listbox"
            class="control"
            part="control"
            role="button"
            ?disabled="${e=>e.disabled}"
        >
            ${us}
            <slot name="button-container">
                <div class="selected-value" part="selected-value">
                    <slot name="selected-value">${e=>e.displayValue}</slot>
                </div>
                <div class="indicator" part="indicator" aria-hidden="true">
                    <slot name="indicator">
                        <svg
                            class="select-indicator"
                            part="select-indicator"
                            viewBox="0 0 12 7"
                            xmlns="http://www.w3.org/2000/svg"
                        >
                            <path
                                d="M11.85.65c.2.2.2.5 0 .7L6.4 6.84a.55.55 0 01-.78 0L.14 1.35a.5.5 0 11.71-.7L6 5.8 11.15.65c.2-.2.5-.2.7 0z"
                            />
                        </svg>
                    </slot>
                </div>
            </slot>
            ${hs}
        </div>
        <div
            aria-disabled="${e=>e.disabled}"
            class="listbox"
            id="listbox"
            part="listbox"
            role="listbox"
            style="--max-height: ${e=>e.maxHeight}px"
            ?disabled="${e=>e.disabled}"
            ?hidden="${e=>!e.open}"
        >
            <slot
                ${(0,Vn.slotted)({filter:lp.slottedOptionFilter,flatten:!0,property:"slottedOptions"})}
            ></slot>
        </div>
    </template>
`,fp=Zn`
    ${zd("inline-flex")} :host {
        --elevation: 14;
        background: ${lh.var};
        border-radius: calc(var(--corner-radius) * 1px);
        border: calc(var(--outline-width) * 1px) solid ${hh.var};
        box-sizing: border-box;
        color: ${Wd.var};
        font-family: var(--body-font);
        height: calc(${Oh} * 1px);
        position: relative;
        user-select: none;
        min-width: 250px;
        outline: none;
        vertical-align: top;
    }

    .listbox {
        ${au}
        background: ${yh.var};
        border: calc(var(--outline-width) * 1px) solid ${fh.var};
        border-radius: calc(var(--corner-radius) * 1px);
        box-sizing: border-box;
        display: inline-flex;
        flex-direction: column;
        left: 0;
        max-height: calc(var(--max-height) - (${Oh} * 1px));
        padding: calc(var(--design-unit) * 1px) 0;
        overflow-y: auto;
        position: absolute;
        width: 100%;
        z-index: 1;
    }

    .listbox[hidden] {
        display: none;
    }

    .control {
        align-items: center;
        box-sizing: border-box;
        cursor: pointer;
        display: flex;
        font-size: var(--type-ramp-base-font-size);
        font-family: inherit;
        line-height: var(--type-ramp-base-line-height);
        min-height: 100%;
        padding: 0 calc(var(--design-unit) * 2.25px);
        width: 100%;
    }

    :host(:not([disabled]):hover) {
        background: ${ch.var};
        border-color: ${uh.var};
    }

    :host(:${Th}) {
        border-color: ${Sh.var};
        box-shadow: 0 0 0 calc(var(--focus-outline-width) * 1px) ${Sh.var};
    }

    :host(:${Th}) ::slotted([aria-selected="true"][role="option"]:not([disabled])) {
        box-shadow: 0 0 0 calc(var(--focus-outline-width) * 1px) inset ${Lh.var};
        border-color: ${Sh.var};
        background: ${uh.var};
        color: ${eh.var};
    }

    :host([disabled]) {
        cursor: ${js};
        opacity: var(--disabled-opacity);
    }

    :host([disabled]) .control {
        cursor: ${js};
        user-select: none;
    }

    :host([disabled]:hover) {
        background: ${nh.var};
        color: ${Wd.var};
        fill: currentcolor;
    }

    :host(:not([disabled])) .control:active {
        background: ${dh.var};
        border-color: ${ph.var};
    }

    :host([open][position="above"]) .listbox,
    :host([open][position="below"]) .control {
        border-bottom-left-radius: 0;
        border-bottom-right-radius: 0;
    }

    :host([open][position="above"]) .control,
    :host([open][position="below"]) .listbox {
        border-top-left-radius: 0;
        border-top-right-radius: 0;
    }

    :host([open][position="above"]) .listbox {
        border-bottom: 0;
        bottom: calc(${Oh} * 1px);
    }

    :host([open][position="below"]) .listbox {
        border-top: 0;
        top: calc(${Oh} * 1px);
    }

    .selected-value {
        flex: 1 1 auto;
        font-family: inherit;
        text-align: start;
        white-space: nowrap;
        text-overflow: ellipsis;
        overflow: hidden;
    }

    .indicator {
        flex: 0 0 auto;
        margin-inline-start: 1em;
    }

    slot[name="listbox"] {
        display: none;
        width: 100%;
    }

    :host([open]) slot[name="listbox"] {
        display: flex;
        position: absolute;
        ${au}
    }

    .end {
        margin-inline-start: auto;
    }

    .start,
    .end,
    .indicator,
    .select-indicator,
    ::slotted(svg) {
        ${``}
        fill: currentcolor;
        height: 1em;
        min-height: calc(var(--design-unit) * 4px);
        min-width: calc(var(--design-unit) * 4px);
        width: 1em;
    }

    ::slotted([role="option"]),
    ::slotted(option) {
        flex: 0 0 auto;
    }

`.withBehaviors(ph,uh,hh,eh,Zd,Vs(Zn`
            :host(:not([disabled]):hover),
            :host(:not([disabled]):active) {
                border-color: ${Us.Highlight};
            }

            :host(:not([disabled]):${Th}) {
                background-color: ${Us.ButtonFace};
                box-shadow: 0 0 0 calc(var(--focus-outline-width) * 1px) ${Us.Highlight};
                color: ${Us.ButtonText};
                fill: currentcolor;
                forced-color-adjust: none;
            }

            :host(:not([disabled]):${Th}) .listbox {
                background: ${Us.ButtonFace};
            }

            :host([disabled]) {
                border-color: ${Us.GrayText};
                background-color: ${Us.ButtonFace};
                color: ${Us.GrayText};
                fill: currentcolor;
                opacity: 1;
                forced-color-adjust: none;
            }

            :host([disabled]:hover) {
                background: ${Us.ButtonFace};
            }

            :host([disabled]) .control {
                color: ${Us.GrayText};
                border-color: ${Us.GrayText};
            }

            :host([disabled]) .control .select-indicator {
                fill: ${Us.GrayText};
            }

            :host(:${Th}) ::slotted([aria-selected="true"][role="option"]),
            :host(:${Th}) ::slotted(option[aria-selected="true"]),
            :host(:${Th}) ::slotted([aria-selected="true"][role="option"]:not([disabled])) {
                background: ${Us.Highlight};
                border-color: ${Us.ButtonText};
                box-shadow: 0 0 0 calc(var(--focus-outline-width) * 1px) inset ${Us.HighlightText};
                color: ${Us.HighlightText};
                fill: currentcolor;
            }

            .start,
            .end,
            .indicator,
            .select-indicator,
            ::slotted(svg) {
                color: ${Us.ButtonText};
                fill: currentcolor;
            }
        `),dh,ch,lh,Sh,Lh,Wd,yh,fh);let vp=class extends up{};vp=Jr([Hr({name:"fast-select",template:gp,styles:fp})],vp);null&&styles;class bp extends Mr{}class mp extends(As(bp)){constructor(){super(...arguments),this.proxy=document.createElement("input")}}var yp;!function(e){e["email"]="email",e["password"]="password",e["tel"]="tel",e["text"]="text",e["url"]="url"}(yp||(yp={}));class wp extends mp{constructor(){super(...arguments),this.type=yp.text}readOnlyChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.readOnly=this.readOnly,this.validate())}autofocusChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.autofocus=this.autofocus,this.validate())}placeholderChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.placeholder=this.placeholder)}typeChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.type=this.type,this.validate())}listChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.setAttribute("list",this.list),this.validate())}maxlengthChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.maxLength=this.maxlength,this.validate())}minlengthChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.minLength=this.minlength,this.validate())}patternChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.pattern=this.pattern,this.validate())}sizeChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.size=this.size)}spellcheckChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.spellcheck=this.spellcheck)}connectedCallback(){super.connectedCallback(),this.proxy.setAttribute("type",this.type),this.validate(),this.autofocus&&qn.SO.queueUpdate((()=>{this.focus()}))}handleTextInput(){this.value=this.control.value}handleChange(){this.$emit("change")}}es([Pr({attribute:"readonly",mode:"boolean"})],wp.prototype,"readOnly",void 0),es([Pr({mode:"boolean"})],wp.prototype,"autofocus",void 0),es([Pr],wp.prototype,"placeholder",void 0),es([Pr],wp.prototype,"type",void 0),es([Pr],wp.prototype,"list",void 0),es([Pr({converter:Er})],wp.prototype,"maxlength",void 0),es([Pr({converter:Er})],wp.prototype,"minlength",void 0),es([Pr],wp.prototype,"pattern",void 0),es([Pr({converter:Er})],wp.prototype,"size",void 0),es([Pr({mode:"boolean"})],wp.prototype,"spellcheck",void 0),es([Vn.observable],wp.prototype,"defaultSlottedNodes",void 0);class xp{}ps(xp,cs),ps(wp,ds,xp);const kp=Sr`
    <template
        class="
            ${e=>e.readOnly?"readonly":""}
        "
    >
        <label
            part="label"
            for="control"
            class="${e=>e.defaultSlottedNodes&&e.defaultSlottedNodes.length?"label":"label label__hidden"}"
        >
            <slot
                ${(0,Vn.slotted)({property:"defaultSlottedNodes",filter:function(e,t,i){return e.nodeType!==Node.TEXT_NODE||"string"==typeof e.nodeValue&&!!e.nodeValue.trim().length}})}
            ></slot>
        </label>
        <div class="root" part="root">
            ${us}
            <input
                class="control"
                part="control"
                id="control"
                @input="${e=>e.handleTextInput()}"
                @change="${e=>e.handleChange()}"
                ?autofocus="${e=>e.autofocus}"
                ?disabled="${e=>e.disabled}"
                list="${e=>e.list}"
                maxlength="${e=>e.maxlength}"
                minlength="${e=>e.minlength}"
                pattern="${e=>e.pattern}"
                placeholder="${e=>e.placeholder}"
                ?readonly="${e=>e.readOnly}"
                ?required="${e=>e.required}"
                size="${e=>e.size}"
                ?spellcheck="${e=>e.spellcheck}"
                :value="${e=>e.value}"
                type="${e=>e.type}"
                aria-atomic="${e=>e.ariaAtomic}"
                aria-busy="${e=>e.ariaBusy}"
                aria-controls="${e=>e.ariaControls}"
                aria-current="${e=>e.ariaCurrent}"
                aria-describedBy="${e=>e.ariaDescribedby}"
                aria-details="${e=>e.ariaDetails}"
                aria-disabled="${e=>e.ariaDisabled}"
                aria-errormessage="${e=>e.ariaErrormessage}"
                aria-flowto="${e=>e.ariaFlowto}"
                aria-haspopup="${e=>e.ariaHaspopup}"
                aria-hidden="${e=>e.ariaHidden}"
                aria-invalid="${e=>e.ariaInvalid}"
                aria-keyshortcuts="${e=>e.ariaKeyshortcuts}"
                aria-label="${e=>e.ariaLabel}"
                aria-labelledby="${e=>e.ariaLabelledby}"
                aria-live="${e=>e.ariaLive}"
                aria-owns="${e=>e.ariaOwns}"
                aria-relevant="${e=>e.ariaRelevant}"
                aria-roledescription="${e=>e.ariaRoledescription}"
                ${(0,Vn.ref)("control")}
            />
            ${hs}
        </div>
    </template>
`,Cp=Zn`
    ${zd("inline-block")} :host {
        font-family: var(--body-font);
        outline: none;
        user-select: none;
    }

    .root {
        box-sizing: border-box;
        position: relative;
        display: flex;
        flex-direction: row;
        color: ${Wd.var};
        background: ${lh.var};
        border-radius: calc(var(--corner-radius) * 1px);
        border: calc(var(--outline-width) * 1px) solid ${hh.var};
        height: calc(${Oh} * 1px);
    }

    .control {
        -webkit-appearance: none;
        font: inherit;
        background: transparent;
        border: 0;
        color: inherit;
        height: calc(100% - 4px);
        width: 100%;
        margin-top: auto;
        margin-bottom: auto;
        border: none;
        padding: 0 calc(var(--design-unit) * 2px + 1px);
        font-size: var(--type-ramp-base-font-size);
        line-height: var(--type-ramp-base-line-height);
    }

    .control:hover,
    .control:${Th},
    .control:disabled,
    .control:active {
        outline: none;
    }

    .label {
        display: block;
        color: ${Wd.var};
        cursor: pointer;
        font-size: var(--type-ramp-base-font-size);
        line-height: var(--type-ramp-base-line-height);
        margin-bottom: 4px;
    }

    .label__hidden {
        display: none;
        visibility: hidden;
    }

    .start,
    .end {
        margin: auto;
        fill: currentcolor;
    }

    ::slotted(svg) {
        ${""} width: 16px;
        height: 16px;
    }

    .start {
        margin-inline-start: 11px;
    }

    .end {
        margin-inline-end: 11px;
    }

    :host(:hover:not([disabled])) .root {
        background: ${ch.var};
        border-color: ${uh.var};
    }

    :host(:active:not([disabled])) .root {
        background: ${ch.var};
        border-color: ${ph.var};
    }

    :host(:focus-within:not([disabled])) .root {
        border-color: ${Sh.var};
        box-shadow: 0 0 0 1px ${Sh.var} inset;
    }

    :host([appearance="filled"]) .root {
        background: ${th.var};
    }

    :host([appearance="filled"]:hover:not([disabled])) .root {
        background: ${ih.var};
    }

    :host([disabled]) .label,
    :host([readonly]) .label,
    :host([readonly]) .control,
    :host([disabled]) .control {
        cursor: ${js};
    }

    :host([disabled]) {
        opacity: var(--disabled-opacity);
    }

    :host([disabled]) .control {
        border-color: ${fh.var};
    }
`.withBehaviors(ph,uh,hh,ih,ch,lh,th,Sh,Wd,fh,Vs(Zn`
            .root,
            :host([appearance="filled"]) .root {
                forced-color-adjust: none;
                background: ${Us.Field};
                border-color: ${Us.FieldText};
            }
            :host(:hover:not([disabled])) .root,
            :host([appearance="filled"]:hover:not([disabled])) .root,
            :host([appearance="filled"]:hover) .root {
                background: ${Us.Field};
                border-color: ${Us.Highlight};
            }
            .start,
            .end {
                fill: currentcolor;
            }
            :host([disabled]) {
                opacity: 1;
            }
            :host([disabled]) .root,
            :host([appearance="filled"]:hover[disabled]) .root {
                border-color: ${Us.GrayText};
                background: ${Us.Field};
            }
            :host(:focus-within:enabled) .root {
                border-color: ${Us.Highlight};
                box-shadow: 0 0 0 1px ${Us.Highlight} inset;
            }
        `));let Sp=class extends wp{connectedCallback(){super.connectedCallback(),this.appearance||(this.appearance="outline")}};Jr([Pr],Sp.prototype,"appearance",void 0),Sp=Jr([Hr({name:"fast-text-field",template:kp,styles:Cp,shadowOptions:{delegatesFocus:!0}})],Sp);null&&styles;const Lp=Zn`

    :host {
        font-family: var(--body-font);
        font-size: var(--type-ramp-base-font-size);
        line-height: var(--type-ramp-base-line-height);
        color: ${Wd.var};
        position: fixed;
        z-index: var(--wlp-zIndex);
    }

    fast-anchored-region {
        margin-left: 10px;
    }

    .container {
        border: 1px solid black;
        background-color: ${yh.var};
        box-shadow: 3px 3px 3px rgba(0, 0, 0, 0.5);
    }

    .header {
        background-color: ${th.var};
        color: ${Wd.var};
        padding: 5px 10px;
        text-align: center;
        font-weight: bold;
    }

    .body {
        padding: calc(var(--design-unit) * 2px);
    }

    ul {
        list-style-type: none;
        padding: 0;
        margin-block-start: 0;
        margin-block-end: 0;
    }

    li + li {
        margin-top: 5px;
    }

    a {
        color: ${Wd.var};
        text-decoration: underline;
    }

    .body fast-button {
        color: ${Wd.var};
        text-decoration: underline;
        height: initial;
    }

    fast-checkbox {
        --design-unit: 3;
    }

    fast-select,
    fast-text-field {
        --design-unit: 2;
        min-width: 150px;
        width: 150px;
    }

    .textItem {
        font-weight: bold;
    }

    .propertyContainer {
        display: grid;
        grid-template-columns: auto 1fr;
        gap: 10px;
    }

    .propertyLabel {
        white-space: nowrap;
    }

    .propertyEditor {
        text-align: right;
    }

`.withBehaviors(yh,th,Wd),$p=Sr`<span class="textItem">${e=>e.DisplayName}</span>`,Ep=Sr`
    <fast-button appearance="lightweight" @click=${(e,t)=>t.parent.handleMethodClicked(e,t.event)}>${e=>e.DisplayName}</fast-button>
`,Np=Sr`
    <fast-checkbox ?checked=${e=>{var t;return"true"===(null===(t=e.Value)||void 0===t?void 0:t.toLowerCase())}}
                   ?disabled=${e=>e.IsReadOnly}
                   title=${e=>e.IsReadOnly?kn("actionPanel.readOnlyProperty"):""}
                   @change=${(e,t)=>t.parent.handleUpdateProperty(e,`${t.event.target.checked}`)}>
        ${e=>e.DisplayName}
    </fast-checkbox>
`,Pp=Sr`
    <div class="propertyContainer">
        <div class="propertyLabel">${e=>e.DisplayName}</div>
        <div class="propertyEditor">
            <fast-select :value=${e=>e.Value}
                         ?disabled=${e=>e.IsReadOnly}
                         title=${e=>e.IsReadOnly?kn("actionPanel.readOnlyProperty"):""}
                         @change=${(e,t)=>t.parent.handleUpdateProperty(e,t.event.target.value)}>
                ${(0,Vn.repeat)((e=>e.StandardValues),Sr`
                    <fast-option value=${e=>e}
                            ?selected=${(e,t)=>e===t.parent.Value}>${e=>e}</fast-option>
                `)}
            </fast-select>
        </div>
    </div>
`,Dp=Sr`
    <div class="propertyContainer">
        <div class="propertyLabel">${e=>e.DisplayName}</div>
        <div class="propertyEditor">
            <fast-text-field :value=${e=>e.Value}
                             data-original-value=${e=>e.Value}
                             ?disabled=${e=>e.IsReadOnly}
                             title=${e=>e.IsReadOnly?kn("actionPanel.readOnlyProperty"):""}
                             @keydown=${(e,t)=>t.parent.handleEditorKeyDown(e,t.event)}>
            </fast-text-field>
        </div>
    </div>
`,Tp=Sr`
    <fast-button appearance="lightweight" disabled>${e=>e.DisplayName}</fast-button>
`,Op=Sr`
    ${(0,Vn.when)((e=>"bool"===e.PropertyType),Np)}
    ${(0,Vn.when)((e=>"dropdown"===e.PropertyType),Pp)}
    ${(0,Vn.when)((e=>"editor"===e.PropertyType),Dp)}
    ${(0,Vn.when)((e=>"textbox"===e.PropertyType),Dp)}
    ${(0,Vn.when)((e=>"unknown"===e.PropertyType),Tp)}
`,_p=Sr`
    <fast-anchored-region ${(0,Vn.ref)("anchoredRegion")}
                          :anchorElement=${e=>e.anchorElement}
                          @loaded=${e=>e.handleAnchoredRegionLoaded()}
                          vertical-inset
                          vertical-positioning-mode="dynamic"
                          vertical-default-position="bottom"
                          horizontal-positioning-mode="locktodefault"
                          horizontal-default-position="right"
                          @click=${(e,t)=>t.event.stopPropagation()}>
        <div class="container">
            <div class="header">${e=>e.header}</div>
            <div class="body">
                <ul>
                    ${(0,Vn.repeat)((e=>e.actionItems),Sr`
                        <li>
                            ${(0,Vn.when)((e=>"Text"===e.Type),$p)}
                            ${(0,Vn.when)((e=>"Method"===e.Type),Ep)}
                            ${(0,Vn.when)((e=>"Property"===e.Type),Op)}
                        </li>
                    `)}
                </ul>
            </div>
        </div>
    </fast-anchored-region>
`;var Bp=void 0&&(void 0).__decorate||function(e,t,i,o){var n,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,o);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,i,s):n(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s};let Ap=class extends Mr{constructor(){super(...arguments),this.header="Action Panel"}handleMethodClicked(e,t){t.stopPropagation(),this.$emit("methodExecuted",{memberName:e.MemberName,relatedComponentMemberName:e.RelatedComponentMemberName})}handleUpdateProperty(e,t){this.$emit("updateProperty",{memberName:e.MemberName,newValue:t,relatedComponentMemberName:e.RelatedComponentMemberName})}handleEditorKeyDown(e,t){const i=t.target;return"Enter"===t.key?(this.handleUpdateProperty(e,i.value),!1):"Escape"!==t.key||(i.value=i.dataset.originalValue,!1)}forceAnchorUpdate(){var e;null===(e=this.anchoredRegion)||void 0===e||e.update()}connectedCallback(){super.connectedCallback(),this.browserLink&&this.setViewportElement(this.browserLink.designSurfaceService)}browserLinkChanged(e,t){this.isConnected&&t&&this.setViewportElement(t.designSurfaceService)}setViewportElement(e){this.anchoredRegion.viewportElement=e.selectionOverlayElement}handleAnchoredRegionLoaded(){var e;null===(e=this.anchoredRegion.querySelector("fast-checkbox,fast-text-field,fast-select,fast-button"))||void 0===e||e.focus()}};Bp([Pr],Ap.prototype,"header",void 0),Bp([Vn.observable],Ap.prototype,"actionItems",void 0),Bp([Vn.observable],Ap.prototype,"anchorElement",void 0),Bp([Vn.observable],Ap.prototype,"browserLink",void 0),Bp([Vn.observable],Ap.prototype,"anchoredRegion",void 0),Ap=Bp([Hr({name:"action-panel",template:_p,styles:Lp})],Ap);const Fp=Sr`
    <fast-dialog modal="true" ${(0,Vn.ref)("dialog")}>
        <div class="dialogContent">
            <h2>${kn("closeDialog.header")}</h2>
            <p>${kn("closeDialog.details")}</p>
            <fast-radio-group aria-label='${kn("closeDialog.details")}' ${(0,Vn.ref)("radioGroup")} orientation="vertical">
                <fast-radio value="PageSession" checked tabindex="0">${kn("closeDialog.choice_pageSession")}</fast-radio>
                <fast-radio value="VisualStudioSession">${kn("closeDialog.choice_visualStudioSession")}</fast-radio>
                <fast-radio value="Permanent">${kn("closeDialog.choice_permanent")}</fast-radio>
            </fast-radio-group>
            <div class="dialogFooter">
                <fast-button role="button" appearance="accent" @click=${e=>e.handleOKClick()} tabindex="0">${kn("buttons.confirm")}</fast-button>
                <fast-button role="button" @click=${e=>e.handleCancelClick()} tabindex="0">${kn("buttons.cancel")}</fast-button>
            </div>
        </div>
    </fast-dialog>
`,Rp=Zn`
    :host[hidden] {
        display: none;
    }

    fast-dialog {
        --dialog-height: auto;
        --dialog-width: auto;
    }

    h2 {
        margin-top: 0;
    }

    .dialogContent {
        padding: 30px;
    }

    .dialogFooter {
        text-align: right;
    }

    fast-button {
        margin: auto 5px;
        min-width: 65px;
    }
`;var Ip=void 0&&(void 0).__decorate||function(e,t,i,o){var n,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,o);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,i,s):n(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s};let Mp=class extends Mr{connectedCallback(){super.connectedCallback(),this._dialogMousetrap=jn(this.dialog),this._dialogMousetrap&&(this._dialogMousetrap.bind(Mn.enter,this.onEnterKeyPressed.bind(this)),this._dialogMousetrap.bind(Mn.escape,this.onEscapeKeyPressed.bind(this))),this.previousArrowKeyMode=this.browserLink.hotkeyManagerService.arrowKeyMode,this.browserLink.hotkeyManagerService.arrowKeyMode=Gr.CLOSE_DIALOG_NAVIGATION}disconnectedCallback(){super.disconnectedCallback(),this._dialogMousetrap&&(this._dialogMousetrap.unbind(Mn.enter),this._dialogMousetrap.unbind(Mn.escape)),null!==this.previousArrowKeyMode&&(this.browserLink.hotkeyManagerService.arrowKeyMode=this.previousArrowKeyMode,this.previousArrowKeyMode=null)}onConfirmSelected(){let e;this.browserLink.toolsLifetimeService.uninitialize(),e="Permanent"===this.radioGroup.value?2:"VisualStudioSession"===this.radioGroup.value?1:0,this.browserLink.hostLifetimeService.uninitialize(e),this.$emit("dismissed")}onCancelSelected(){this.browserLink.telemetryService.sendCloseDialogCanceled(),this.$emit("dismissed")}onEnterKeyPressed(){this.onConfirmSelected()}onEscapeKeyPressed(){this.onCancelSelected()}handleCancelClick(){this.onCancelSelected()}handleOKClick(){this.onConfirmSelected()}};Ip([Vn.observable],Mp.prototype,"browserLink",void 0),Ip([Vn.observable],Mp.prototype,"previousArrowKeyMode",void 0),Mp=Ip([Hr({name:"close-dialog",template:Fp,styles:Rp})],Mp);const Hp=Sr`
    <div style=${e=>e.customStyle}></div>
`,jp=Zn`

    :host([isVisible="false"]) div {
        visibility: hidden;
    }

    :host([isVisible="true"]) div {
        position: fixed;
        border-style: dashed;
        border-width: 1;
        border-color: blue;
        width: 1;
    }
`;var zp=void 0&&(void 0).__decorate||function(e,t,i,o){var n,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,o);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,i,s):n(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s};let Vp=class extends Mr{constructor(){super(...arguments),this.nodesFromAreaUtil=null,this.nodeBoundingClientRectUtil=null,this.logicalTree=null,this.browserLink=null}get isInitialized(){return null!=this.logicalTree&&null!=this.nodeBoundingClientRectUtil&&null!=this.nodesFromAreaUtil}get customStyle(){if(!this.isInitialized||!this.isVisible)return"";const e=this.nodesFromAreaUtil.getLogicalContainerElementAtPoint(this.mouseX,this.mouseY,this.logicalTree,this.nodeBoundingClientRectUtil);if(!e)return"";const t=this.nodesFromAreaUtil.getClosestLogicalChildNodeAtPoint(this.mouseX,this.mouseY,e.getDomNode(),this.logicalTree,this.nodeBoundingClientRectUtil);if(!t){const t=this.nodeBoundingClientRectUtil.getBoundingClientRect(e.getDomNode());return`height: ${t.height-2}px;`+`top: ${t.top+1}px;`+`left: ${t.left+1}px;`}const i=this.nodeBoundingClientRectUtil.getBoundingClientRect(t.getDomNode()),o=this.nodeBoundingClientRectUtil.isMouseCloserToNodeBoundingClientRectLeftThanRight(this.mouseX,t.getDomNode())?i.left-2:i.right+1;var n;t.tagName||this.browserLink.diagnosticLog.writeMessage("Dropping content next to child without tagName. Height is: "+i.height+", top is: "+i.top+", left is: "+o+", parent is: "+(null===(n=t.parent)||void 0===n?void 0:n.tagName)+", type is: "+t.type+", source path is: "+t.start.path+", pos: "+t.start.position+", is literal: "+t.start.isLiteral,2);return`height: ${i.height}px;`+`top: ${i.top}px;`+`left: ${o}px`}};function Up(e,t,i=18){const o=vl(e);let n=o.c+t*i;return n<0&&(n=0),bl(new il(o.l,n,o.h))}function qp(e,t){return e*t}function Kp(e,t){return new Ka(qp(e.r,t.r),qp(e.g,t.g),qp(e.b,t.b),1)}function Wp(e,t){return Ma(e<.5?2*t*e:1-2*(1-t)*(1-e),0,1)}function Gp(e,t){return new Ka(Wp(e.r,t.r),Wp(e.g,t.g),Wp(e.b,t.b),1)}var Xp,Yp;function Qp(e,t,i,o){if(isNaN(e)||e<=0)return i;if(e>=1)return o;switch(t){case Yp.HSL:return cl(function(e,t,i){return isNaN(e)||e<=0?t:e>=1?i:new Za(Ua(e,t.h,i.h),Va(e,t.s,i.s),Va(e,t.l,i.l))}(e,ll(i),ll(o)));case Yp.HSV:return function(e,t=1){const i=e.s*e.v,o=i*(1-Math.abs(e.h/60%2-1)),n=e.v-i;let r=0,s=0,a=0;return e.h<60?(r=i,s=o,a=0):e.h<120?(r=o,s=i,a=0):e.h<180?(r=0,s=i,a=o):e.h<240?(r=0,s=o,a=i):e.h<300?(r=o,s=0,a=i):e.h<360&&(r=i,s=0,a=o),new Ka(r+n,s+n,a+n,t)}(function(e,t,i){return isNaN(e)||e<=0?t:e>=1?i:new el(Ua(e,t.h,i.h),Va(e,t.s,i.s),Va(e,t.v,i.v))}(e,dl(i),dl(o)));case Yp.XYZ:return pl(function(e,t,i){return isNaN(e)||e<=0?t:e>=1?i:new ol(Va(e,t.x,i.x),Va(e,t.y,i.y),Va(e,t.z,i.z))}(e,ul(i),ul(o)));case Yp.LAB:return fl(function(e,t,i){return isNaN(e)||e<=0?t:e>=1?i:new tl(Va(e,t.l,i.l),Va(e,t.a,i.a),Va(e,t.b,i.b))}(e,gl(i),gl(o)));case Yp.LCH:return bl(function(e,t,i){return isNaN(e)||e<=0?t:e>=1?i:new il(Va(e,t.l,i.l),Va(e,t.c,i.c),Ua(e,t.h,i.h))}(e,vl(i),vl(o)));default:return function(e,t,i){return isNaN(e)||e<=0?t:e>=1?i:new Ka(Va(e,t.r,i.r),Va(e,t.g,i.g),Va(e,t.b,i.b),Va(e,t.a,i.a))}(e,i,o)}}zp([Pr],Vp.prototype,"mouseX",void 0),zp([Pr],Vp.prototype,"mouseY",void 0),zp([Pr],Vp.prototype,"isVisible",void 0),zp([Vn.observable],Vp.prototype,"nodesFromAreaUtil",void 0),zp([Vn.observable],Vp.prototype,"nodeBoundingClientRectUtil",void 0),zp([Vn.observable],Vp.prototype,"logicalTree",void 0),zp([Vn.observable],Vp.prototype,"browserLink",void 0),zp([Vn.volatile],Vp.prototype,"customStyle",null),Vp=zp([Hr({name:"drag-and-drop-insertion-point",template:Hp,styles:jp})],Vp),function(e){e[e["Burn"]=0]="Burn",e[e["Color"]=1]="Color",e[e["Darken"]=2]="Darken",e[e["Dodge"]=3]="Dodge",e[e["Lighten"]=4]="Lighten",e[e["Multiply"]=5]="Multiply",e[e["Overlay"]=6]="Overlay",e[e["Screen"]=7]="Screen"}(Xp||(Xp={})),function(e){e[e["RGB"]=0]="RGB",e[e["HSL"]=1]="HSL",e[e["HSV"]=2]="HSV",e[e["XYZ"]=3]="XYZ",e[e["LAB"]=4]="LAB",e[e["LCH"]=5]="LCH"}(Yp||(Yp={}));class Jp{constructor(e){if(null==e||0===e.length)throw new Error("The stops argument must be non-empty");this.stops=this.sortColorScaleStops(e)}static createBalancedColorScale(e){if(null==e||0===e.length)throw new Error("The colors argument must be non-empty");const t=new Array(e.length);for(let i=0;i<e.length;i++)0===i?t[i]={color:e[i],position:0}:i===e.length-1?t[i]={color:e[i],position:1}:t[i]={color:e[i],position:i*(1/(e.length-1))};return new Jp(t)}getColor(e,t=Yp.RGB){if(1===this.stops.length)return this.stops[0].color;if(e<=0)return this.stops[0].color;if(e>=1)return this.stops[this.stops.length-1].color;let i=0;for(let t=0;t<this.stops.length;t++)this.stops[t].position<=e&&(i=t);let o=i+1;o>=this.stops.length&&(o=this.stops.length-1);return Qp((e-this.stops[i].position)*(1/(this.stops[o].position-this.stops[i].position)),t,this.stops[i].color,this.stops[o].color)}trim(e,t,i=Yp.RGB){if(e<0||t>1||t<e)throw new Error("Invalid bounds");if(e===t)return new Jp([{color:this.getColor(e,i),position:0}]);const o=[];for(let i=0;i<this.stops.length;i++)this.stops[i].position>=e&&this.stops[i].position<=t&&o.push(this.stops[i]);if(0===o.length)return new Jp([{color:this.getColor(e),position:e},{color:this.getColor(t),position:t}]);o[0].position!==e&&o.unshift({color:this.getColor(e),position:e}),o[o.length-1].position!==t&&o.push({color:this.getColor(t),position:t});const n=t-e,r=new Array(o.length);for(let t=0;t<o.length;t++)r[t]={color:o[t].color,position:(o[t].position-e)/n};return new Jp(r)}findNextColor(e,t,i=!1,o=Yp.RGB,n=.005,r=32){isNaN(e)||e<=0?e=0:e>=1&&(e=1);const s=this.getColor(e,o),a=i?0:1;if(al(s,this.getColor(a,o))<=t)return a;let l=i?0:e,c=i?e:0,d=a,h=0;for(;h<=r;){d=Math.abs(c-l)/2+l;const e=al(s,this.getColor(d,o));if(Math.abs(e-t)<=n)return d;e>t?i?l=d:c=d:i?c=d:l=d,h++}return d}clone(){const e=new Array(this.stops.length);for(let t=0;t<e.length;t++)e[t]={color:this.stops[t].color,position:this.stops[t].position};return new Jp(e)}sortColorScaleStops(e){return e.sort(((e,t)=>{const i=e.position,o=t.position;return i<o?-1:i>o?1:0}))}}class Zp{constructor(e){this.config=Object.assign({},Zp.defaultPaletteConfig,e),this.palette=[],this.updatePaletteColors()}updatePaletteGenerationValues(e){let t=!1;for(const i in e)this.config[i]&&(this.config[i].equalValue?this.config[i].equalValue(e[i])||(this.config[i]=e[i],t=!0):e[i]!==this.config[i]&&(this.config[i]=e[i],t=!0));return t&&this.updatePaletteColors(),t}updatePaletteColors(){const e=this.generatePaletteColorScale();for(let t=0;t<this.config.steps;t++)this.palette[t]=e.getColor(t/(this.config.steps-1),this.config.interpolationMode)}generatePaletteColorScale(){const e=ll(this.config.baseColor),t=new Jp([{position:0,color:this.config.scaleColorLight},{position:.5,color:this.config.baseColor},{position:1,color:this.config.scaleColorDark}]).trim(this.config.clipLight,1-this.config.clipDark);let i=t.getColor(0),o=t.getColor(1);if(e.s>=this.config.saturationAdjustmentCutoff&&(i=Up(i,this.config.saturationLight),o=Up(o,this.config.saturationDark)),0!==this.config.multiplyLight){const e=Kp(this.config.baseColor,i);i=Qp(this.config.multiplyLight,this.config.interpolationMode,i,e)}if(0!==this.config.multiplyDark){const e=Kp(this.config.baseColor,o);o=Qp(this.config.multiplyDark,this.config.interpolationMode,o,e)}if(0!==this.config.overlayLight){const e=Gp(this.config.baseColor,i);i=Qp(this.config.overlayLight,this.config.interpolationMode,i,e)}if(0!==this.config.overlayDark){const e=Gp(this.config.baseColor,o);o=Qp(this.config.overlayDark,this.config.interpolationMode,o,e)}return this.config.baseScalePosition?this.config.baseScalePosition<=0?new Jp([{position:0,color:this.config.baseColor},{position:1,color:o.clamp()}]):this.config.baseScalePosition>=1?new Jp([{position:0,color:i.clamp()},{position:1,color:this.config.baseColor}]):new Jp([{position:0,color:i.clamp()},{position:this.config.baseScalePosition,color:this.config.baseColor},{position:1,color:o.clamp()}]):new Jp([{position:0,color:i.clamp()},{position:.5,color:this.config.baseColor},{position:1,color:o.clamp()}])}}Zp.defaultPaletteConfig={baseColor:Qa("#808080"),steps:11,interpolationMode:Yp.RGB,scaleColorLight:new Ka(1,1,1,1),scaleColorDark:new Ka(0,0,0,1),clipLight:.185,clipDark:.16,saturationAdjustmentCutoff:.05,saturationLight:.35,saturationDark:1.25,overlayLight:0,overlayDark:.25,multiplyLight:0,multiplyDark:0,baseScalePosition:.5},Zp.greyscalePaletteConfig={baseColor:Qa("#808080"),steps:11,interpolationMode:Yp.RGB,scaleColorLight:new Ka(1,1,1,1),scaleColorDark:new Ka(0,0,0,1),clipLight:0,clipDark:0,saturationAdjustmentCutoff:0,saturationLight:0,saturationDark:0,overlayLight:0,overlayDark:0,multiplyLight:0,multiplyDark:0,baseScalePosition:.5};Zp.defaultPaletteConfig.scaleColorLight,Zp.defaultPaletteConfig.scaleColorDark;class eg{constructor(e){this.palette=[],this.config=Object.assign({},eg.defaultPaletteConfig,e),this.regenPalettes()}regenPalettes(){let e=this.config.steps;(isNaN(e)||e<3)&&(e=3);const t=.14,i=new Ka(t,t,t,1),o=new Zp(Object.assign(Object.assign({},Zp.greyscalePaletteConfig),{baseColor:i,baseScalePosition:100*(1-t)/94,steps:e})).palette,n=(nl(this.config.baseColor)+ll(this.config.baseColor).l)/2,r=this.matchRelativeLuminanceIndex(n,o)/(e-1),s=this.matchRelativeLuminanceIndex(t,o)/(e-1),a=ll(this.config.baseColor),l=cl(Za.fromObject({h:a.h,s:a.s,l:t})),c=cl(Za.fromObject({h:a.h,s:a.s,l:.06})),d=new Array(5);d[0]={position:0,color:new Ka(1,1,1,1)},d[1]={position:r,color:this.config.baseColor},d[2]={position:s,color:l},d[3]={position:.99,color:c},d[4]={position:1,color:new Ka(0,0,0,1)};const h=new Jp(d);this.palette=new Array(e);for(let t=0;t<e;t++){const i=h.getColor(t/(e-1),Yp.RGB);this.palette[t]=i}}matchRelativeLuminanceIndex(e,t){let i=Number.MAX_VALUE,o=0,n=0;const r=t.length;for(;n<r;n++){const r=Math.abs(nl(t[n])-e);r<i&&(i=r,o=n)}return o}}function tg(e){return new eg({baseColor:e}).palette.map((e=>e.toStringHexRGB().toUpperCase()))}eg.defaultPaletteConfig={baseColor:Qa("#808080"),steps:94};let ig="Blue";const og="#007ACC",ng={neutralBaseColor:"#F5F5F5",accentColor:og,baseLayerLuminance:ld.LightMode,backgroundBehavior:kh},rg={neutralBaseColor:"#252526",accentColor:og,baseLayerLuminance:ld.DarkMode,backgroundBehavior:Ch},sg={neutralBaseColor:"#CCD5F0",accentColor:"#F5CC84",baseLayerLuminance:ld.LightMode,backgroundBehavior:Ch};function ag(){return"Light"===ig?ng:"Dark"===ig?rg:sg}var lg=void 0&&(void 0).__decorate||function(e,t,i,o){var n,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,o);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,i,s):n(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s};let cg=class extends Kd{constructor(){super(),this.isBackgroundColorSet=!1,this.themeProps=ag(),this.neutralPalette=tg(Qa(this.themeProps.neutralBaseColor)),this.accentBaseColor=this.themeProps.accentColor,this.accentPalette=tg(Qa(this.themeProps.accentColor)),this.baseLayerLuminance=this.themeProps.baseLayerLuminance,this.typeRampBaseFontSize="12px",this.typeRampBaseLineHeight="16px",this.style.setProperty("--body-font","'Segoe UI', sans-serif")}connectedCallback(){super.connectedCallback(),this.isBackgroundColorSet||(this.registerCSSCustomProperty(this.themeProps.backgroundBehavior),this.style.setProperty("background-color",`var(--${this.themeProps.backgroundBehavior.name})`),this.backgroundColor=this.themeProps.backgroundBehavior.value(this.designSystem),this.isBackgroundColorSet=!0)}};function dg(e,t,i){return i?`${e.imageRootUrl}images/${t}/backgroundColor/${encodeURIComponent(function(e,t){const i=function(e,t){for(;e&&!e.matches(t);)e=_d(e);return e}(t,"live-preview-design-system-provider");return e.value(i.designSystem)}(yh,e))}`:`${e.imageRootUrl}images/${t}`}lg([Md({cssCustomProperty:"wlp-box-shadow",default:"0px -1px 4px rgba(0, 0, 0, 0.5)",attribute:!1})],cg.prototype,"boxShadow",void 0),lg([Md({cssCustomProperty:"wlp-status-bar-height",default:"30px",attribute:!1})],cg.prototype,"statusBarHeight",void 0),lg([Md({cssCustomProperty:"wlp-status-bar-padding",default:"6px",attribute:!1})],cg.prototype,"statusBarPadding",void 0),lg([Md({cssCustomProperty:"wlp-status-bordered-item-padding",default:"4px",attribute:!1})],cg.prototype,"statusBarBorderedItemPadding",void 0),lg([Md({cssCustomProperty:"wlp-text-highlight-color",default:"#007ACC30",attribute:!1})],cg.prototype,"textHighlightColor",void 0),lg([Md({cssCustomProperty:"wlp-zIndex",default:Yr.max.toString(),attribute:!1})],cg.prototype,"zIndexValue",void 0),cg=lg([Rd({name:"live-preview-design-system-provider",template:Hd})],cg);const hg=Sr`
    <div ${(0,Vn.ref)("menuBackground")} class="menu_background" @click=${e=>e.handleLightDismiss()}>
        <fast-anchored-region ${(0,Vn.ref)("anchoredRegion")}
                              @loaded=${e=>e.handleAnchoredRegionLoaded()}
                              :anchorElement=${e=>e.anchorElement}
                              :viewportElement=${e=>e.menuBackground}
                              vertical-positioning-mode="locktodefault"
                              vertical-default-position="top"
                              horizontal-positioning-mode="locktodefault"
                              horizontal-default-position="right"
                              horizontal-inset
                              fixed-placement>
            <fast-menu ${(0,Vn.ref)("menuNode")}>
                ${(0,Vn.repeat)((e=>e.items),Sr`
                    ${(0,Vn.when)((e=>e.hasDivider),Sr`
                        <fast-divider></fast-divider>
                    `)}
                    <fast-menu-item @change=${(e,t)=>t.parent.handleItemClicked(e)}>
                        ${(0,Vn.when)((e=>e.icon),Sr`
                            <img slot="start"
                                 src=${(e,t)=>dg(t.parent,e.icon,e.iconRespectsBackgroundColor)} />
                        `)}
                        ${e=>e.text}
                    </fast-menu-item>
                `)}
            </fast-menu>
        </fast-anchored-region>
    </div>
`,ug=ag(),pg=Zn`

    .menu_background {
        position: fixed;
        left: 0;
        right: 0;
        top: 0;
        bottom: 0;
    }

    fast-menu {
        --design-unit: 3;
    }

    fast-menu-item img {
        height: 16px;
        width: 16px;
    }

`.withBehaviors(ug.backgroundBehavior);class gg{constructor(){this._rootUrl=null}get rootUrl(){return this._rootUrl||this.findRootUrl(),this._rootUrl}findRootUrl(){const e=document.getElementById(gg.BrowserLinkScriptElementId).src,t=e.substr(0,e.length-"browserLink".length);this._rootUrl=t}}gg.BrowserLinkScriptElementId="__browserLink_initializationData";var fg=void 0&&(void 0).__decorate||function(e,t,i,o){var n,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,o);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,i,s):n(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s};let vg=class extends Mr{constructor(){super(),this.handleEscapeKeyPressed=e=>{e.preventDefault(),this.$emit("lightDismiss")};const e=new gg;this.imageRootUrl=e.rootUrl}connectedCallback(){super.connectedCallback(),this.menuMouseTrap=jn(this.menuNode),this.menuMouseTrap&&this.menuMouseTrap.bind(Mn.escape,this.handleEscapeKeyPressed)}disconnectedCallback(){super.disconnectedCallback(),this.browserLink&&this.previousArrowKeyMode&&(this.browserLink.hotkeyManagerService.arrowKeyMode=this.previousArrowKeyMode),this.menuMouseTrap&&this.menuMouseTrap.unbind(Mn.escape)}browserLinkChanged(e,t){t&&(this.previousArrowKeyMode=this.browserLink.hotkeyManagerService.arrowKeyMode,this.browserLink.hotkeyManagerService.arrowKeyMode=Gr.MENU_NAVIGATION)}handleLightDismiss(){this.$emit("lightDismiss")}handleItemClicked(e){var t;this.$emit("menuItemClicked"),null==e||null===(t=e.callback)||void 0===t||t.call(e)}handleAnchoredRegionLoaded(){var e;null===(e=this.menuNode)||void 0===e||e.focus()}};fg([Vn.observable],vg.prototype,"items",void 0),fg([Vn.observable],vg.prototype,"browserLink",void 0),fg([Vn.observable],vg.prototype,"menuNode",void 0),fg([Vn.observable],vg.prototype,"imageRootUrl",void 0),fg([Vn.observable],vg.prototype,"anchorElement",void 0),fg([Vn.observable],vg.prototype,"anchoredRegion",void 0),fg([Vn.observable],vg.prototype,"menuBackground",void 0),vg=fg([Hr({name:"wlp-menu",template:hg,styles:pg})],vg);var bg=void 0&&(void 0).__decorate||function(e,t,i,o){var n,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,o);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,i,s):n(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s};const mg=Zn`

    :host {
        height: inherit;
    }

    fast-button {
        border-radius: 0;
        height: inherit;
    }

    .img {
        height: 16px;
        width: 16px
    }
`,yg=Sr`
    <fast-button role="button"
            appearance="stealth"
            @click=${e=>e.toggleMenu()}
            ${(0,Vn.ref)("buttonElement")}>
        <img aria-label='${kn("menuButton.image_ariaLabel")}' src=${e=>`${e.rootUrl}images/VisualStudio`} />
    </fast-button>
    ${(0,Vn.when)((e=>e.isMenuOpen),Sr`
        <wlp-menu :items=${e=>e.menuItems}
                    :anchorElement=${e=>e.buttonElement}
                    @lightDismiss=${e=>e.dismissMenu()}
                    @menuItemClicked=${e=>e.dismissMenu()}
                    :browserLink=${e=>e.browserLink} />
    `)}
`;let wg=class extends Mr{constructor(){super(),this.isMenuOpen=!1;const e=new gg;this.rootUrl=e.rootUrl}toggleMenu(){this.isMenuOpen=!this.isMenuOpen}dismissMenu(){this.isMenuOpen=!1}};bg([Vn.observable],wg.prototype,"isMenuOpen",void 0),bg([Pr],wg.prototype,"rootUrl",void 0),bg([Vn.observable],wg.prototype,"browserLink",void 0),bg([Vn.observable],wg.prototype,"menuItems",void 0),bg([Vn.observable],wg.prototype,"buttonElement",void 0),wg=bg([Hr({name:"wlp-menu-button",template:yg,styles:mg})],wg);const xg=Zn`
    .overlay {
        position: fixed;
        top: 0px;
        left: 0px;
        right: 0px;
        bottom: 0px;
        font: var(--body-font);
        z-index: var(--wlp-zIndex);
    }
`;function kg(e){return e.event.detail}const Cg=Sr`
    <div class="overlay"
         ${(0,Vn.ref)("overlaySurfaceNode")}
         tabIndex="-1"
         role="application"
         @click=${(e,t)=>e.handleClick(t.event)}
         @dblclick=${(e,t)=>e.handleDoubleClick(t.event)}
         @dragenter=${(e,t)=>e.handleDrag(t.event)}
         @dragover=${(e,t)=>e.handleDrag(t.event)}
         @drop=${(e,t)=>e.handleDrop(t.event)}
         @dragleave=${e=>e.handleDragLeave()}>

        <drag-and-drop-insertion-point mouseX=${e=>e.dragMouseX}
                                       mouseY=${e=>e.dragMouseY}
                                       isVisible=${e=>e.isDragAndDropInsertionPointVisible}
                                       :nodesFromAreaUtil=${e=>e.nodesFromAreaUtil}
                                       :nodeBoundingClientRectUtil=${e=>e.nodeBoundingClientRectUtil}
                                       :logicalTree=${e=>{var t;return null===(t=e.browserLink)||void 0===t?void 0:t.logicalTree}}
                                       :browserLink=${e=>e.browserLink}>
        </drag-and-drop-insertion-point>
        <selector-decorator :browserLink=${e=>e.browserLink}
                            ?hasActionItems=${e=>e.actionPanelDetails.hasActionItems}
                            @selectionTagClicked=${(e,t)=>e.handleSelectionTagClicked(kg(t))}
                            @layoutUpdated=${e=>e.handleSelectorDecoratorLayoutUpdated()}></selector-decorator>
    </div>
    ${(0,Vn.when)((e=>e.isActionPanelVisible),Sr`
        <action-panel ${(0,Vn.ref)("actionPanel")}
                      header=${e=>e.actionPanelDetails.title}
                      :browserLink=${e=>e.browserLink}
                      :actionItems=${e=>e.actionPanelDetails.actionItems}
                      :anchorElement=${e=>e.actionPanelDetails.anchorElement}
                      @methodExecuted=${(e,t)=>e.handleActionPanelMethodExecuted(kg(t))}
                      @updateProperty=${(e,t)=>e.handleActionPanelUpdateProperty(kg(t))}></action-panel>
    `)}
`;var Sg=void 0&&(void 0).__decorate||function(e,t,i,o){var n,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,o);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,i,s):n(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s};class Lg{constructor(){this.actionItems=null}get hasActionItems(){var e;return(null===(e=this.actionItems)||void 0===e?void 0:e.length)>0}}Sg([Vn.observable],Lg.prototype,"actionItems",void 0),Sg([Vn.observable],Lg.prototype,"title",void 0),Sg([Vn.observable],Lg.prototype,"anchorElement",void 0);let $g=class extends Mr{constructor(){super(...arguments),this.dragMouseX=-1,this.dragMouseY=-1,this.isDragAndDropInsertionPointVisible=!1,this.isActionPanelVisible=!1,this.actionPanelDetails=new Lg,this.onSelectedNodeChanged=()=>{this.isActionPanelVisible=!1,this.configureForSelectedNode(this.browserLink.selectionService.selectedLogicalNode)},this.onScroll=()=>{var e;null===(e=this.actionPanel)||void 0===e||e.forceAnchorUpdate()},this.onWindowResize=()=>{var e;null===(e=this.actionPanel)||void 0===e||e.forceAnchorUpdate()},this.handleTextEditingHotKey=e=>{e.preventDefault();const t=this.browserLink.selectionService.selectedLogicalNode;t&&(this.browserLink.simpleTextEditingService.textNodeBeingEdited=t.getDomNode())}}connectedCallback(){super.connectedCallback(),window.addEventListener("resize",this.onWindowResize),window.addEventListener("scroll",this.onScroll),jn.bind(Mn.enterTextEditingMode,this.handleTextEditingHotKey),this.overlaySurfaceNode&&(this._overlaySurfaceMousetrapInstance=jn(this.overlaySurfaceNode),this.overlaySurfaceNode.focus()),this.browserLink&&(this.browserLink.designSurfaceService.selectionOverlayElement=this.overlaySurfaceNode,this.setArrowKeyMode(),this.attachBrowserLinkEvents(),this.configureForSelectedNode(this.browserLink.selectionService.selectedLogicalNode))}disconnectedCallback(){super.disconnectedCallback(),window.removeEventListener("resize",this.onWindowResize),window.removeEventListener("scroll",this.onScroll),jn.unbind(Mn.enterTextEditingMode),this.browserLink&&this.detachBrowserLinkEvents(this.browserLink)}browserLinkChanged(e,t){this.isConnected&&(e&&this.detachBrowserLinkEvents(e),t&&(this.setArrowKeyMode(),this.attachBrowserLinkEvents(),this.configureForSelectedNode(this.browserLink.selectionService.selectedLogicalNode)))}setArrowKeyMode(){this.overlaySurfaceNode&&this.browserLink.hotkeyManagerService.setArrowKeyModeAssociatedNode(Gr.NORMAL_NAVIGATION,this.overlaySurfaceNode)}attachBrowserLinkEvents(){var e;this.browserLink.selectionService.selectedLogicalNodeChanged.subscribe(this.onSelectedNodeChanged),null===(e=this._overlaySurfaceMousetrapInstance)||void 0===e||e.bind(Hn.normalNavigation,this.browserLink.hotkeyManagerService.onArrowKeyPressed.bind(this.browserLink.hotkeyManagerService))}detachBrowserLinkEvents(e){var t;e.selectionService.selectedLogicalNodeChanged.unsubscribe(this.onSelectedNodeChanged),null===(t=this._overlaySurfaceMousetrapInstance)||void 0===t||t.unbind(Hn.normalNavigation)}configureForSelectedNode(e){this.updateActionItems(e)}async updateActionItems(e){this.actionPanelDetails.actionItems=[],this.actionPanelDetails.title="",e&&(this.actionPanelDetails.actionItems=await this.browserLink.actionPanelService.getActionItems(e),this.actionPanelDetails.hasActionItems&&(this.actionPanelDetails.title=function(e){let t="Unknown";if(e)if("Element"===e.type){let n=!1;if(e.attributes)for(const r of e.attributes){var i,o;if("ID"===(null===(i=r.name)||void 0===i?void 0:i.toUpperCase())&&(null===(o=r.value)||void 0===o?void 0:o.length)>0){t=r.value,n=!0;break}}!n&&e.tagName&&(t=e.tagName.replace("asp:",""))}else"CodeBlock"===e.type?t=r(e).codeBlockType:"GenericContainer"===e.type?t=kn("logicalNodeShortNames.genericContainer"):"Root"===e.type?t=kn("logicalNodeShortNames.root"):"Attribute"===e.type&&(t=e.name.toLowerCase());return kn("actionPanel.title",{nodeName:t})}(e)))}handleSelectionTagClicked(e){this.actionPanelDetails.anchorElement=e.selectionTag,this.isActionPanelVisible=!this.isActionPanelVisible}handleActionPanelMethodExecuted(e){const t=this.browserLink.selectionService.selectedLogicalNode;t&&this.browserLink.actionPanelService.executeMethod(t,e.memberName,e.relatedComponentMemberName),this.isActionPanelVisible=!1}handleActionPanelUpdateProperty(e){const t=this.browserLink.selectionService.selectedLogicalNode;t&&this.browserLink.actionPanelService.updateProperty(t,e.memberName,e.newValue,e.relatedComponentMemberName),this.isActionPanelVisible=!1}handleSelectorDecoratorLayoutUpdated(){var e;null===(e=this.actionPanel)||void 0===e||e.forceAnchorUpdate()}handleClick(e){this.browserLink.diagnosticLog.writeEvent(7536);const t=this.nodesFromAreaUtil.nodeFromPoint(e.clientX,e.clientY);t&&this.browserLink.selectionService.selectDomNode(t),this.overlaySurfaceNode&&this.overlaySurfaceNode.focus()}handleDoubleClick(e){e.preventDefault();const t=this.nodesFromAreaUtil.nodeFromPoint(e.clientX,e.clientY);if(t){this.browserLink.selectionService.selectDomNode(t);const e=this.browserLink.selectionService.selectedLogicalNode;e&&"Text"!==e.type?this.browserLink.defaultActionService.doDefaultAction(e):this.browserLink.simpleTextEditingService.textNodeBeingEdited=t}}handleDrag(e){e.dataTransfer.types.includes("text/html")?(this.dragMouseX=e.pageX,this.dragMouseY=e.pageY,this.isDragAndDropInsertionPointVisible=!0):(this.isDragAndDropInsertionPointVisible=!1,e.dataTransfer.dropEffect="none",e.dataTransfer.effectAllowed="none")}handleDragLeave(){this.resetDragAndDropState()}async handleDrop(e){let t="";try{this.resetDragAndDropState(),t=e.dataTransfer.getData("text/html");const i=e.pageX,o=e.pageY;if(!t){const e="handleDrop() failed - no dropData exists in text/html format.";return void this.sendHandleDropFailed(e,"")}const n=this.nodesFromAreaUtil.getLogicalContainerElementAtPoint(i,o,this.browserLink.logicalTree,this.nodeBoundingClientRectUtil);if(!n){const e="handleDrop() failed - no parent container element to drop into could be found.";return void this.sendHandleDropFailed(e,t)}const r=n.getDomNode();let s=this.nodesFromAreaUtil.getClosestLogicalChildNodeAtPoint(i,o,r,this.browserLink.logicalTree,this.nodeBoundingClientRectUtil);if(s){const e=s.getDomNode();this.nodeBoundingClientRectUtil.isMouseCloserToNodeBoundingClientRectLeftThanRight(i,e)&&(s=this.getPrecedingSiblingLogicalNode(r,e))}s?this.browserLink.logicalTreeEditingService.insertTextAfterSiblingNode(s,t):n&&this.browserLink.logicalTreeEditingService.insertTextAsFirstChild(n,t)}catch(e){let i=e instanceof Error?e.message+"\r\n"+e.stack:"Unknown Error";i="handleDrop() failed - "+i,this.sendHandleDropFailed(i,t)}}sendHandleDropFailed(e,t){this.browserLink.diagnosticLog.writeMessageForEvent(7549,e+" dropData is: "+t,2),this.browserLink.telemetryService.sendDragAndDropFailed(t,e)}resetDragAndDropState(){this.dragMouseX=-1,this.dragMouseY=-1,this.isDragAndDropInsertionPointVisible=!1}getPrecedingSiblingLogicalNode(e,t){for(let i=1;i<e.childNodes.length;i++)if(e.childNodes[i]===t){for(let t=i-1;t>=0;t--){const i=this.browserLink.logicalTree.getFirstLogicalNodeFromDomNode(e.childNodes[t]);if(i)return i}break}}};Sg([Vn.observable],$g.prototype,"browserLink",void 0),Sg([Vn.observable],$g.prototype,"nodesFromAreaUtil",void 0),Sg([Vn.observable],$g.prototype,"nodeBoundingClientRectUtil",void 0),Sg([Vn.observable],$g.prototype,"dragMouseX",void 0),Sg([Vn.observable],$g.prototype,"dragMouseY",void 0),Sg([Vn.observable],$g.prototype,"isDragAndDropInsertionPointVisible",void 0),Sg([Vn.observable],$g.prototype,"actionPanel",void 0),Sg([Vn.observable],$g.prototype,"isActionPanelVisible",void 0),Sg([Vn.observable],$g.prototype,"actionPanelDetails",void 0),$g=Sg([Hr({name:"selection-overlay",template:Cg,styles:xg})],$g);const Eg=Sr`
    ${(0,Vn.when)((e=>!e.selectionIsText),Sr`
        <div id="elementOutline" style=${e=>e.divStyle}>
            <div ${(0,Vn.ref)("selectionTag")} class="selectionTag" aria-label='${e=>kn("selectorDecorator.elementOutline_ariaLabel")+" "+e.contentPreview}' role="alert" @click=${(e,t)=>e.handleSelectionTagClick(t.event)}>
                ${e=>e.displayText}
                <span aria-label='${kn("selectorDecorator.actionPanel_ariaLabel")}' role="button" class="actionPanelIndicator">»</span>
            </div>
        </div>
    `)}
    ${(0,Vn.when)((e=>e.selectionIsText),Sr`
        ${(0,Vn.repeat)((e=>e.highlights),Sr`
            <selector-decorator-text-highlight tagLocation=${e=>e.tagLocation}
                                            displayText=${e=>e.displayText}
                                            contentPreview=${e=>e.contentPreview}
                                            height=${e=>e.height}
                                            width=${e=>e.width}
                                            top=${e=>e.top}
                                            left=${e=>e.left}
                                            hasTag=${(e,t)=>{return i=e,t.isFirst&&"Top"===i.tagLocation||function(e,t){return t.isLast&&"Bottom"===e.tagLocation}(e,t);var i}}>
            </selector-decorator-text-highlight>
        `,{positioning:!0})}
    `)}
`,Ng=Zn`
    .selectionTag  {
        background-color: ${hh.var};
        display: flex;
        position: absolute;
        font-weight: bold;
        white-space: nowrap;
        align-items: center;
        padding: 3px 10px;
        border-radius: 3px;
        box-sizing: border-box;
        box-shadow: var(--wlp-box-shadow);
        color: ${eh.var};
        font-family: var(--body-font);
        font-size: var(--type-ramp-base-font-size);
        cursor: default;
    }

    :host([tagLocation="Inside"]) .selectionTag {
        opacity: 0.85;
    }

    :host([tagLocation="Top"]) .selectionTag {
        top: calc(-1 * var(--wlp-status-bar-height));
        left: 0;
    }

    :host([tagLocation="Top"]) .selectionTag::after {
        box-sizing: border-box;
        content: " ";
        position: absolute;
        left: 25%;
        margin-left: -5px;
        border-width: 5px;
        border-style: solid;
        top: 100%;
        border-color: ${hh.var} transparent transparent transparent;
    }

    :host([tagLocation="Bottom"]) .selectionTag {
        bottom: calc(-1 * var(--wlp-status-bar-height));
        left: 0;
    }

    :host([tagLocation="Bottom"]) .selectionTag::after {
        box-sizing: border-box;
        content: " ";
        position: absolute;
        left: 25%;
        margin-left: -5px;
        border-width: 5px;
        border-style: solid;
        bottom: 100%;
        border-color: transparent transparent ${hh.var} transparent;
    }
`.withBehaviors(hh,eh),Pg=Zn`
    #elementOutline {
        position: fixed;
        border-style: solid;
        border-width: 1px;
        border-color: ${hh.var};
        outline-style: none;
        height: 0px;
        width: 0px;
        top: 0px;
        left: -100px;
    }

    ${Ng}

    :host([hasActionItems]) .selectionTag {
        cursor: pointer;
    }

    .actionPanelIndicator {
        display: none;
        margin-left: 5px;
    }

    :host([hasActionItems]) .actionPanelIndicator {
        display: inline;
    }

`.withBehaviors(hh);function Dg(e){let t=1/0,i=1/0,o=-1/0,n=-1/0;for(const r of e)r&&r.left!==1/0&&r.top!==1/0&&r.right!==-1/0&&r.bottom!==-1/0&&(t=r.left<t?r.left:t,i=r.top<i?r.top:i,o=r.right>o?r.right:o,n=r.bottom>n?r.bottom:n);return function(e,t,i,o){return e!==1/0&&t!==1/0&&i!==-1/0&&o!==-1/0}(t,i,o,n)?{left:t,top:i,height:n-i,width:o-t}:null}function Tg(e){const t=function(e){for(var t;e&&!r(e).mapsToDom;)e=e.parent;for(;e&&e.getDomNode()&&e.getDomNode().nodeType!==Node.ELEMENT_NODE;)e=e.parent;return null===(t=e)||void 0===t?void 0:t.getDomNode()}(e);if(t&&!function(e){const t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=window.innerHeight&&t.right<=window.innerWidth}(t)){const e={block:(new a).getBoundingClientRect(t).height>document.documentElement.clientHeight?"start":"center",inline:"center"};t.scrollIntoView(e)}}var Og,_g=void 0&&(void 0).__decorate||function(e,t,i,o){var n,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,o);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,i,s):n(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s};class Bg{constructor(){this.contentPreview=""}}_g([Vn.observable],Bg.prototype,"displayText",void 0),_g([Vn.observable],Bg.prototype,"contentPreview",void 0),_g([Vn.observable],Bg.prototype,"height",void 0),_g([Vn.observable],Bg.prototype,"width",void 0),_g([Vn.observable],Bg.prototype,"top",void 0),_g([Vn.observable],Bg.prototype,"left",void 0),_g([Vn.observable],Bg.prototype,"tagLocation",void 0);let Ag=Og=class extends Mr{constructor(){super(...arguments),this.contentPreview="",this.tagLocation="Top",this.hasActionItems=!1,this.onSelectedNodeChanged=()=>{this.configureForSelectedNode(this.browserLink.selectionService.selectedLogicalNode)},this.onScroll=()=>{this.updateProperties()},this.onWindowResize=()=>{this.updateProperties(),this.browserLink.keyboardNavigationService.serviceInitialized&&this.browserLink.keyboardNavigationService.updatePositionMap()},this.onChangesApplied=()=>{this.updateProperties(),this.browserLink.keyboardNavigationService.serviceInitialized&&this.browserLink.keyboardNavigationService.updatePositionMap()}}handleSelectionTagClick(e){this.hasActionItems&&(e.stopPropagation(),this.$emit("selectionTagClicked",{selectionTag:this.selectionTag}))}getHighlights(e,t){const i=[],o=Og.selectionTagNameHeight;let n;const r=window.innerHeight-e[e.length-1].bottom;n=e[0].top<o&&r<o?"Inside":e[0].top<o?"Bottom":"Top";for(const o of e){const e=new Bg;e.height=o.height,e.width=o.width,e.top=o.top,e.left=o.left,e.tagLocation=n,e.displayText=t,e.contentPreview=this.contentPreview,i.push(e)}return i}updateProperties(){var e;const t={height:0,width:0,top:0,left:-100};if(this.highlights=null,this.divStyle=null,(null===(e=this.selectedDomNodes)||void 0===e?void 0:e.length)>0)if(1===this.selectedDomNodes.length&&this.selectedDomNodes[0].nodeType===Node.TEXT_NODE){this.tagLocation="Top",this.selectionIsText=!0;const e=this.selectedDomNodes[0];if(e.parentNode){const t=document.createRange();t.selectNode(e);const i=t.getClientRects();this.highlights=this.getHighlights(i,this.displayText)}else this.highlights=[]}else{this.selectionIsText=!1;const e=function(e){const t=e.map((e=>{if(e.nodeType==Node.TEXT_NODE){const t=e;if(t.parentNode){const e=document.createRange();return e.selectNode(t),Dg(e.getClientRects())}return null}if(e.nodeType==Node.ELEMENT_NODE)return e.getBoundingClientRect()}));return Dg(t)}(this.selectedDomNodes);e&&(t.height=e.height,t.width=e.width,t.top=e.top,t.left=e.left);const i=Og.selectionTagNameHeight,o=window.innerHeight-(t.top+t.height);t.top<i&&o<i?this.tagLocation="Inside":t.top<i?this.tagLocation="Bottom":this.tagLocation="Top"}else this.tagLocation="None";this.divStyle=`height: ${t.height}px;`+`width: ${t.width}px;`+`top: ${t.top}px;`+`left: ${t.left}px;`,this.$emit("layoutUpdated")}connectedCallback(){super.connectedCallback(),window.addEventListener("resize",this.onWindowResize),window.addEventListener("scroll",this.onScroll),this.browserLink&&(this.attachBrowserLinkEvents(),this.configureForSelectedNode(this.browserLink.selectionService.selectedLogicalNode))}disconnectedCallback(){super.disconnectedCallback(),window.removeEventListener("resize",this.onWindowResize),window.removeEventListener("scroll",this.onScroll),this.browserLink&&this.detachBrowserLinkEvents(this.browserLink)}browserLinkChanged(e,t){this.isConnected&&(e&&this.detachBrowserLinkEvents(e),t&&(this.attachBrowserLinkEvents(),this.configureForSelectedNode(this.browserLink.selectionService.selectedLogicalNode)))}attachBrowserLinkEvents(){this.browserLink.selectionService.selectedLogicalNodeChanged.subscribe(this.onSelectedNodeChanged),this.browserLink.autoSyncService.changesApplied.subscribe(this.onChangesApplied)}detachBrowserLinkEvents(e){e.selectionService.selectedLogicalNodeChanged.unsubscribe(this.onSelectedNodeChanged),e.autoSyncService.changesApplied.unsubscribe(this.onChangesApplied)}setContentPreviewText(e){var t;const i=null==e||null===(t=e.getDomNode())||void 0===t?void 0:t.textContent;if(!i)return;const o=i.trim();0!==o.length&&(this.contentPreview=o.length>Og.contentPreviewTrimLength?o.substring(0,Og.contentPreviewTrimLength-3)+"…":o)}configureForSelectedNode(e){const t=Cn(e).truncatedText;this.displayText=t,this.setContentPreviewText(e),this.selectedDomNodes=this.browserLink.selectionService.getAllSelectedDomNodes(),this.updateProperties(),e&&Tg(e)}};Ag.selectionTagNameHeight=23,Ag.contentPreviewTrimLength=40,_g([Vn.observable],Ag.prototype,"displayText",void 0),_g([Vn.observable],Ag.prototype,"contentPreview",void 0),_g([Vn.observable],Ag.prototype,"selectedDomNodes",void 0),_g([Vn.observable],Ag.prototype,"browserLink",void 0),_g([Pr],Ag.prototype,"tagLocation",void 0),_g([Vn.observable],Ag.prototype,"divStyle",void 0),_g([Vn.observable],Ag.prototype,"highlights",void 0),_g([Vn.observable],Ag.prototype,"selectionIsText",void 0),_g([Vn.observable],Ag.prototype,"selectionTag",void 0),_g([Pr({mode:"boolean"})],Ag.prototype,"hasActionItems",void 0),Ag=Og=_g([Hr({name:"selector-decorator",template:Eg,styles:Pg})],Ag);const Fg=Sr`
    <div class="highlight" style=${e=>e.customStyle}>
        ${(0,Vn.when)((e=>e.hasTag),Sr`
            <span class="selectionTag" aria-label='${e=>kn("selectorDecorator.elementOutline_ariaLabel")+" "+e.contentPreview}' role="alert"
                    style=${e=>e.customTextStyle}>${e=>e.displayText}</span>
        `)}
    </div>
`,Rg=Zn`

    ${Ng}

    .highlight {
        position: fixed;
        background-color: var(--wlp-text-highlight-color);
    }
`.withBehaviors(hh);var Ig=void 0&&(void 0).__decorate||function(e,t,i,o){var n,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,o);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,i,s):n(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s};let Mg=class extends Mr{get customStyle(){return`height: ${this.height}px;`+`width: ${this.width}px;`+`top: ${this.top}px;`+`left: ${this.left}px;`}get customTextStyle(){return"Inside"===this.tagLocation?`top: ${2+this.top<0?-this.top:0}px;`+`left: ${2+this.left<0?-this.left:0}px;`:""}};Ig([Pr],Mg.prototype,"displayText",void 0),Ig([Pr],Mg.prototype,"contentPreview",void 0),Ig([Pr],Mg.prototype,"height",void 0),Ig([Pr],Mg.prototype,"width",void 0),Ig([Pr],Mg.prototype,"top",void 0),Ig([Pr],Mg.prototype,"left",void 0),Ig([Pr],Mg.prototype,"tagLocation",void 0),Ig([Pr({mode:"boolean"})],Mg.prototype,"hasTag",void 0),Ig([Vn.volatile],Mg.prototype,"customTextStyle",null),Mg=Ig([Hr({name:"selector-decorator-text-highlight",template:Fg,styles:Rg})],Mg);var Hg=void 0&&(void 0).__decorate||function(e,t,i,o){var n,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,o);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,i,s):n(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s};const jg=Zn`
    :host {
        height: var(--wlp-status-bar-height);
    }
`,zg=Sr`
    <wlp-menu-button ${(0,Vn.ref)("menuButton")} :menuItems=${e=>e.menuItems} :browserLink=${e=>e.browserLink}></wlp-menu-button>
    ${(0,Vn.when)((e=>e.showCloseDialog),Sr`
        <close-dialog :browserLink=${e=>e.browserLink} @dismissed=${e=>e.closeDialogDismissed()}></close-dialog>
    `)}
`;let Vg=class extends Mr{constructor(){super(),this.handleDesignSurfaceStateChanged=()=>{this.getMenuItems()},this.getMenuItems()}browserLinkChanged(e,t){t&&(this.getMenuItems(),this.browserLink.designSurfaceService.isEnabledChanged.subscribe(this.handleDesignSurfaceStateChanged))}toggleMenu(){var e;null===(e=this.menuButton)||void 0===e||e.toggleMenu()}closeDialogDismissed(){this.showCloseDialog=!1}toggleDesignSurface(){this.browserLink.designSurfaceService.isEnabled=!this.browserLink.designSurfaceService.isEnabled}handleCloseMenuItem(){this.showCloseDialog=!0}getMenuItems(){var e,t;let i;i=1==(null===(e=this.browserLink)||void 0===e||null===(t=e.designSurfaceService)||void 0===t?void 0:t.isEnabled)?kn("menu.disableInspector"):kn("menu.enableInspector");const o=[{text:i,icon:"WebLivePreview",hotKey:"Alt+Ctrl+I",callback:()=>this.toggleDesignSurface()},{text:kn("menu.close"),hasDivider:!0,icon:"Close",iconRespectsBackgroundColor:!0,callback:this.handleCloseMenuItem.bind(this)}];this.menuItems=o}};Hg([Vn.observable],Vg.prototype,"browserLink",void 0),Hg([Vn.observable],Vg.prototype,"menuItems",void 0),Hg([Vn.observable],Vg.prototype,"showCloseDialog",void 0),Vg=Hg([Hr({name:"wlp-start-button",template:zg,styles:jg})],Vg);const Ug=Sr`
    <template :className="${e=>e.isUpdateButtonEnabled?"interactive":""}"
              title="${e=>e.fullText}"
              aria-label="${e=>e.fullText}"
              role="${e=>e.isUpdateButtonEnabled?"button":""}"
              tabindex="-1">
        <div class="content">${e=>e.displayText}</div>
    </template>
`,qg=Zn`
    :host {
        user-select: none;
        border-left: calc(var(--outline-width) * 1px) solid ${fh.var};
        height: 100%;
        pointer-events: none;
    }

    :host(.interactive) {
        cursor: pointer;
        pointer-events: auto;
    }

    :host(.interactive:hover) {
        background-color: ${uh.var};
        color: ${eh.var};
    }

    .content {
        display: grid;
        place-items: center;
        height: 100%;
        padding: 0 calc((var(--base-horizontal-spacing-multiplier) + var(--density)) * var(--design-unit) * 1px);
        font-family: var(--body-font);
        font-size: var(--type-ramp-base-font-size);
    }
`.withBehaviors(uh,eh,fh);var Kg=void 0&&(void 0).__decorate||function(e,t,i,o){var n,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,o);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,i,s):n(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s};let Wg=class extends Mr{};Kg([Vn.observable],Wg.prototype,"displayText",void 0),Kg([Vn.observable],Wg.prototype,"fullText",void 0),Kg([Vn.observable],Wg.prototype,"isUpdateButtonEnabled",void 0),Wg=Kg([Hr({name:"status-text",template:Ug,styles:qg})],Wg);var Gg=void 0&&(void 0).__decorate||function(e,t,i,o){var n,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,o);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,i,s):n(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s};const Xg=ag(),Yg=Zn`
    :host {
        display: grid;
        grid-template-columns: max-content minmax(0, 1fr) max-content;
        position: fixed;
        box-shadow: var(--wlp-box-shadow);
        height: var(--wlp-status-bar-height);
        width: 100%;
        bottom: 0px;
        font: var(--body-font);
        z-index: var(--wlp-zIndex);
        background-color: ${Xg.backgroundBehavior.var};
        color: ${Wd.var};
    }

    :host([minimal]) {
        grid-template-columns: minmax(0, 1fr);
    }

    wlp-start-button {
        margin-right: 5px;
    }

    status-text {
        margin-left: 5px;
    }

`.withBehaviors(Wd,Xg.backgroundBehavior),Qg=Sr`
    ${(0,Vn.when)((e=>!e.minimal),Sr`
        <wlp-start-button ${(0,Vn.ref)("startButton")} :browserLink=${e=>e.browserLink}></wlp-start-button>
    `)}
    <wlp-tag-navigator :browserLink=${e=>e.browserLink}></wlp-tag-navigator>
    ${(0,Vn.when)((e=>!e.minimal),Sr`
        <status-text ${(0,Vn.ref)("statusTextNode")}
                    :displayText=${e=>{var t;return null===(t=e.currentStatus)||void 0===t?void 0:t.displayText}}
                    :fullText=${e=>{var t;return null===(t=e.currentStatus)||void 0===t?void 0:t.fullText}}
                    :isUpdateButtonEnabled=${e=>e.isUpdateBrowserButtonEnabled}
                    @click=${e=>e.handleClick()}
                    @mouseEnter=${(e,t)=>e.handleMouseEnter(t.event)}>
        </status-text>
    `)}
`;let Jg=class extends Mr{constructor(){super(...arguments),this.unsubscribedFromEvents=!1,this.handleStatusChanged=()=>{var e;const t=this.browserLink.statusService.currentStatus;(null===(e=this.currentStatus)||void 0===e?void 0:e.displayText)!==kn("status.updating")||t.displayText!==kn("status.upToDate")?this.currentStatus=t:this.detachBrowserLinkEvents(this.browserLink)},this.handleUpdateBrowserButtonEnabledChanged=()=>{this.isUpdateBrowserButtonEnabled=this.browserLink.updateBrowserButtonService.isButtonEnabled}}connectedCallback(){super.connectedCallback(),this.browserLink&&(this.currentStatus=this.browserLink.statusService.currentStatus,this.attachBrowserLinkEvents())}disconnectedCallback(){super.disconnectedCallback(),this.browserLink&&this.detachBrowserLinkEvents(this.browserLink)}toggleMenu(){var e;null===(e=this.startButton)||void 0===e||e.toggleMenu()}browserLinkChanged(e,t){this.isConnected&&(e&&this.detachBrowserLinkEvents(e),t&&(this.currentStatus=this.browserLink.statusService.currentStatus,this.attachBrowserLinkEvents()))}attachBrowserLinkEvents(){this.browserLink.statusService.statusChanged.subscribe(this.handleStatusChanged),this.browserLink.updateBrowserButtonService.isButtonEnabledChanged.subscribe(this.handleUpdateBrowserButtonEnabledChanged),this.unsubscribedFromEvents=!1}detachBrowserLinkEvents(e){e.statusService.statusChanged.unsubscribe(this.handleStatusChanged),e.updateBrowserButtonService.isButtonEnabledChanged.unsubscribe(this.handleUpdateBrowserButtonEnabledChanged),this.unsubscribedFromEvents=!0}handleClick(){var e;null===(e=this.browserLink)||void 0===e||e.refreshBrowsersService.refreshAllBrowsers()}handleMouseEnter(e){e.preventDefault(),this.statusTextNode.focus()}};Gg([Pr({mode:"boolean"})],Jg.prototype,"minimal",void 0),Gg([Vn.observable],Jg.prototype,"currentStatus",void 0),Gg([Vn.observable],Jg.prototype,"isUpdateBrowserButtonEnabled",void 0),Gg([Vn.observable],Jg.prototype,"unsubscribedFromEvents",void 0),Gg([Vn.observable],Jg.prototype,"browserLink",void 0),Jg=Gg([Hr({name:"wlp-status-bar",template:Qg,styles:Yg})],Jg);const Zg=Zn`
    :host {
        max-height: var(--wlp-status-bar-height);
        display: grid;
        grid-template-columns: max-content minmax(0, max-content) max-content;
    }

    .tagNavBar_container {
        max-height: var(--wlp-status-bar-height);
        white-space: nowrap;
        overflow-x: hidden;
    }

    .tagNavBar_contents {
        display: inline-block;
    }

    .tagNavBar_tagItem {
        cursor: pointer;
    }

    .tagNavBar_tagItem,
    .tagNavBar_scroller {
        user-select: none;
        display: inline-block;
        padding: var(--wlp-status-bar-padding);
        font-family: var(--body-font);
        font-size: var(--type-ramp-base-font-size);
    }

    .tagNavBar_tagItem:hover {
        background-color: ${uh.var};
        color: ${eh.var};
    }

    .tagNavBar_scroller {
        user-select: none;
        color: ${Xd.var};
    }

    :host([overflow-direction="left"]) #leftScroller,
    :host([overflow-direction="both"]) #leftScroller,
    :host([overflow-direction="right"]) #rightScroller,
    :host([overflow-direction="both"]) #rightScroller {
        cursor: pointer;
        font-weight: 500;
        color: inherit;
    }

    :host([overflow-direction="left"]) #leftScroller:hover,
    :host([overflow-direction="both"]) #leftScroller:hover,
    :host([overflow-direction="right"]) #rightScroller:hover,
    :host([overflow-direction="both"]) #rightScroller:hover {
        background-color: ${uh.var};
        color: ${eh.var};
    }

    div[data-selected="true"] {
        font-weight: bold;
    }
`.withBehaviors(uh,eh,Xd),ef=Sr`
    ${(0,Vn.when)((e=>e.hasSelection),Sr`
        <div id="leftScroller" aria-label='${kn("tagNavigator.leftScroller_ariaLabel")}' role="button" class="tagNavBar_scroller"
                @click=${e=>e.handleLeftScrollerClick()}>&lt;</div>
        <div class="tagNavBar_container" ${(0,Vn.ref)("container")}>
            <div class="tagNavBar_contents" ${(0,Vn.ref)("content")}>
                ${(0,Vn.repeat)((e=>e.currentTagList),Sr`
                    <div class="tagNavBar_tagItem"
                            tabIndex = "0"
                            data-selected="${(e,t)=>t.parent.selectedTagItem===e}"
                            @click=${(e,t)=>t.parent.handleTagNavBarSelectionEvent(e,t.event)}
                            @keydown=${(e,t)=>t.parent.handleTagNavBarSelectionEvent(e,t.event)}
                            title=${e=>e.fullText}>
                        ${e=>e.truncatedText}
                    </div>
                `)}
            </div>
        </div>
        <div id="rightScroller" aria-label='${kn("tagNavigator.rightScroller_ariaLabel")}' role="button" class="tagNavBar_scroller"
                @click=${e=>e.handleRightScrollerClick()}>&gt;</div>
    `)}
`;var tf=void 0&&(void 0).__decorate||function(e,t,i,o){var n,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,o);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,i,s):n(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s};let of=class extends Mr{constructor(){super(...arguments),this.tagNavBarOverflow="none",this.handleWindowResize=()=>{this.isLoaded&&(this.checkTagNavBarOverflowAndSetState(),this.scrollSelectedTagElementIntoView())},this.scrollSelectedTagElementIntoView=()=>{if(this.isLoaded){const e=this.container.querySelectorAll('div[data-selected="true"]')[0];e&&e.scrollIntoView({behavior:"smooth"})}},this.checkTagNavBarOverflowAndSetState=()=>{const e=this.determineNavBarOverflow();this.tagNavBarOverflow!==e&&(this.tagNavBarOverflow=e)},this.onTagNavBarChanged=(e,t)=>{this.setTagsAndSelection(t.tagItemList,t.selectedTagItem),qn.SO.queueUpdate(this.tagNavBarUpdated)},this.tagNavBarUpdated=()=>{this.scrollSelectedTagElementIntoView(),this.checkTagNavBarOverflowAndSetState()}}get hasSelection(){var e;return!!((null===(e=this.currentTagList)||void 0===e?void 0:e.length)>0&&this.selectedTagItem)}get isLoaded(){return!!(this.container&&this.content&&this.hasSelection)}connectedCallback(){super.connectedCallback(),window.addEventListener("resize",this.handleWindowResize),this.isLoaded&&(this.checkTagNavBarOverflowAndSetState(),this.scrollSelectedTagElementIntoView()),this.browserLink&&(this.setTagsAndSelection(this.browserLink.tagNavigationService.tagItemList,this.browserLink.tagNavigationService.selectedTagItem),this.browserLink.tagNavigationService.tagHierarchyChanged.subscribe(this.onTagNavBarChanged),jn.bind(Hn.tagNavBarSelection,this.browserLink.tagNavigationService.onNavigateHotKeyPressed.bind(this.browserLink.tagNavigationService),"keyup"))}disconnectedCallback(){super.disconnectedCallback(),window.removeEventListener("resize",this.handleWindowResize),this.browserLink&&this.browserLink.tagNavigationService.tagHierarchyChanged.unsubscribe(this.onTagNavBarChanged),jn.unbind(Hn.tagNavBarSelection,"keyup")}browserLinkChanged(e,t){this.isConnected&&(e&&(e.tagNavigationService.tagHierarchyChanged.unsubscribe(this.onTagNavBarChanged),jn.unbind(Hn.tagNavBarSelection,"keyup")),t&&(this.setTagsAndSelection(this.browserLink.tagNavigationService.tagItemList,this.browserLink.tagNavigationService.selectedTagItem),this.browserLink.tagNavigationService.tagHierarchyChanged.subscribe(this.onTagNavBarChanged),jn.bind(Hn.tagNavBarSelection,this.browserLink.tagNavigationService.onNavigateHotKeyPressed.bind(this.browserLink.tagNavigationService),"keyup")))}handleTagNavBarSelectionEvent(e,t){var i;if("keydown"===t.type){if("Enter"!==t.code)return!0}return e.logicalNode&&(null===(i=this.browserLink)||void 0===i?void 0:i.logicalTree)&&(this.browserLink.selectionService.selectedLogicalNode=e.logicalNode),!1}handleLeftScrollerClick(){this.handleNavBarTranslateX(!0,15,70,10)}handleRightScrollerClick(){this.handleNavBarTranslateX(!1,15,70,10)}handleNavBarTranslateX(e,t,i,o){if(this.isLoaded){let n=0;const r=setInterval(function(){e?this.container.scrollLeft-=o:this.container.scrollLeft+=o,n+=o,n>=i&&(window.clearInterval(r),this.checkTagNavBarOverflowAndSetState())}.bind(this),t)}}setTagsAndSelection(e,t){this.currentTagList=e,this.selectedTagItem=t}determineNavBarOverflow(){if(this.isLoaded){const e=this.container.getBoundingClientRect(),t=Math.floor(e.right),i=Math.floor(e.left),o=this.content.getBoundingClientRect(),n=Math.floor(o.right),r=Math.floor(o.left);if(i>r&&t<n)return"both";if(r<i)return"left";if(n>t)return"right"}return"none"}};function nf(e){return function(){try{return window.self!==window.top}catch(e){return!0}}()?(e.log("Skipping tools initialization due to IFrame detection"),{onConnected(){}}):(function(e){const t=new Dn(e);e.addSharedService("selectionHostingService",t),e.addSharedService("toolsLifetimeService",new Kr(e)),e.addSharedService("selectionService",new Pn(e)),e.addSharedService("browserLinkConnectionStatusService",new Rn),e.addSharedService("logicalTreeInitializedStatusService",new In),e.addSharedService("simpleTextEditingService",new Qr(e)),e.addSharedService("keyboardNavigationService",new Tn(e)),e.addSharedService("statusService",new On),e.addSharedService("tagNavigationService",new _n(e)),e.addSharedService("hotkeyManagerService",new Xr(e)),e.addSharedService("updateBrowserButtonService",new Bn),e.addSharedService("designSurfaceService",new zn),window["livePreview"]=new Fn(e)}(e),e.toolsLifetimeService.renderLivePreviewBrowserUI(),{onConnected:function(){e.log("Tools extension connected"),e.toolsLifetimeService.initialize()}})}tf([Pr({attribute:"overflow-direction"})],of.prototype,"tagNavBarOverflow",void 0),tf([Vn.observable],of.prototype,"currentTagList",void 0),tf([Vn.observable],of.prototype,"selectedTagItem",void 0),tf([Vn.observable],of.prototype,"browserLink",void 0),tf([Vn.volatile],of.prototype,"hasSelection",null),of=tf([Hr({name:"wlp-tag-navigator",template:ef,styles:Zg})],of)},32:function(e,t,i){e.exports=i(839).default},318:function(e){"use strict";e.exports=JSON.parse('["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","isindex","keygen","link","menuitem","meta","nextid","param","source","track","wbr"]')},441:function(e,t,i){var o;!function(n,r,s){if(n){for(var a,l={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},c={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},d={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},h={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},u=1;u<20;++u)l[111+u]="f"+u;for(u=0;u<=9;++u)l[u+96]=u.toString();y.prototype.bind=function(e,t,i){var o=this;return e=e instanceof Array?e:[e],o._bindMultiple.call(o,e,t,i),o},y.prototype.unbind=function(e,t){return this.bind.call(this,e,(function(){}),t)},y.prototype.trigger=function(e,t){var i=this;return i._directMap[e+":"+t]&&i._directMap[e+":"+t]({},e),i},y.prototype.reset=function(){var e=this;return e._callbacks={},e._directMap={},e},y.prototype.stopCallback=function(e,t){if((" "+t.className+" ").indexOf(" mousetrap ")>-1)return!1;if(m(t,this.target))return!1;if("composedPath"in e&&"function"==typeof e.composedPath){var i=e.composedPath()[0];i!==e.target&&(t=i)}return"INPUT"==t.tagName||"SELECT"==t.tagName||"TEXTAREA"==t.tagName||t.isContentEditable},y.prototype.handleKey=function(){var e=this;return e._handleKey.apply(e,arguments)},y.addKeycodes=function(e){for(var t in e)e.hasOwnProperty(t)&&(l[t]=e[t]);a=null},y.init=function(){var e=y(r);for(var t in e)"_"!==t.charAt(0)&&(y[t]=function(t){return function(){return e[t].apply(e,arguments)}}(t))},y.init(),n.Mousetrap=y,1&&e.exports&&(e.exports=y),1&&(void 0===(o=function(){return y}.call(t,i,t,e))||(e.exports=o))}function p(e,t,i){e.addEventListener?e.addEventListener(t,i,!1):e.attachEvent("on"+t,i)}function g(e){if("keypress"==e.type){var t=String.fromCharCode(e.which);return e.shiftKey||(t=t.toLowerCase()),t}return l[e.which]?l[e.which]:c[e.which]?c[e.which]:String.fromCharCode(e.which).toLowerCase()}function f(e){return"shift"==e||"ctrl"==e||"alt"==e||"meta"==e}function v(e,t,i){return i||(i=function(){if(!a)for(var e in a={},l)e>95&&e<112||l.hasOwnProperty(e)&&(a[l[e]]=e);return a}()[e]?"keydown":"keypress"),"keypress"==i&&t.length&&(i="keydown"),i}function b(e,t){var i,o,n,r=[];for(i=function(e){return"+"===e?["+"]:(e=e.replace(/\+{2}/g,"+plus")).split("+")}(e),n=0;n<i.length;++n)o=i[n],h[o]&&(o=h[o]),t&&"keypress"!=t&&d[o]&&(o=d[o],r.push("shift")),f(o)&&r.push(o);return{key:o,modifiers:r,action:t=v(o,r,t)}}function m(e,t){return null!==e&&e!==r&&(e===t||m(e.parentNode,t))}function y(e){var t=this;if(e=e||r,!(t instanceof y))return new y(e);t.target=e,t._callbacks={},t._directMap={};var i,o={},n=!1,s=!1,a=!1;function l(e){e=e||{};var t,i=!1;for(t in o)e[t]?i=!0:o[t]=0;i||(a=!1)}function c(e,i,n,r,s,a){var l,c,d,h,u=[],p=n.type;if(!t._callbacks[e])return[];for("keyup"==p&&f(e)&&(i=[e]),l=0;l<t._callbacks[e].length;++l)if(c=t._callbacks[e][l],(r||!c.seq||o[c.seq]==c.level)&&p==c.action&&("keypress"==p&&!n.metaKey&&!n.ctrlKey||(d=i,h=c.modifiers,d.sort().join(",")===h.sort().join(",")))){var g=!r&&c.combo==s,v=r&&c.seq==r&&c.level==a;(g||v)&&t._callbacks[e].splice(l,1),u.push(c)}return u}function d(e,i,o,n){t.stopCallback(i,i.target||i.srcElement,o,n)||!1===e(i,o)&&(function(e){e.preventDefault?e.preventDefault():e.returnValue=!1}(i),function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}(i))}function h(e){"number"!=typeof e.which&&(e.which=e.keyCode);var i=g(e);i&&("keyup"!=e.type||n!==i?t.handleKey(i,function(e){var t=[];return e.shiftKey&&t.push("shift"),e.altKey&&t.push("alt"),e.ctrlKey&&t.push("ctrl"),e.metaKey&&t.push("meta"),t}(e),e):n=!1)}function u(e,t,r,s){function c(t){return function(){a=t,++o[e],clearTimeout(i),i=setTimeout(l,1e3)}}function h(t){d(r,t,e),"keyup"!==s&&(n=g(t)),setTimeout(l,10)}o[e]=0;for(var u=0;u<t.length;++u){var p=u+1===t.length?h:c(s||b(t[u+1]).action);v(t[u],p,s,e,u)}}function v(e,i,o,n,r){t._directMap[e+":"+o]=i;var s,a=(e=e.replace(/\s+/g," ")).split(" ");a.length>1?u(e,a,i,o):(s=b(e,o),t._callbacks[s.key]=t._callbacks[s.key]||[],c(s.key,s.modifiers,{type:s.action},n,e,r),t._callbacks[s.key][n?"unshift":"push"]({callback:i,modifiers:s.modifiers,action:s.action,seq:n,level:r,combo:e}))}t._handleKey=function(e,t,i){var o,n=c(e,t,i),r={},h=0,u=!1;for(o=0;o<n.length;++o)n[o].seq&&(h=Math.max(h,n[o].level));for(o=0;o<n.length;++o)if(n[o].seq){if(n[o].level!=h)continue;u=!0,r[n[o].seq]=1,d(n[o].callback,i,n[o].combo,n[o].seq)}else u||d(n[o].callback,i,n[o].combo);var p="keypress"==i.type&&s;i.type!=a||f(e)||p||l(r),s=u&&"keydown"==i.type},t._bindMultiple=function(e,t,i){for(var o=0;o<e.length;++o)v(e[o],t,i)},p(e,"keypress",h),p(e,"keydown",h),p(e,"keyup",h)}}("undefined"!=typeof window?window:null,"undefined"!=typeof window?document:null)},349:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(144),n=i(422),r=function(){function e(){this._wrap=new a(this),this._subscriptions=new Array}return Object.defineProperty(e.prototype,"count",{get:function(){return this._subscriptions.length},enumerable:!0,configurable:!0}),e.prototype.subscribe=function(e){var t=this;return e&&this._subscriptions.push(new n.Subscription(e,!1)),function(){t.unsubscribe(e)}},e.prototype.sub=function(e){return this.subscribe(e)},e.prototype.one=function(e){var t=this;return e&&this._subscriptions.push(new n.Subscription(e,!0)),function(){t.unsubscribe(e)}},e.prototype.has=function(e){return!!e&&this._subscriptions.some((function(t){return t.handler==e}))},e.prototype.unsubscribe=function(e){if(e)for(var t=0;t<this._subscriptions.length;t++)if(this._subscriptions[t].handler==e){this._subscriptions.splice(t,1);break}},e.prototype.unsub=function(e){this.unsubscribe(e)},e.prototype._dispatch=function(e,t,i){for(var n=this,r=function(r){var a=new o.EventManagement((function(){return n.unsub(r.handler)})),l=Array.prototype.slice.call(i);if(l.push(a),r.execute(e,t,l),s.cleanup(r),!e&&a.propagationStopped)return"break"},s=this,a=0,l=this._subscriptions.slice();a<l.length;a++){if("break"===r(l[a]))break}},e.prototype.cleanup=function(e){if(e.isOnce&&e.isExecuted){var t=this._subscriptions.indexOf(e);t>-1&&this._subscriptions.splice(t,1)}},e.prototype.asEvent=function(){return this._wrap},e.prototype.clear=function(){this._subscriptions.splice(0,this._subscriptions.length)},e}();t.DispatcherBase=r;var s=function(){function e(){this._events={}}return e.prototype.get=function(e){var t=this._events[e];return t||(t=this.createDispatcher(),this._events[e]=t,t)},e.prototype.remove=function(e){delete this._events[e]},e}();t.EventListBase=s;var a=function(){function e(e){this._subscribe=function(t){return e.subscribe(t)},this._unsubscribe=function(t){return e.unsubscribe(t)},this._one=function(t){return e.one(t)},this._has=function(t){return e.has(t)},this._clear=function(){return e.clear()},this._count=function(){return e.count}}return Object.defineProperty(e.prototype,"count",{get:function(){return this._count()},enumerable:!0,configurable:!0}),e.prototype.subscribe=function(e){return this._subscribe(e)},e.prototype.sub=function(e){return this.subscribe(e)},e.prototype.unsubscribe=function(e){this._unsubscribe(e)},e.prototype.unsub=function(e){this.unsubscribe(e)},e.prototype.one=function(e){return this._one(e)},e.prototype.has=function(e){return this._has(e)},e.prototype.clear=function(){this._clear()},e}();t.DispatcherWrapper=a},210:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(349);t.DispatcherBase=o.DispatcherBase,t.DispatcherWrapper=o.DispatcherWrapper,t.EventListBase=o.EventListBase;var n=i(422);t.Subscription=n.Subscription},144:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e){this.unsub=e,this.propagationStopped=!1}return e.prototype.stopPropagation=function(){this.propagationStopped=!0},e}();t.EventManagement=i},422:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){this.handler=e,this.isOnce=t,this.isExecuted=!1}return e.prototype.execute=function(e,t,i){if(!this.isOnce||!this.isExecuted){this.isExecuted=!0;var o=this.handler;e?setTimeout((function(){o.apply(t,i)}),1):o.apply(t,i)}},e}();t.Subscription=i},685:function(e,t,i){"use strict";var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0});var r=i(210),s=function(e){function t(){return e.call(this)||this}return n(t,e),t.prototype.dispatch=function(e,t){this._dispatch(!1,this,arguments)},t.prototype.dispatchAsync=function(e,t){this._dispatch(!0,this,arguments)},t.prototype.asEvent=function(){return e.prototype.asEvent.call(this)},t}(r.DispatcherBase);t.EventDispatcher=s;var a=function(){function e(){this._events={}}return e.prototype.get=function(e){if(this._events[e])return this._events[e];var t=this.createDispatcher();return this._events[e]=t,t},e.prototype.remove=function(e){delete this._events[e]},e.prototype.createDispatcher=function(){return new s},e}();t.NonUniformEventList=a;var l=function(e){function t(){return e.call(this)||this}return n(t,e),t.prototype.createDispatcher=function(){return new s},t}(r.EventListBase);t.EventList=l;var c=function(){function e(){this._events=new l}return Object.defineProperty(e.prototype,"events",{get:function(){return this._events},enumerable:!0,configurable:!0}),e.prototype.subscribe=function(e,t){this._events.get(e).subscribe(t)},e.prototype.sub=function(e,t){this.subscribe(e,t)},e.prototype.unsubscribe=function(e,t){this._events.get(e).unsubscribe(t)},e.prototype.unsub=function(e,t){this.unsubscribe(e,t)},e.prototype.one=function(e,t){this._events.get(e).one(t)},e.prototype.has=function(e,t){return this._events.get(e).has(t)},e}();t.EventHandlingBase=c},132:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(685);t.EventDispatcher=o.EventDispatcher,t.EventHandlingBase=o.EventHandlingBase,t.EventList=o.EventList,t.NonUniformEventList=o.NonUniformEventList},106:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(141);t.SignalDispatcher=o.SignalDispatcher,t.SignalHandlingBase=o.SignalHandlingBase,t.SignalList=o.SignalList},141:function(e,t,i){"use strict";var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0});var r=i(210),s=function(e){function t(){return e.call(this)||this}return n(t,e),t.prototype.dispatch=function(){this._dispatch(!1,this,arguments)},t.prototype.dispatchAsync=function(){this._dispatch(!0,this,arguments)},t.prototype.asEvent=function(){return e.prototype.asEvent.call(this)},t}(r.DispatcherBase);t.SignalDispatcher=s;var a=function(e){function t(){return e.call(this)||this}return n(t,e),t.prototype.createDispatcher=function(){return new s},t}(r.EventListBase);t.SignalList=a;var l=function(){function e(){this._events=new a}return Object.defineProperty(e.prototype,"events",{get:function(){return this._events},enumerable:!0,configurable:!0}),e.prototype.one=function(e,t){this._events.get(e).one(t)},e.prototype.has=function(e,t){return this._events.get(e).has(t)},e.prototype.subscribe=function(e,t){this._events.get(e).subscribe(t)},e.prototype.sub=function(e,t){this.subscribe(e,t)},e.prototype.unsubscribe=function(e,t){this._events.get(e).unsubscribe(t)},e.prototype.unsub=function(e,t){this.unsubscribe(e,t)},e}();t.SignalHandlingBase=l},602:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(699);t.SimpleEventDispatcher=o.SimpleEventDispatcher,t.SimpleEventHandlingBase=o.SimpleEventHandlingBase,t.SimpleEventList=o.SimpleEventList,t.NonUniformSimpleEventList=o.NonUniformSimpleEventList},699:function(e,t,i){"use strict";var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0});var r=i(210),s=function(e){function t(){return e.call(this)||this}return n(t,e),t.prototype.dispatch=function(e){this._dispatch(!1,this,arguments)},t.prototype.dispatchAsync=function(e){this._dispatch(!0,this,arguments)},t.prototype.asEvent=function(){return e.prototype.asEvent.call(this)},t}(r.DispatcherBase);t.SimpleEventDispatcher=s;var a=function(){function e(){this._events={}}return e.prototype.get=function(e){if(this._events[e])return this._events[e];var t=this.createDispatcher();return this._events[e]=t,t},e.prototype.remove=function(e){delete this._events[e]},e.prototype.createDispatcher=function(){return new s},e}();t.NonUniformSimpleEventList=a;var l=function(e){function t(){return e.call(this)||this}return n(t,e),t.prototype.createDispatcher=function(){return new s},t}(r.EventListBase);t.SimpleEventList=l;var c=function(){function e(){this._events=new l}return Object.defineProperty(e.prototype,"events",{get:function(){return this._events},enumerable:!0,configurable:!0}),e.prototype.subscribe=function(e,t){this._events.get(e).subscribe(t)},e.prototype.sub=function(e,t){this.subscribe(e,t)},e.prototype.one=function(e,t){this._events.get(e).one(t)},e.prototype.has=function(e,t){return this._events.get(e).has(t)},e.prototype.unsubscribe=function(e,t){this._events.get(e).unsubscribe(t)},e.prototype.unsub=function(e,t){this.unsubscribe(e,t)},e}();t.SimpleEventHandlingBase=c},993:function(e,t,i){"use strict";var o=i(210);o.DispatcherBase,o.DispatcherWrapper,o.EventListBase,o.Subscription;var n=i(132);t.pB=n.EventDispatcher,n.EventHandlingBase,n.EventList,n.NonUniformEventList;var r=i(602);t.FK=r.SimpleEventDispatcher,r.SimpleEventHandlingBase,r.SimpleEventList,r.NonUniformSimpleEventList;var s=i(106);s.SignalDispatcher,s.SignalHandlingBase,s.SignalList}},t={};function i(o){if(t[o])return t[o].exports;var n=t[o]={exports:{}};return e[o].call(n.exports,n,n.exports,i),n.exports}return i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,{a:t}),t},i.d=function(e,t){for(var o in t)i.o(t,o)&&!i.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i(32)}();;
this.addExtension("Microsoft.WebTools.BrowserLink.LivePreview.LivePreviewBrowserUIExtensionFactory", extension); }} catch(e) {{ this.log("Invalid extension script encountered for extension 'Microsoft.WebTools.BrowserLink.LivePreview.LivePreviewBrowserUIExtensionFactory'."); return; }}
try {{ var extension =
/*! For license information please see host_bundle.js.LICENSE.txt */
function(){var e={954:function(e,t,n){"use strict";function i(e){return new r(e)}n.d(t,{default:function(){return Pl}});class r{constructor(e){if(this.node=e,!e)throw Error("node must not be null or undefined.")}get isUnsupported(){return this.node.properties&&this.node.properties[r.isUnsupportedPropertyName]}set isUnsupported(e){this.verifyPropertyBagExists(),this.node.properties[r.isUnsupportedPropertyName]=e}get mapsToDom(){var e;return!1!==(null===(e=this.node.properties)||void 0===e?void 0:e[r.mapsToDomPropertyName])}set mapsToDom(e){this.verifyPropertyBagExists(),this.node.properties[r.mapsToDomPropertyName]=e}get codeBlockType(){var e;return this.convertToCodeBlockType(null===(e=this.node.properties)||void 0===e?void 0:e[r.codeBlockTypePropertyName])}set codeBlockType(e){this.verifyPropertyBagExists();const t=this.convertStringToCodeBlockType(e);this.node.properties[r.codeBlockTypePropertyName]=t}convertToCodeBlockType(e){return 1===e?"SelfContained":2===e?"Conditional":3===e?"Loop":4===e?"Block":"None"}convertStringToCodeBlockType(e){return"SelfContained"===e?1:"Conditional"===e?2:"Loop"===e?3:"Block"===e?4:0}verifyPropertyBagExists(){this.node.properties||(this.node.properties={})}}r.isUnsupportedPropertyName="IsUnsupportedProperty",r.mapsToDomPropertyName="MapsToDomProperty",r.codeBlockTypePropertyName="CodeBlockTypeProperty";class o{constructor(){this.isMouseCloserToNodeBoundingClientRectLeftThanRight=(e,t)=>{const n=this.getBoundingClientRect(t);return e<(n.left+n.right)/2}}getBoundingClientRect(e){if(function(e){return void 0!==e.getBoundingClientRect}(e))return e.getBoundingClientRect();const t=document.createRange();return t.selectNodeContents(e),t.getBoundingClientRect()}hasNonZeroArea(e){const t=this.getBoundingClientRect(e);return t&&t.width>0&&t.height>0}}function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){s(e,t,n[t])}))}return e}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function p(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),e}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?d(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}var m={type:"logger",log:function(e){this.output("log",e)},warn:function(e){this.output("warn",e)},error:function(e){this.output("error",e)},output:function(e,t){console&&console[e]&&console[e].apply(console,t)}},y=new(function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};u(this,e),this.init(t,n)}return p(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||m,this.options=t,this.debug=t.debug}},{key:"setDebug",value:function(e){this.debug=e}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"log","",!0)}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","",!0)}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"error","")}},{key:"deprecate",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(e,t,n,i){return i&&!this.debug?null:("string"==typeof e[0]&&(e[0]="".concat(n).concat(this.prefix," ").concat(e[0])),this.logger[t](e))}},{key:"create",value:function(t){return new e(this.logger,c({},{prefix:"".concat(this.prefix,":").concat(t,":")},this.options))}}]),e}()),b=function(){function e(){u(this,e),this.observers={}}return p(e,[{key:"on",value:function(e,t){var n=this;return e.split(" ").forEach((function(e){n.observers[e]=n.observers[e]||[],n.observers[e].push(t)})),this}},{key:"off",value:function(e,t){this.observers[e]&&(t?this.observers[e]=this.observers[e].filter((function(e){return e!==t})):delete this.observers[e])}},{key:"emit",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(this.observers[e]){var r=[].concat(this.observers[e]);r.forEach((function(e){e.apply(void 0,n)}))}if(this.observers["*"]){var o=[].concat(this.observers["*"]);o.forEach((function(t){t.apply(t,[e].concat(n))}))}}}]),e}();function x(){var e,t,n=new Promise((function(n,i){e=n,t=i}));return n.resolve=e,n.reject=t,n}function w(e){return null==e?"":""+e}function S(e,t,n){e.forEach((function(e){t[e]&&(n[e]=t[e])}))}function I(e,t,n){function i(e){return e&&e.indexOf("###")>-1?e.replace(/###/g,"."):e}function r(){return!e||"string"==typeof e}for(var o="string"!=typeof t?[].concat(t):t.split(".");o.length>1;){if(r())return{};var a=i(o.shift());!e[a]&&n&&(e[a]=new n),e=Object.prototype.hasOwnProperty.call(e,a)?e[a]:{}}return r()?{}:{obj:e,k:i(o.shift())}}function C(e,t,n){var i=I(e,t,Object);i.obj[i.k]=n}function T(e,t){var n=I(e,t),i=n.obj,r=n.k;if(i)return i[r]}function k(e,t,n){var i=T(e,n);return void 0!==i?i:T(t,n)}function _(e,t,n){for(var i in t)"__proto__"!==i&&"constructor"!==i&&(i in e?"string"==typeof e[i]||e[i]instanceof String||"string"==typeof t[i]||t[i]instanceof String?n&&(e[i]=t[i]):_(e[i],t[i],n):e[i]=t[i]);return e}function N(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var E={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function L(e){return"string"==typeof e?e.replace(/[&<>"'\/]/g,(function(e){return E[e]})):e}var D="undefined"!=typeof window&&window.navigator&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,A=function(e){function t(e){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};return u(this,t),n=f(this,h(t).call(this)),D&&b.call(d(n)),n.data=e||{},n.options=i,void 0===n.options.keySeparator&&(n.options.keySeparator="."),n}return v(t,e),p(t,[{key:"addNamespaces",value:function(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}},{key:"removeNamespaces",value:function(e){var t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}},{key:"getResource",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=void 0!==i.keySeparator?i.keySeparator:this.options.keySeparator,o=[e,t];return n&&"string"!=typeof n&&(o=o.concat(n)),n&&"string"==typeof n&&(o=o.concat(r?n.split(r):n)),e.indexOf(".")>-1&&(o=e.split(".")),T(this.data,o)}},{key:"addResource",value:function(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},o=this.options.keySeparator;void 0===o&&(o=".");var a=[e,t];n&&(a=a.concat(o?n.split(o):n)),e.indexOf(".")>-1&&(i=t,t=(a=e.split("."))[1]),this.addNamespaces(t),C(this.data,a,i),r.silent||this.emit("added",e,t,n,i)}},{key:"addResources",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(var r in n)"string"!=typeof n[r]&&"[object Array]"!==Object.prototype.toString.apply(n[r])||this.addResource(e,t,r,n[r],{silent:!0});i.silent||this.emit("added",e,t,n)}},{key:"addResourceBundle",value:function(e,t,n,i,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1},a=[e,t];e.indexOf(".")>-1&&(i=n,n=t,t=(a=e.split("."))[1]),this.addNamespaces(t);var s=T(this.data,a)||{};i?_(s,n,r):s=c({},s,n),C(this.data,a,s),o.silent||this.emit("added",e,t,n)}},{key:"removeResourceBundle",value:function(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}},{key:"hasResourceBundle",value:function(e,t){return void 0!==this.getResource(e,t)}},{key:"getResourceBundle",value:function(e,t){return t||(t=this.options.defaultNS),"v1"===this.options.compatibilityAPI?c({},{},this.getResource(e,t)):this.getResource(e,t)}},{key:"getDataByLanguage",value:function(e){return this.data[e]}},{key:"toJSON",value:function(){return this.data}}]),t}(b),P={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,t,n,i,r){var o=this;return e.forEach((function(e){o.processors[e]&&(t=o.processors[e].process(t,n,i,r))})),t}},R={},O=function(e){function t(e){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return u(this,t),n=f(this,h(t).call(this)),D&&b.call(d(n)),S(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,d(n)),n.options=i,void 0===n.options.keySeparator&&(n.options.keySeparator="."),n.logger=y.create("translator"),n}return v(t,e),p(t,[{key:"changeLanguage",value:function(e){e&&(this.language=e)}},{key:"exists",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}},n=this.resolve(e,t);return n&&void 0!==n.res}},{key:"extractFromKey",value:function(e,t){var n=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===n&&(n=":");var i=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,r=t.ns||this.options.defaultNS;if(n&&e.indexOf(n)>-1){var o=e.match(this.interpolator.nestingRegexp);if(o&&o.length>0)return{key:e,namespaces:r};var a=e.split(n);(n!==i||n===i&&this.options.ns.indexOf(a[0])>-1)&&(r=a.shift()),e=a.join(i)}return"string"==typeof r&&(r=[r]),{key:e,namespaces:r}}},{key:"translate",value:function(e,n,i){var r=this;if("object"!==a(n)&&this.options.overloadTranslationOptionHandler&&(n=this.options.overloadTranslationOptionHandler(arguments)),n||(n={}),null==e)return"";Array.isArray(e)||(e=[String(e)]);var o=void 0!==n.keySeparator?n.keySeparator:this.options.keySeparator,s=this.extractFromKey(e[e.length-1],n),u=s.key,l=s.namespaces,p=l[l.length-1],d=n.lng||this.language,f=n.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(d&&"cimode"===d.toLowerCase()){if(f){var h=n.nsSeparator||this.options.nsSeparator;return p+h+u}return u}var g=this.resolve(e,n),v=g&&g.res,m=g&&g.usedKey||u,y=g&&g.exactUsedKey||u,b=Object.prototype.toString.apply(v),x=["[object Number]","[object Function]","[object RegExp]"],w=void 0!==n.joinArrays?n.joinArrays:this.options.joinArrays,S=!this.i18nFormat||this.i18nFormat.handleAsObject,I="string"!=typeof v&&"boolean"!=typeof v&&"number"!=typeof v;if(S&&v&&I&&x.indexOf(b)<0&&("string"!=typeof w||"[object Array]"!==b)){if(!n.returnObjects&&!this.options.returnObjects)return this.logger.warn("accessing an object - but returnObjects options is not enabled!"),this.options.returnedObjectHandler?this.options.returnedObjectHandler(m,v,n):"key '".concat(u," (").concat(this.language,")' returned an object instead of string.");if(o){var C="[object Array]"===b,T=C?[]:{},k=C?y:m;for(var _ in v)if(Object.prototype.hasOwnProperty.call(v,_)){var N="".concat(k).concat(o).concat(_);T[_]=this.translate(N,c({},n,{joinArrays:!1,ns:l})),T[_]===N&&(T[_]=v[_])}v=T}}else if(S&&"string"==typeof w&&"[object Array]"===b)(v=v.join(w))&&(v=this.extendTranslation(v,e,n,i));else{var E=!1,L=!1,D=void 0!==n.count&&"string"!=typeof n.count,A=t.hasDefaultValue(n),P=D?this.pluralResolver.getSuffix(d,n.count):"",R=n["defaultValue".concat(P)];!this.isValidLookup(v)&&A&&(E=!0,v=R),this.isValidLookup(v)||(L=!0,v=u);var O=A&&R!==v&&this.options.updateMissing;if(L||E||O){if(this.logger.log(O?"updateKey":"missingKey",d,p,u,O?R:v),o){var M=this.resolve(u,c({},n,{keySeparator:!1}));M&&M.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var U=[],j=this.languageUtils.getFallbackCodes(this.options.fallbackLng,n.lng||this.language);if("fallback"===this.options.saveMissingTo&&j&&j[0])for(var F=0;F<j.length;F++)U.push(j[F]);else"all"===this.options.saveMissingTo?U=this.languageUtils.toResolveHierarchy(n.lng||this.language):U.push(n.lng||this.language);var B=function(e,t,i){r.options.missingKeyHandler?r.options.missingKeyHandler(e,p,t,O?i:v,O,n):r.backendConnector&&r.backendConnector.saveMissing&&r.backendConnector.saveMissing(e,p,t,O?i:v,O,n),r.emit("missingKey",e,p,t,v)};this.options.saveMissing&&(this.options.saveMissingPlurals&&D?U.forEach((function(e){r.pluralResolver.getSuffixes(e).forEach((function(t){B([e],u+t,n["defaultValue".concat(t)])}))})):B(U,u,R))}v=this.extendTranslation(v,e,n,g,i),L&&v===u&&this.options.appendNamespaceToMissingKey&&(v="".concat(p,":").concat(u)),L&&this.options.parseMissingKeyHandler&&(v=this.options.parseMissingKeyHandler(v))}return v}},{key:"extendTranslation",value:function(e,t,n,i,r){var o=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,n,i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init(c({},n,{interpolation:c({},this.options.interpolation,n.interpolation)}));var a,s=n.interpolation&&n.interpolation.skipOnVariables||this.options.interpolation.skipOnVariables;if(s){var u=e.match(this.interpolator.nestingRegexp);a=u&&u.length}var l=n.replace&&"string"!=typeof n.replace?n.replace:n;if(this.options.interpolation.defaultVariables&&(l=c({},this.options.interpolation.defaultVariables,l)),e=this.interpolator.interpolate(e,l,n.lng||this.language,n),s){var p=e.match(this.interpolator.nestingRegexp);a<(p&&p.length)&&(n.nest=!1)}!1!==n.nest&&(e=this.interpolator.nest(e,(function(){for(var e=arguments.length,i=new Array(e),a=0;a<e;a++)i[a]=arguments[a];return r&&r[0]===i[0]&&!n.context?(o.logger.warn("It seems you are nesting recursively key: ".concat(i[0]," in key: ").concat(t[0])),null):o.translate.apply(o,i.concat([t]))}),n)),n.interpolation&&this.interpolator.reset()}var d=n.postProcess||this.options.postProcess,f="string"==typeof d?[d]:d;return null!=e&&f&&f.length&&!1!==n.applyPostProcessor&&(e=P.handle(f,e,t,this.options&&this.options.postProcessPassResolved?c({i18nResolved:i},n):n,this)),e}},{key:"resolve",value:function(e){var t,n,i,r,o,a=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"==typeof e&&(e=[e]),e.forEach((function(e){if(!a.isValidLookup(t)){var c=a.extractFromKey(e,s),u=c.key;n=u;var l=c.namespaces;a.options.fallbackNS&&(l=l.concat(a.options.fallbackNS));var p=void 0!==s.count&&"string"!=typeof s.count,d=void 0!==s.context&&"string"==typeof s.context&&""!==s.context,f=s.lngs?s.lngs:a.languageUtils.toResolveHierarchy(s.lng||a.language,s.fallbackLng);l.forEach((function(e){a.isValidLookup(t)||(o=e,!R["".concat(f[0],"-").concat(e)]&&a.utils&&a.utils.hasLoadedNamespace&&!a.utils.hasLoadedNamespace(o)&&(R["".concat(f[0],"-").concat(e)]=!0,a.logger.warn('key "'.concat(n,'" for languages "').concat(f.join(", "),'" won\'t get resolved as namespace "').concat(o,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),f.forEach((function(n){if(!a.isValidLookup(t)){r=n;var o,c,l=u,f=[l];if(a.i18nFormat&&a.i18nFormat.addLookupKeys)a.i18nFormat.addLookupKeys(f,u,n,e,s);else p&&(o=a.pluralResolver.getSuffix(n,s.count)),p&&d&&f.push(l+o),d&&f.push(l+="".concat(a.options.contextSeparator).concat(s.context)),p&&f.push(l+=o);for(;c=f.pop();)a.isValidLookup(t)||(i=c,t=a.getResource(n,e,c,s))}})))}))}})),{res:t,usedKey:n,exactUsedKey:i,usedLng:r,usedNS:o}}},{key:"isValidLookup",value:function(e){return!(void 0===e||!this.options.returnNull&&null===e||!this.options.returnEmptyString&&""===e)}},{key:"getResource",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,n,i):this.resourceStore.getResource(e,t,n,i)}}],[{key:"hasDefaultValue",value:function(e){var t="defaultValue";for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t===n.substring(0,t.length)&&void 0!==e[n])return!0;return!1}}]),t}(b);function M(e){return e.charAt(0).toUpperCase()+e.slice(1)}var U=function(){function e(t){u(this,e),this.options=t,this.whitelist=this.options.supportedLngs||!1,this.supportedLngs=this.options.supportedLngs||!1,this.logger=y.create("languageUtils")}return p(e,[{key:"getScriptPartFromCode",value:function(e){if(!e||e.indexOf("-")<0)return null;var t=e.split("-");return 2===t.length?null:(t.pop(),"x"===t[t.length-1].toLowerCase()?null:this.formatLanguageCode(t.join("-")))}},{key:"getLanguagePartFromCode",value:function(e){if(!e||e.indexOf("-")<0)return e;var t=e.split("-");return this.formatLanguageCode(t[0])}},{key:"formatLanguageCode",value:function(e){if("string"==typeof e&&e.indexOf("-")>-1){var t=["hans","hant","latn","cyrl","cans","mong","arab"],n=e.split("-");return this.options.lowerCaseLng?n=n.map((function(e){return e.toLowerCase()})):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=M(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=M(n[1].toLowerCase())),t.indexOf(n[2].toLowerCase())>-1&&(n[2]=M(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}},{key:"isWhitelisted",value:function(e){return this.logger.deprecate("languageUtils.isWhitelisted",'function "isWhitelisted" will be renamed to "isSupportedCode" in the next major - please make sure to rename it\'s usage asap.'),this.isSupportedCode(e)}},{key:"isSupportedCode",value:function(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}},{key:"getBestMatchFromCodes",value:function(e){var t,n=this;return e?(e.forEach((function(e){if(!t){var i=n.formatLanguageCode(e);n.options.supportedLngs&&!n.isSupportedCode(i)||(t=i)}})),!t&&this.options.supportedLngs&&e.forEach((function(e){if(!t){var i=n.getLanguagePartFromCode(e);if(n.isSupportedCode(i))return t=i;t=n.options.supportedLngs.find((function(e){if(0===e.indexOf(i))return e}))}})),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t):null}},{key:"getFallbackCodes",value:function(e,t){if(!e)return[];if("function"==typeof e&&(e=e(t)),"string"==typeof e&&(e=[e]),"[object Array]"===Object.prototype.toString.apply(e))return e;if(!t)return e["default"]||[];var n=e[t];return n||(n=e[this.getScriptPartFromCode(t)]),n||(n=e[this.formatLanguageCode(t)]),n||(n=e[this.getLanguagePartFromCode(t)]),n||(n=e["default"]),n||[]}},{key:"toResolveHierarchy",value:function(e,t){var n=this,i=this.getFallbackCodes(t||this.options.fallbackLng||[],e),r=[],o=function(e){e&&(n.isSupportedCode(e)?r.push(e):n.logger.warn("rejecting language code not found in supportedLngs: ".concat(e)))};return"string"==typeof e&&e.indexOf("-")>-1?("languageOnly"!==this.options.load&&o(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&o(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&o(this.getLanguagePartFromCode(e))):"string"==typeof e&&o(this.formatLanguageCode(e)),i.forEach((function(e){r.indexOf(e)<0&&o(n.formatLanguageCode(e))})),r}}]),e}(),j=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","kk","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],F={1:function(e){return Number(e>1)},2:function(e){return Number(1!=e)},3:function(e){return 0},4:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},5:function(e){return Number(0==e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)},6:function(e){return Number(1==e?0:e>=2&&e<=4?1:2)},7:function(e){return Number(1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},8:function(e){return Number(1==e?0:2==e?1:8!=e&&11!=e?2:3)},9:function(e){return Number(e>=2)},10:function(e){return Number(1==e?0:2==e?1:e<7?2:e<11?3:4)},11:function(e){return Number(1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3)},12:function(e){return Number(e%10!=1||e%100==11)},13:function(e){return Number(0!==e)},14:function(e){return Number(1==e?0:2==e?1:3==e?2:3)},15:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)},16:function(e){return Number(e%10==1&&e%100!=11?0:0!==e?1:2)},17:function(e){return Number(1==e||e%10==1&&e%100!=11?0:1)},18:function(e){return Number(0==e?0:1==e?1:2)},19:function(e){return Number(1==e?0:0==e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)},20:function(e){return Number(1==e?0:0==e||e%100>0&&e%100<20?1:2)},21:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)},22:function(e){return Number(1==e?0:2==e?1:(e<0||e>10)&&e%10==0?2:3)}};function B(){var e={};return j.forEach((function(t){t.lngs.forEach((function(n){e[n]={numbers:t.nr,plurals:F[t.fc]}}))})),e}var q=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};u(this,e),this.languageUtils=t,this.options=n,this.logger=y.create("pluralResolver"),this.rules=B()}return p(e,[{key:"addRule",value:function(e,t){this.rules[e]=t}},{key:"getRule",value:function(e){return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}},{key:"needsPlural",value:function(e){var t=this.getRule(e);return t&&t.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(e,t){return this.getSuffixes(e).map((function(e){return t+e}))}},{key:"getSuffixes",value:function(e){var t=this,n=this.getRule(e);return n?n.numbers.map((function(n){return t.getSuffix(e,n)})):[]}},{key:"getSuffix",value:function(e,t){var n=this,i=this.getRule(e);if(i){var r=i.noAbs?i.plurals(t):i.plurals(Math.abs(t)),o=i.numbers[r];this.options.simplifyPluralSuffix&&2===i.numbers.length&&1===i.numbers[0]&&(2===o?o="plural":1===o&&(o=""));var a=function(){return n.options.prepend&&o.toString()?n.options.prepend+o.toString():o.toString()};return"v1"===this.options.compatibilityJSON?1===o?"":"number"==typeof o?"_plural_".concat(o.toString()):a():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===i.numbers.length&&1===i.numbers[0]?a():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}return this.logger.warn("no plural rule found for: ".concat(e)),""}}]),e}(),z=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};u(this,e),this.logger=y.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||function(e){return e},this.init(t)}return p(e,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});var t=e.interpolation;this.escape=void 0!==t.escape?t.escape:L,this.escapeValue=void 0===t.escapeValue||t.escapeValue,this.useRawValueToEscape=void 0!==t.useRawValueToEscape&&t.useRawValueToEscape,this.prefix=t.prefix?N(t.prefix):t.prefixEscaped||"{{",this.suffix=t.suffix?N(t.suffix):t.suffixEscaped||"}}",this.formatSeparator=t.formatSeparator?t.formatSeparator:t.formatSeparator||",",this.unescapePrefix=t.unescapeSuffix?"":t.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":t.unescapeSuffix||"",this.nestingPrefix=t.nestingPrefix?N(t.nestingPrefix):t.nestingPrefixEscaped||N("$t("),this.nestingSuffix=t.nestingSuffix?N(t.nestingSuffix):t.nestingSuffixEscaped||N(")"),this.nestingOptionsSeparator=t.nestingOptionsSeparator?t.nestingOptionsSeparator:t.nestingOptionsSeparator||",",this.maxReplaces=t.maxReplaces?t.maxReplaces:1e3,this.alwaysFormat=void 0!==t.alwaysFormat&&t.alwaysFormat,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var e="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(e,"g");var t="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(t,"g");var n="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(n,"g")}},{key:"interpolate",value:function(e,t,n,i){var r,o,a,s=this,c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function u(e){return e.replace(/\$/g,"$$$$")}var l=function(e){if(e.indexOf(s.formatSeparator)<0){var r=k(t,c,e);return s.alwaysFormat?s.format(r,void 0,n):r}var o=e.split(s.formatSeparator),a=o.shift().trim(),u=o.join(s.formatSeparator).trim();return s.format(k(t,c,a),u,n,i)};this.resetRegExp();var p=i&&i.missingInterpolationHandler||this.options.missingInterpolationHandler,d=i&&i.interpolation&&i.interpolation.skipOnVariables||this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:function(e){return u(e)}},{regex:this.regexp,safeValue:function(e){return s.escapeValue?u(s.escape(e)):u(e)}}].forEach((function(t){for(a=0;r=t.regex.exec(e);){if(void 0===(o=l(r[1].trim())))if("function"==typeof p){var n=p(e,r,i);o="string"==typeof n?n:""}else{if(d){o=r[0];continue}s.logger.warn("missed to pass in variable ".concat(r[1]," for interpolating ").concat(e)),o=""}else"string"==typeof o||s.useRawValueToEscape||(o=w(o));if(e=e.replace(r[0],t.safeValue(o)),t.regex.lastIndex=0,++a>=s.maxReplaces)break}})),e}},{key:"nest",value:function(e,t){var n,i,r=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=c({},o);function s(e,t){var n=this.nestingOptionsSeparator;if(e.indexOf(n)<0)return e;var i=e.split(new RegExp("".concat(n,"[ ]*{"))),r="{".concat(i[1]);e=i[0],r=(r=this.interpolate(r,a)).replace(/'/g,'"');try{a=JSON.parse(r),t&&(a=c({},t,a))}catch(t){return this.logger.warn("failed parsing options string in nesting for key ".concat(e),t),"".concat(e).concat(n).concat(r)}return delete a.defaultValue,e}for(a.applyPostProcessor=!1,delete a.defaultValue;n=this.nestingRegexp.exec(e);){var u=[],l=!1;if(n[0].includes(this.formatSeparator)&&!/{.*}/.test(n[1])){var p=n[1].split(this.formatSeparator).map((function(e){return e.trim()}));n[1]=p.shift(),u=p,l=!0}if((i=t(s.call(this,n[1].trim(),a),a))&&n[0]===e&&"string"!=typeof i)return i;"string"!=typeof i&&(i=w(i)),i||(this.logger.warn("missed to resolve ".concat(n[1]," for nesting ").concat(e)),i=""),l&&(i=u.reduce((function(e,t){return r.format(e,t,o.lng,o)}),i.trim())),e=e.replace(n[0],i),this.regexp.lastIndex=0}return e}}]),e}();var V=function(e){function t(e,n,i){var r,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return u(this,t),r=f(this,h(t).call(this)),D&&b.call(d(r)),r.backend=e,r.store=n,r.services=i,r.languageUtils=i.languageUtils,r.options=o,r.logger=y.create("backendConnector"),r.state={},r.queue=[],r.backend&&r.backend.init&&r.backend.init(i,o.backend,o),r}return v(t,e),p(t,[{key:"queueLoad",value:function(e,t,n,i){var r=this,o=[],a=[],s=[],c=[];return e.forEach((function(e){var i=!0;t.forEach((function(t){var s="".concat(e,"|").concat(t);!n.reload&&r.store.hasResourceBundle(e,t)?r.state[s]=2:r.state[s]<0||(1===r.state[s]?a.indexOf(s)<0&&a.push(s):(r.state[s]=1,i=!1,a.indexOf(s)<0&&a.push(s),o.indexOf(s)<0&&o.push(s),c.indexOf(t)<0&&c.push(t)))})),i||s.push(e)})),(o.length||a.length)&&this.queue.push({pending:a,loaded:{},errors:[],callback:i}),{toLoad:o,pending:a,toLoadLanguages:s,toLoadNamespaces:c}}},{key:"loaded",value:function(e,t,n){var i=e.split("|"),r=i[0],o=i[1];t&&this.emit("failedLoading",r,o,t),n&&this.store.addResourceBundle(r,o,n),this.state[e]=t?-1:2;var a={};this.queue.forEach((function(n){!function(e,t,n,i){var r=I(e,t,Object),o=r.obj,a=r.k;o[a]=o[a]||[],i&&(o[a]=o[a].concat(n)),i||o[a].push(n)}(n.loaded,[r],o),function(e,t){for(var n=e.indexOf(t);-1!==n;)e.splice(n,1),n=e.indexOf(t)}(n.pending,e),t&&n.errors.push(t),0!==n.pending.length||n.done||(Object.keys(n.loaded).forEach((function(e){a[e]||(a[e]=[]),n.loaded[e].length&&n.loaded[e].forEach((function(t){a[e].indexOf(t)<0&&a[e].push(t)}))})),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())})),this.emit("loaded",a),this.queue=this.queue.filter((function(e){return!e.done}))}},{key:"read",value:function(e,t,n){var i=this,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:350,a=arguments.length>5?arguments[5]:void 0;return e.length?this.backend[n](e,t,(function(s,c){s&&c&&r<5?setTimeout((function(){i.read.call(i,e,t,n,r+1,2*o,a)}),o):a(s,c)})):a(null,{})}},{key:"prepareLoading",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),r&&r();"string"==typeof e&&(e=this.languageUtils.toResolveHierarchy(e)),"string"==typeof t&&(t=[t]);var o=this.queueLoad(e,t,i,r);if(!o.toLoad.length)return o.pending.length||r(),null;o.toLoad.forEach((function(e){n.loadOne(e)}))}},{key:"load",value:function(e,t,n){this.prepareLoading(e,t,{},n)}},{key:"reload",value:function(e,t,n){this.prepareLoading(e,t,{reload:!0},n)}},{key:"loadOne",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=e.split("|"),r=i[0],o=i[1];this.read(r,o,"read",void 0,void 0,(function(i,a){i&&t.logger.warn("".concat(n,"loading namespace ").concat(o," for language ").concat(r," failed"),i),!i&&a&&t.logger.log("".concat(n,"loaded namespace ").concat(o," for language ").concat(r),a),t.loaded(e,i,a)}))}},{key:"saveMissing",value:function(e,t,n,i,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t)?this.logger.warn('did not save key "'.concat(n,'" as the namespace "').concat(t,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!"):null!=n&&""!==n&&(this.backend&&this.backend.create&&this.backend.create(e,t,n,i,null,c({},o,{isUpdate:r})),e&&e[0]&&this.store.addResource(e[0],t,n,i))}}]),t}(b);function H(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,whitelist:!1,nonExplicitWhitelist:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){var t={};if("object"===a(e[1])&&(t=e[1]),"string"==typeof e[1]&&(t.defaultValue=e[1]),"string"==typeof e[2]&&(t.tDescription=e[2]),"object"===a(e[2])||"object"===a(e[3])){var n=e[3]||e[2];Object.keys(n).forEach((function(e){t[e]=n[e]}))}return t},interpolation:{escapeValue:!0,format:function(e,t,n,i){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!1}}}function W(e){return"string"==typeof e.ns&&(e.ns=[e.ns]),"string"==typeof e.fallbackLng&&(e.fallbackLng=[e.fallbackLng]),"string"==typeof e.fallbackNS&&(e.fallbackNS=[e.fallbackNS]),e.whitelist&&(e.whitelist&&e.whitelist.indexOf("cimode")<0&&(e.whitelist=e.whitelist.concat(["cimode"])),e.supportedLngs=e.whitelist),e.nonExplicitWhitelist&&(e.nonExplicitSupportedLngs=e.nonExplicitWhitelist),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e}function G(){}var K=new(function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;if(u(this,t),e=f(this,h(t).call(this)),D&&b.call(d(e)),e.options=W(n),e.services={},e.logger=y,e.modules={external:[]},i&&!e.isInitialized&&!n.isClone){if(!e.options.initImmediate)return e.init(n,i),f(e,d(e));setTimeout((function(){e.init(n,i)}),0)}return e}return v(t,e),p(t,[{key:"init",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;function i(e){return e?"function"==typeof e?new e:e:null}if("function"==typeof t&&(n=t,t={}),t.whitelist&&!t.supportedLngs&&this.logger.deprecate("whitelist",'option "whitelist" will be renamed to "supportedLngs" in the next major - please make sure to rename this option asap.'),t.nonExplicitWhitelist&&!t.nonExplicitSupportedLngs&&this.logger.deprecate("whitelist",'options "nonExplicitWhitelist" will be renamed to "nonExplicitSupportedLngs" in the next major - please make sure to rename this option asap.'),this.options=c({},H(),this.options,W(t)),this.format=this.options.interpolation.format,n||(n=G),!this.options.isClone){this.modules.logger?y.init(i(this.modules.logger),this.options):y.init(null,this.options);var r=new U(this.options);this.store=new A(this.options.resources,this.options);var o=this.services;o.logger=y,o.resourceStore=this.store,o.languageUtils=r,o.pluralResolver=new q(r,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),o.interpolator=new z(this.options),o.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},o.backendConnector=new V(i(this.modules.backend),o.resourceStore,o,this.options),o.backendConnector.on("*",(function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];e.emit.apply(e,[t].concat(i))})),this.modules.languageDetector&&(o.languageDetector=i(this.modules.languageDetector),o.languageDetector.init(o,this.options.detection,this.options)),this.modules.i18nFormat&&(o.i18nFormat=i(this.modules.i18nFormat),o.i18nFormat.init&&o.i18nFormat.init(this)),this.translator=new O(this.services,this.options),this.translator.on("*",(function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];e.emit.apply(e,[t].concat(i))})),this.modules.external.forEach((function(t){t.init&&t.init(e)}))}if(this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var a=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);a.length>0&&"dev"!==a[0]&&(this.options.lng=a[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");var s=["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"];s.forEach((function(t){e[t]=function(){var n;return(n=e.store)[t].apply(n,arguments)}}));var u=["addResource","addResources","addResourceBundle","removeResourceBundle"];u.forEach((function(t){e[t]=function(){var n;return(n=e.store)[t].apply(n,arguments),e}}));var l=x(),p=function(){var t=function(t,i){e.isInitialized&&e.logger.warn("init: i18next is already initialized. You should call init just once!"),e.isInitialized=!0,e.options.isClone||e.logger.log("initialized",e.options),e.emit("initialized",e.options),l.resolve(i),n(t,i)};if(e.languages&&"v1"!==e.options.compatibilityAPI)return t(null,e.t.bind(e));e.changeLanguage(e.options.lng,t)};return this.options.resources||!this.options.initImmediate?p():setTimeout(p,0),l}},{key:"loadResources",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:G,i=n,r="string"==typeof e?e:this.language;if("function"==typeof e&&(i=e),!this.options.resources||this.options.partialBundledLanguages){if(r&&"cimode"===r.toLowerCase())return i();var o=[],a=function(e){e&&t.services.languageUtils.toResolveHierarchy(e).forEach((function(e){o.indexOf(e)<0&&o.push(e)}))};if(r)a(r);else{var s=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);s.forEach((function(e){return a(e)}))}this.options.preload&&this.options.preload.forEach((function(e){return a(e)})),this.services.backendConnector.load(o,this.options.ns,i)}else i(null)}},{key:"reloadResources",value:function(e,t,n){var i=x();return e||(e=this.languages),t||(t=this.options.ns),n||(n=G),this.services.backendConnector.reload(e,t,(function(e){i.resolve(),n(e)})),i}},{key:"use",value:function(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&P.addPostProcessor(e),"3rdParty"===e.type&&this.modules.external.push(e),this}},{key:"changeLanguage",value:function(e,t){var n=this;this.isLanguageChangingTo=e;var i=x();this.emit("languageChanging",e);var r=function(e){var r="string"==typeof e?e:n.services.languageUtils.getBestMatchFromCodes(e);r&&(n.language||(n.language=r,n.languages=n.services.languageUtils.toResolveHierarchy(r)),n.translator.language||n.translator.changeLanguage(r),n.services.languageDetector&&n.services.languageDetector.cacheUserLanguage(r)),n.loadResources(r,(function(e){!function(e,r){r?(n.language=r,n.languages=n.services.languageUtils.toResolveHierarchy(r),n.translator.changeLanguage(r),n.isLanguageChangingTo=void 0,n.emit("languageChanged",r),n.logger.log("languageChanged",r)):n.isLanguageChangingTo=void 0,i.resolve((function(){return n.t.apply(n,arguments)})),t&&t(e,(function(){return n.t.apply(n,arguments)}))}(e,r)}))};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(r):r(e):r(this.services.languageDetector.detect()),i}},{key:"getFixedT",value:function(e,t){var n=this,i=function e(t,i){var r;if("object"!==a(i)){for(var o=arguments.length,s=new Array(o>2?o-2:0),u=2;u<o;u++)s[u-2]=arguments[u];r=n.options.overloadTranslationOptionHandler([t,i].concat(s))}else r=c({},i);return r.lng=r.lng||e.lng,r.lngs=r.lngs||e.lngs,r.ns=r.ns||e.ns,n.t(t,r)};return"string"==typeof e?i.lng=e:i.lngs=e,i.ns=t,i}},{key:"t",value:function(){var e;return this.translator&&(e=this.translator).translate.apply(e,arguments)}},{key:"exists",value:function(){var e;return this.translator&&(e=this.translator).exists.apply(e,arguments)}},{key:"setDefaultNamespace",value:function(e){this.options.defaultNS=e}},{key:"hasLoadedNamespace",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var i=this.languages[0],r=!!this.options&&this.options.fallbackLng,o=this.languages[this.languages.length-1];if("cimode"===i.toLowerCase())return!0;var a=function(e,n){var i=t.services.backendConnector.state["".concat(e,"|").concat(n)];return-1===i||2===i};if(n.precheck){var s=n.precheck(this,a);if(void 0!==s)return s}return!!this.hasResourceBundle(i,e)||(!this.services.backendConnector.backend||!(!a(i,e)||r&&!a(o,e)))}},{key:"loadNamespaces",value:function(e,t){var n=this,i=x();return this.options.ns?("string"==typeof e&&(e=[e]),e.forEach((function(e){n.options.ns.indexOf(e)<0&&n.options.ns.push(e)})),this.loadResources((function(e){i.resolve(),t&&t(e)})),i):(t&&t(),Promise.resolve())}},{key:"loadLanguages",value:function(e,t){var n=x();"string"==typeof e&&(e=[e]);var i=this.options.preload||[],r=e.filter((function(e){return i.indexOf(e)<0}));return r.length?(this.options.preload=i.concat(r),this.loadResources((function(e){n.resolve(),t&&t(e)})),n):(t&&t(),Promise.resolve())}},{key:"dir",value:function(e){if(e||(e=this.languages&&this.languages.length>0?this.languages[0]:this.language),!e)return"rtl";return["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam"].indexOf(this.services.languageUtils.getLanguagePartFromCode(e))>=0?"rtl":"ltr"}},{key:"createInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return new t(e,n)}},{key:"cloneInstance",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:G,r=c({},this.options,n,{isClone:!0}),o=new t(r),a=["store","services","language"];return a.forEach((function(t){o[t]=e[t]})),o.services=c({},this.services),o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o.translator=new O(o.services,o.options),o.translator.on("*",(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];o.emit.apply(o,[e].concat(n))})),o.init(r,i),o.translator.options=o.options,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}}]),t}(b)),X=[],$=X.forEach,Y=X.slice;function J(e){return $.call(Y.call(arguments,1),(function(t){if(t)for(var n in t)void 0===e[n]&&(e[n]=t[n])})),e}var Z=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,Q=function(e,t,n){var i=n||{};i.path=i.path||"/";var r=e+"="+encodeURIComponent(t);if(i.maxAge>0){var o=i.maxAge-0;if(isNaN(o))throw new Error("maxAge should be a Number");r+="; Max-Age="+Math.floor(o)}if(i.domain){if(!Z.test(i.domain))throw new TypeError("option domain is invalid");r+="; Domain="+i.domain}if(i.path){if(!Z.test(i.path))throw new TypeError("option path is invalid");r+="; Path="+i.path}if(i.expires){if("function"!=typeof i.expires.toUTCString)throw new TypeError("option expires is invalid");r+="; Expires="+i.expires.toUTCString()}if(i.httpOnly&&(r+="; HttpOnly"),i.secure&&(r+="; Secure"),i.sameSite)switch("string"==typeof i.sameSite?i.sameSite.toLowerCase():i.sameSite){case!0:r+="; SameSite=Strict";break;case"lax":r+="; SameSite=Lax";break;case"strict":r+="; SameSite=Strict";break;case"none":r+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return r},ee=function(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{path:"/",sameSite:"strict"};n&&(r.expires=new Date,r.expires.setTime(r.expires.getTime()+60*n*1e3)),i&&(r.domain=i),document.cookie=Q(e,encodeURIComponent(t),r)},te=function(e){for(var t=e+"=",n=document.cookie.split(";"),i=0;i<n.length;i++){for(var r=n[i];" "===r.charAt(0);)r=r.substring(1,r.length);if(0===r.indexOf(t))return r.substring(t.length,r.length)}return null},ne={name:"cookie",lookup:function(e){var t;if(e.lookupCookie&&"undefined"!=typeof document){var n=te(e.lookupCookie);n&&(t=n)}return t},cacheUserLanguage:function(e,t){t.lookupCookie&&"undefined"!=typeof document&&ee(t.lookupCookie,e,t.cookieMinutes,t.cookieDomain,t.cookieOptions)}},ie={name:"querystring",lookup:function(e){var t;if("undefined"!=typeof window)for(var n=window.location.search.substring(1).split("&"),i=0;i<n.length;i++){var r=n[i].indexOf("=");if(r>0)n[i].substring(0,r)===e.lookupQuerystring&&(t=n[i].substring(r+1))}return t}},re=null,oe=function(){if(null!==re)return re;try{re="undefined"!==window&&null!==window.localStorage;var e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch(e){re=!1}return re},ae={name:"localStorage",lookup:function(e){var t;if(e.lookupLocalStorage&&oe()){var n=window.localStorage.getItem(e.lookupLocalStorage);n&&(t=n)}return t},cacheUserLanguage:function(e,t){t.lookupLocalStorage&&oe()&&window.localStorage.setItem(t.lookupLocalStorage,e)}},se=null,ce=function(){if(null!==se)return se;try{se="undefined"!==window&&null!==window.sessionStorage;var e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch(e){se=!1}return se},ue={name:"sessionStorage",lookup:function(e){var t;if(e.lookupSessionStorage&&ce()){var n=window.sessionStorage.getItem(e.lookupSessionStorage);n&&(t=n)}return t},cacheUserLanguage:function(e,t){t.lookupSessionStorage&&ce()&&window.sessionStorage.setItem(t.lookupSessionStorage,e)}},le={name:"navigator",lookup:function(e){var t=[];if("undefined"!=typeof navigator){if(navigator.languages)for(var n=0;n<navigator.languages.length;n++)t.push(navigator.languages[n]);navigator.userLanguage&&t.push(navigator.userLanguage),navigator.language&&t.push(navigator.language)}return t.length>0?t:void 0}},pe={name:"htmlTag",lookup:function(e){var t,n=e.htmlTag||("undefined"!=typeof document?document.documentElement:null);return n&&"function"==typeof n.getAttribute&&(t=n.getAttribute("lang")),t}},de={name:"path",lookup:function(e){var t;if("undefined"!=typeof window){var n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(n instanceof Array)if("number"==typeof e.lookupFromPathIndex){if("string"!=typeof n[e.lookupFromPathIndex])return;t=n[e.lookupFromPathIndex].replace("/","")}else t=n[0].replace("/","")}return t}},fe={name:"subdomain",lookup:function(e){var t;if("undefined"!=typeof window){var n=window.location.href.match(/(?:http[s]*\:\/\/)*(.*?)\.(?=[^\/]*\..{2,5})/gi);n instanceof Array&&(t="number"==typeof e.lookupFromSubdomainIndex?n[e.lookupFromSubdomainIndex].replace("http://","").replace("https://","").replace(".",""):n[0].replace("http://","").replace("https://","").replace(".",""))}return t}};var he=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};u(this,e),this.type="languageDetector",this.detectors={},this.init(t,n)}return p(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.services=e,this.options=J(t,this.options||{},{order:["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"]}),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=n,this.addDetector(ne),this.addDetector(ie),this.addDetector(ae),this.addDetector(ue),this.addDetector(le),this.addDetector(pe),this.addDetector(de),this.addDetector(fe)}},{key:"addDetector",value:function(e){this.detectors[e.name]=e}},{key:"detect",value:function(e){var t=this;e||(e=this.options.order);var n=[];return e.forEach((function(e){if(t.detectors[e]){var i=t.detectors[e].lookup(t.options);i&&"string"==typeof i&&(i=[i]),i&&(n=n.concat(i))}})),this.services.languageUtils.getBestMatchFromCodes?n:n.length>0?n[0]:null}},{key:"cacheUserLanguage",value:function(e,t){var n=this;t||(t=this.options.caches),t&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||t.forEach((function(t){n.detectors[t]&&n.detectors[t].cacheUserLanguage(e,n.options)})))}}]),e}();he.type="languageDetector";var ge=he,ve=JSON.parse('{"translation":{"buttons":{"cancel":"Cancel","confirm":"Confirm"},"closeDialog":{"choice_pageSession":"On the next page load","choice_permanent":"Never","choice_visualStudioSession":"The next time I open Visual Studio","details":"When would you like to see Web Live Preview again?","header":"Confirm close?"},"menu":{"close":"Close","disableInspector":"Disable Inspector","enableInspector":"Enable Inspector","ariaLabel":"Web Live Preview"},"status":{"connectingToVisualStudio":"Connecting to Visual Studio...","generatingLogicalTree":"Generating Logical Tree...","updating":"Updating...","upToDate":"Up To Date","disconnectedShortMessage":"Disconnected","disconnectedFullMessage":"The browser has been disconnected from Visual Studio.","connectionTimeOut":"Connection timed out."},"simpleTextEditing":{"editableText_ariaLabel":"Text Editing Mode. Press ESC to escape."},"nodes":{"code":"Code","root":"Root"},"tagNavigator":{"leftScroller_ariaLabel":"Left Scroller","rightScroller_ariaLabel":"Right Scroller"},"selectorDecorator":{"elementOutline_ariaLabel":"Selected Element","actionPanel_ariaLabel":"Action Panel Indicator"},"menuButton":{"image_ariaLabel":"Web Live Preview Menu"},"logicalNodeShortNames":{"genericContainer":"Generic Container","root":"Root","unknown":"Unknown"},"actionPanel":{"title":"{{nodeName}} Tasks","_title.comment":"nodeName is the ID or tag name of the node for which the action panel is being displayed.","readOnlyProperty":"This property is read-only"},"screenReader":{"inspectorEnabled":"Inspector enabled.","inspectorDisabled":"Inspector disabled."}}}');var me=function(){this.__data__=[],this.size=0};var ye=function(e,t){return e===t||e!=e&&t!=t};var be=function(e,t){for(var n=e.length;n--;)if(ye(e[n][0],t))return n;return-1},xe=Array.prototype.splice;var we=function(e){var t=this.__data__,n=be(t,e);return!(n<0)&&(n==t.length-1?t.pop():xe.call(t,n,1),--this.size,!0)};var Se=function(e){var t=this.__data__,n=be(t,e);return n<0?void 0:t[n][1]};var Ie=function(e){return be(this.__data__,e)>-1};var Ce=function(e,t){var n=this.__data__,i=be(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this};function Te(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}Te.prototype.clear=me,Te.prototype["delete"]=we,Te.prototype.get=Se,Te.prototype.has=Ie,Te.prototype.set=Ce;var ke=Te;var _e=function(){this.__data__=new ke,this.size=0};var Ne=function(e){var t=this.__data__,n=t["delete"](e);return this.size=t.size,n};var Ee=function(e){return this.__data__.get(e)};var Le=function(e){return this.__data__.has(e)},De="object"==typeof global&&global&&global.Object===Object&&global,Ae="object"==typeof self&&self&&self.Object===Object&&self,Pe=De||Ae||Function("return this")(),Re=Pe.Symbol,Oe=Object.prototype,Me=Oe.hasOwnProperty,Ue=Oe.toString,je=Re?Re.toStringTag:void 0;var Fe=function(e){var t=Me.call(e,je),n=e[je];try{e[je]=void 0;var i=!0}catch(e){}var r=Ue.call(e);return i&&(t?e[je]=n:delete e[je]),r},Be=Object.prototype.toString;var qe=function(e){return Be.call(e)},ze="[object Null]",Ve="[object Undefined]",He=Re?Re.toStringTag:void 0;var We=function(e){return null==e?void 0===e?Ve:ze:He&&He in Object(e)?Fe(e):qe(e)};var Ge=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},Ke="[object AsyncFunction]",Xe="[object Function]",$e="[object GeneratorFunction]",Ye="[object Proxy]";var Je,Ze=function(e){if(!Ge(e))return!1;var t=We(e);return t==Xe||t==$e||t==Ke||t==Ye},Qe=Pe["__core-js_shared__"],et=(Je=/[^.]+$/.exec(Qe&&Qe.keys&&Qe.keys.IE_PROTO||""))?"Symbol(src)_1."+Je:"";var tt=function(e){return!!et&&et in e},nt=Function.prototype.toString;var it=function(e){if(null!=e){try{return nt.call(e)}catch(e){}try{return e+""}catch(e){}}return""},rt=/^\[object .+?Constructor\]$/,ot=Function.prototype,at=Object.prototype,st=ot.toString,ct=at.hasOwnProperty,ut=RegExp("^"+st.call(ct).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var lt=function(e){return!(!Ge(e)||tt(e))&&(Ze(e)?ut:rt).test(it(e))};var pt=function(e,t){return null==e?void 0:e[t]};var dt=function(e,t){var n=pt(e,t);return lt(n)?n:void 0},ft=dt(Pe,"Map"),ht=dt(Object,"create");var gt=function(){this.__data__=ht?ht(null):{},this.size=0};var vt=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},mt="__lodash_hash_undefined__",yt=Object.prototype.hasOwnProperty;var bt=function(e){var t=this.__data__;if(ht){var n=t[e];return n===mt?void 0:n}return yt.call(t,e)?t[e]:void 0},xt=Object.prototype.hasOwnProperty;var wt=function(e){var t=this.__data__;return ht?void 0!==t[e]:xt.call(t,e)},St="__lodash_hash_undefined__";var It=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=ht&&void 0===t?St:t,this};function Ct(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}Ct.prototype.clear=gt,Ct.prototype["delete"]=vt,Ct.prototype.get=bt,Ct.prototype.has=wt,Ct.prototype.set=It;var Tt=Ct;var kt=function(){this.size=0,this.__data__={hash:new Tt,map:new(ft||ke),string:new Tt}};var _t=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var Nt=function(e,t){var n=e.__data__;return _t(t)?n["string"==typeof t?"string":"hash"]:n.map};var Et=function(e){var t=Nt(this,e)["delete"](e);return this.size-=t?1:0,t};var Lt=function(e){return Nt(this,e).get(e)};var Dt=function(e){return Nt(this,e).has(e)};var At=function(e,t){var n=Nt(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this};function Pt(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}Pt.prototype.clear=kt,Pt.prototype["delete"]=Et,Pt.prototype.get=Lt,Pt.prototype.has=Dt,Pt.prototype.set=At;var Rt=Pt,Ot=200;var Mt=function(e,t){var n=this.__data__;if(n instanceof ke){var i=n.__data__;if(!ft||i.length<Ot-1)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new Rt(i)}return n.set(e,t),this.size=n.size,this};function Ut(e){var t=this.__data__=new ke(e);this.size=t.size}Ut.prototype.clear=_e,Ut.prototype["delete"]=Ne,Ut.prototype.get=Ee,Ut.prototype.has=Le,Ut.prototype.set=Mt;var jt=Ut;var Ft=function(e,t){for(var n=-1,i=null==e?0:e.length;++n<i&&!1!==t(e[n],n,e););return e},Bt=function(){try{var e=dt(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();var qt=function(e,t,n){"__proto__"==t&&Bt?Bt(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},zt=Object.prototype.hasOwnProperty;var Vt=function(e,t,n){var i=e[t];zt.call(e,t)&&ye(i,n)&&(void 0!==n||t in e)||qt(e,t,n)};var Ht=function(e,t,n,i){var r=!n;n||(n={});for(var o=-1,a=t.length;++o<a;){var s=t[o],c=i?i(n[s],e[s],s,n,e):void 0;void 0===c&&(c=e[s]),r?qt(n,s,c):Vt(n,s,c)}return n};var Wt=function(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i};var Gt=function(e){return null!=e&&"object"==typeof e},Kt="[object Arguments]";var Xt=function(e){return Gt(e)&&We(e)==Kt},$t=Object.prototype,Yt=$t.hasOwnProperty,Jt=$t.propertyIsEnumerable,Zt=Xt(function(){return arguments}())?Xt:function(e){return Gt(e)&&Yt.call(e,"callee")&&!Jt.call(e,"callee")},Qt=Array.isArray;var en=function(){return!1},tn="object"==typeof exports&&exports&&!exports.nodeType&&exports,nn=tn&&"object"==typeof module&&module&&!module.nodeType&&module,rn=nn&&nn.exports===tn?Pe.Buffer:void 0,on=(rn?rn.isBuffer:void 0)||en,an=9007199254740991,sn=/^(?:0|[1-9]\d*)$/;var cn=function(e,t){var n=typeof e;return!!(t=null==t?an:t)&&("number"==n||"symbol"!=n&&sn.test(e))&&e>-1&&e%1==0&&e<t},un=9007199254740991;var ln=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=un},pn={};pn["[object Float32Array]"]=pn["[object Float64Array]"]=pn["[object Int8Array]"]=pn["[object Int16Array]"]=pn["[object Int32Array]"]=pn["[object Uint8Array]"]=pn["[object Uint8ClampedArray]"]=pn["[object Uint16Array]"]=pn["[object Uint32Array]"]=!0,pn["[object Arguments]"]=pn["[object Array]"]=pn["[object ArrayBuffer]"]=pn["[object Boolean]"]=pn["[object DataView]"]=pn["[object Date]"]=pn["[object Error]"]=pn["[object Function]"]=pn["[object Map]"]=pn["[object Number]"]=pn["[object Object]"]=pn["[object RegExp]"]=pn["[object Set]"]=pn["[object String]"]=pn["[object WeakMap]"]=!1;var dn=function(e){return Gt(e)&&ln(e.length)&&!!pn[We(e)]};var fn=function(e){return function(t){return e(t)}},hn="object"==typeof exports&&exports&&!exports.nodeType&&exports,gn=hn&&"object"==typeof module&&module&&!module.nodeType&&module,vn=gn&&gn.exports===hn&&De.process,mn=function(){try{var e=gn&&gn.require&&gn.require("util").types;return e||vn&&vn.binding&&vn.binding("util")}catch(e){}}(),yn=mn&&mn.isTypedArray,bn=yn?fn(yn):dn,xn=Object.prototype.hasOwnProperty;var wn=function(e,t){var n=Qt(e),i=!n&&Zt(e),r=!n&&!i&&on(e),o=!n&&!i&&!r&&bn(e),a=n||i||r||o,s=a?Wt(e.length,String):[],c=s.length;for(var u in e)!t&&!xn.call(e,u)||a&&("length"==u||r&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||cn(u,c))||s.push(u);return s},Sn=Object.prototype;var In=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Sn)};var Cn=function(e,t){return function(n){return e(t(n))}},Tn=Cn(Object.keys,Object),kn=Object.prototype.hasOwnProperty;var _n=function(e){if(!In(e))return Tn(e);var t=[];for(var n in Object(e))kn.call(e,n)&&"constructor"!=n&&t.push(n);return t};var Nn=function(e){return null!=e&&ln(e.length)&&!Ze(e)};var En=function(e){return Nn(e)?wn(e):_n(e)};var Ln=function(e,t){return e&&Ht(t,En(t),e)};var Dn=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t},An=Object.prototype.hasOwnProperty;var Pn=function(e){if(!Ge(e))return Dn(e);var t=In(e),n=[];for(var i in e)("constructor"!=i||!t&&An.call(e,i))&&n.push(i);return n};var Rn=function(e){return Nn(e)?wn(e,!0):Pn(e)};var On=function(e,t){return e&&Ht(t,Rn(t),e)},Mn="object"==typeof exports&&exports&&!exports.nodeType&&exports,Un=Mn&&"object"==typeof module&&module&&!module.nodeType&&module,jn=Un&&Un.exports===Mn?Pe.Buffer:void 0,Fn=jn?jn.allocUnsafe:void 0;var Bn=function(e,t){if(t)return e.slice();var n=e.length,i=Fn?Fn(n):new e.constructor(n);return e.copy(i),i};var qn=function(e,t){var n=-1,i=e.length;for(t||(t=Array(i));++n<i;)t[n]=e[n];return t};var zn=function(e,t){for(var n=-1,i=null==e?0:e.length,r=0,o=[];++n<i;){var a=e[n];t(a,n,e)&&(o[r++]=a)}return o};var Vn=function(){return[]},Hn=Object.prototype.propertyIsEnumerable,Wn=Object.getOwnPropertySymbols,Gn=Wn?function(e){return null==e?[]:(e=Object(e),zn(Wn(e),(function(t){return Hn.call(e,t)})))}:Vn;var Kn=function(e,t){return Ht(e,Gn(e),t)};var Xn=function(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e},$n=Cn(Object.getPrototypeOf,Object),Yn=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)Xn(t,Gn(e)),e=$n(e);return t}:Vn;var Jn=function(e,t){return Ht(e,Yn(e),t)};var Zn=function(e,t,n){var i=t(e);return Qt(e)?i:Xn(i,n(e))};var Qn=function(e){return Zn(e,En,Gn)};var ei=function(e){return Zn(e,Rn,Yn)},ti=dt(Pe,"DataView"),ni=dt(Pe,"Promise"),ii=dt(Pe,"Set"),ri=dt(Pe,"WeakMap"),oi="[object Map]",ai="[object Object]",si="[object Promise]",ci="[object Set]",ui="[object WeakMap]",li="[object DataView]",pi=it(ti),di=it(ft),fi=it(ni),hi=it(ii),gi=it(ri),vi=We;(ti&&vi(new ti(new ArrayBuffer(1)))!=li||ft&&vi(new ft)!=oi||ni&&vi(ni.resolve())!=si||ii&&vi(new ii)!=ci||ri&&vi(new ri)!=ui)&&(vi=function(e){var t=We(e),n=t==ai?e.constructor:void 0,i=n?it(n):"";if(i)switch(i){case pi:return li;case di:return oi;case fi:return si;case hi:return ci;case gi:return ui}return t});var mi=vi,yi=Object.prototype.hasOwnProperty;var bi=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&yi.call(e,"index")&&(n.index=e.index,n.input=e.input),n},xi=Pe.Uint8Array;var wi=function(e){var t=new e.constructor(e.byteLength);return new xi(t).set(new xi(e)),t};var Si=function(e,t){var n=t?wi(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)},Ii=/\w*$/;var Ci=function(e){var t=new e.constructor(e.source,Ii.exec(e));return t.lastIndex=e.lastIndex,t},Ti=Re?Re.prototype:void 0,ki=Ti?Ti.valueOf:void 0;var _i=function(e){return ki?Object(ki.call(e)):{}};var Ni=function(e,t){var n=t?wi(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)},Ei="[object Boolean]",Li="[object Date]",Di="[object Map]",Ai="[object Number]",Pi="[object RegExp]",Ri="[object Set]",Oi="[object String]",Mi="[object Symbol]",Ui="[object ArrayBuffer]",ji="[object DataView]",Fi="[object Float32Array]",Bi="[object Float64Array]",qi="[object Int8Array]",zi="[object Int16Array]",Vi="[object Int32Array]",Hi="[object Uint8Array]",Wi="[object Uint8ClampedArray]",Gi="[object Uint16Array]",Ki="[object Uint32Array]";var Xi=function(e,t,n){var i=e.constructor;switch(t){case Ui:return wi(e);case Ei:case Li:return new i(+e);case ji:return Si(e,n);case Fi:case Bi:case qi:case zi:case Vi:case Hi:case Wi:case Gi:case Ki:return Ni(e,n);case Di:return new i;case Ai:case Oi:return new i(e);case Pi:return Ci(e);case Ri:return new i;case Mi:return _i(e)}},$i=Object.create,Yi=function(){function e(){}return function(t){if(!Ge(t))return{};if($i)return $i(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();var Ji=function(e){return"function"!=typeof e.constructor||In(e)?{}:Yi($n(e))},Zi="[object Map]";var Qi=function(e){return Gt(e)&&mi(e)==Zi},er=mn&&mn.isMap,tr=er?fn(er):Qi,nr="[object Set]";var ir=function(e){return Gt(e)&&mi(e)==nr},rr=mn&&mn.isSet,or=rr?fn(rr):ir,ar=1,sr=2,cr=4,ur="[object Arguments]",lr="[object Function]",pr="[object GeneratorFunction]",dr="[object Object]",fr={};fr[ur]=fr["[object Array]"]=fr["[object ArrayBuffer]"]=fr["[object DataView]"]=fr["[object Boolean]"]=fr["[object Date]"]=fr["[object Float32Array]"]=fr["[object Float64Array]"]=fr["[object Int8Array]"]=fr["[object Int16Array]"]=fr["[object Int32Array]"]=fr["[object Map]"]=fr["[object Number]"]=fr[dr]=fr["[object RegExp]"]=fr["[object Set]"]=fr["[object String]"]=fr["[object Symbol]"]=fr["[object Uint8Array]"]=fr["[object Uint8ClampedArray]"]=fr["[object Uint16Array]"]=fr["[object Uint32Array]"]=!0,fr["[object Error]"]=fr[lr]=fr["[object WeakMap]"]=!1;var hr=function e(t,n,i,r,o,a){var s,c=n&ar,u=n&sr,l=n&cr;if(i&&(s=o?i(t,r,o,a):i(t)),void 0!==s)return s;if(!Ge(t))return t;var p=Qt(t);if(p){if(s=bi(t),!c)return qn(t,s)}else{var d=mi(t),f=d==lr||d==pr;if(on(t))return Bn(t,c);if(d==dr||d==ur||f&&!o){if(s=u||f?{}:Ji(t),!c)return u?Jn(t,On(s,t)):Kn(t,Ln(s,t))}else{if(!fr[d])return o?t:{};s=Xi(t,d,c)}}a||(a=new jt);var h=a.get(t);if(h)return h;a.set(t,s),or(t)?t.forEach((function(r){s.add(e(r,n,i,r,t,a))})):tr(t)&&t.forEach((function(r,o){s.set(o,e(r,n,i,o,t,a))}));var g=p?void 0:(l?u?ei:Qn:u?Rn:En)(t);return Ft(g||t,(function(r,o){g&&(r=t[o=r]),Vt(s,o,e(r,n,i,o,t,a))})),s},gr=1,vr=4;const mr=function(e){return hr(e,gr|vr)}(ve);!function e(t){Object.entries(t).forEach((n=>{const i=n[0],r=n[1];"string"==typeof r||r instanceof String?t[i]=r.split("").reverse().join(""):e(r)}))}(mr);const yr={en:ve,dev:mr};function br(e,t){return K.t(e,t)}K.use(ge),K.init({resources:yr,fallbackLng:"en",detection:{excludeCacheFor:["cimode","dev"]}});class xr{constructor(e){this.requiredAncestorForSelectability="body",this.nodeBoundingClientRectUtil=e||new o}findValidInsertionPoint(e,t){if(!e)throw Error("parentNode must not be null or undefined.");const n=this.getParentsUntilDefault(e);if(!n.modifiedParentNode)throw Error("No default ancestor found.");const i=this.findFirstDefaultPreviousSibling(t,n);return new wr(n.modifiedParentNode,i)}findLeftMostSelectableLeaf(e){return e?this.findLeftMostSelectableLeafInternal(e,!1):null}getParentsUntilDefault(e){if(!e)throw Error("firstParent must not be null or undefined.");const t=new Sr;for(t.push(e);t.modifiedParentNode&&!i(t.modifiedParentNode).mapsToDom;)t.push(t.modifiedParentNode.parent);return t}findFirstDefaultPreviousSibling(e,t){for(let n=e?0:1;n<t.parentNodeList.length;n++){let i;const r=t.parentNodeList[n];i=0===n&&e?r.children.indexOf(e):r.children.indexOf(t.parentNodeList[n-1])-1;const o=this.findRightMostDefaultDescendant(r,i);if(o)return o}return null}findRightMostDefaultDescendant(e,t){var n;for(let r=t=null!==(n=t)&&void 0!==n?n:e.children.length-1;r>=0;r--){const t=e.children[r];if(i(t).mapsToDom)return t;const n=this.findRightMostDefaultDescendant(t);if(n)return n}return null}findLeftMostSelectableLeafInternal(e,t){if(t=t||this.isBodyTag(e),e.children)for(const n of e.children){const e=this.findLeftMostSelectableLeafInternal(n,t);if(e)return e}return t&&this.isInitiallySelectable(e)?e:null}isBodyTag(e){var t;return(null===(t=e.tagName)||void 0===t?void 0:t.toLowerCase())===this.requiredAncestorForSelectability}isInitiallySelectable(e){return function(e){return!(!e||!e.start)&&!e.start.path.startsWith("preview_")&&!e.start.path.startsWith("rendered_")&&"Attribute"!==e.type&&("Text"!==e.type||e.text&&""!==e.text.trim())}(e)&&0===e.children.length&&e.getDomNode()&&this.nodeBoundingClientRectUtil.hasNonZeroArea(e.getDomNode())}}class wr{constructor(e=null,t=null){this.modifiedParentNode=e,this.modifiedInsertAfterLogicalNode=t}}class Sr{constructor(){this.parentNodeList=[]}get modifiedParentNode(){return 0===this.parentNodeList.length?null:this.parentNodeList[this.parentNodeList.length-1]}push(e){this.parentNodeList.push(e)}}class Ir extends Error{constructor(e,t){super(e),this.name=this.constructor.name,this.change=t}}class Cr extends Ir{constructor(e){super("Validation failed for this change.",e)}}class Tr{static isNullOrUndefined(e){return null==e}static validateUpdatePositionChange(e){if(!(e&&e.nodeId&&e.startPosition>=0&&e.length>=0))throw new Cr(e)}static validateSetNodeIdChange(e){if(!(e&&e.newNodeId&&e.sourcePath&&e.startPosition>=0&&e.length>=1&&e.type))throw new Cr(e)}static validateInsertCodeBlockChange(e){if(!(e&&e.codeBlockType&&e.parentNodeId&&e.newNodeId&&e.sourcePath&&e.startPosition>=0&&e.length>0))throw new Cr(e)}static validateInsertGenericContainerChange(e){if(!(e&&e.parentNodeId&&e.newNodeId&&e.sourcePath&&e.startPosition>=0&&e.length>0))throw new Cr(e)}static validateInsertElementChange(e){if(!(e&&e.tagName&&e.parentNodeId&&e.newNodeId&&e.sourcePath&&e.startPosition>=0&&e.length>0))throw new Cr(e)}static validateInsertAttributeChange(e){if(!(e&&e.parentNodeId&&e.attributeName&&e.sourcePath&&e.startPosition>=0&&e.length>0))throw new Cr(e)}static validateInsertTextChange(e){if(!(e&&e.parentNodeId&&e.text&&e.sourcePath&&e.startPosition>=0&&e.length>0))throw new Cr(e)}static validateModifyElementChange(e){if(!e||!e.nodeId||this.isNullOrUndefined(e.tagName))throw new Cr(e)}static validateModifyAttributeChange(e){if(!e||!e.nodeId||this.isNullOrUndefined(e.oldAttributeValue)||this.isNullOrUndefined(e.newAttributeValue))throw new Cr(e)}static validateModifyTextChange(e){if(!e||!e.nodeId||this.isNullOrUndefined(e.oldText)||this.isNullOrUndefined(e.newText))throw new Cr(e)}static validateRemoveElementTreeChange(e){if(!e||!e.nodeId)throw new Cr(e)}static validateUnwrapElementsChange(e){if(!e||!e.nodeId)throw new Cr(e)}static validateRemoveAttributeChange(e){if(!e||!e.nodeId)throw new Cr(e)}static validateRemoveTextChange(e){if(!e||!e.nodeId)throw new Cr(e)}static validateMoveElementChange(e){if(!e||!e.nodeId||!e.parentNodeId)throw new Cr(e)}static validateMoveTextChange(e){if(!e||!e.nodeId||!e.parentNodeId)throw new Cr(e)}}var kr,_r=n(993);class Nr{constructor(){this.successes=new Er,this.failures=new Er}addResult(e,t){switch(t){case"InsertElement":e.InsertElement++;break;case"ModifyElement":e.ModifyElement++;break;case"RemoveElementTree":e.RemoveElementTree++;break;case"UnwrapElements":e.UnwrapElements++;break;case"MoveElement":e.MoveElement++;break;case"InsertText":e.InsertText++;break;case"ModifyText":e.ModifyText++;break;case"RemoveText":e.RemoveText++;break;case"InsertAttribute":e.InsertAttribute++;break;case"ModifyAttribute":e.ModifyAttribute++;break;case"RemoveAttribute":e.RemoveAttribute++;break;case"InsertCodeBlock":e.InsertCodeBlock++;break;case"InsertGenericContainer":e.InsertGenericContainer++;break;case"SetNodeId":e.SetNodeId++;break;case"UpdatePositions":e.UpdatePositions++}}addSuccess(e){this.addResult(this.successes,e)}addFailure(e){this.addResult(this.failures,e)}}class Er{constructor(){this.InsertElement=0,this.ModifyElement=0,this.RemoveElementTree=0,this.UnwrapElements=0,this.MoveElement=0,this.InsertText=0,this.ModifyText=0,this.RemoveText=0,this.InsertAttribute=0,this.ModifyAttribute=0,this.RemoveAttribute=0,this.InsertCodeBlock=0,this.InsertGenericContainer=0,this.SetNodeId=0,this.UpdatePositions=0}}class Lr{constructor(){this.inserted=[],this.removed=[]}}class Dr{constructor(e,t){this.applyChangesFunctions={},this.idMapping={},this.logicalTreeTraverser=new xr,this.areHtmlFilesTracked=!1,this.changeErrorCount=0,this._changesApplied=new _r.FK,this.logNoisyChanges=!1,this.documentWrapper=t,this.browserLink=e,this.textModificationElement=this.documentWrapper.createElement("textarea"),this.applyChangesFunctions["InsertElement"]=(e,t)=>this.insertElement(e,t),this.applyChangesFunctions["RemoveElementTree"]=(e,t)=>this.removeElementTree(e,t),this.applyChangesFunctions["MoveElement"]=(e,t)=>this.moveElement(t),this.applyChangesFunctions["InsertAttribute"]=(e,t)=>this.insertAttribute(e,t),this.applyChangesFunctions["RemoveAttribute"]=(e,t)=>this.removeAttribute(e,t),this.applyChangesFunctions["ModifyAttribute"]=(e,t)=>this.modifyAttribute(t),this.applyChangesFunctions["ModifyElement"]=(e,t)=>this.modifyElement(t),this.applyChangesFunctions["ModifyText"]=(e,t)=>this.modifyText(t),this.applyChangesFunctions["InsertText"]=(e,t)=>this.insertText(e,t),this.applyChangesFunctions["RemoveText"]=(e,t)=>this.removeText(e,t),this.applyChangesFunctions["MoveText"]=(e,t)=>this.moveText(t),this.applyChangesFunctions["SplitElement"]=(e,t)=>this.noOp(),this.applyChangesFunctions["MergeElements"]=(e,t)=>this.noOp(),this.applyChangesFunctions["WrapElements"]=(e,t)=>this.noOp(),this.applyChangesFunctions["UnwrapElements"]=(e,t)=>this.unwrapElements(e,t),this.applyChangesFunctions["SetNodeId"]=(e,t)=>this.setNodeId(t),this.applyChangesFunctions["UpdatePositions"]=(e,t)=>this.updatePositions(t),this.applyChangesFunctions["InsertCodeBlock"]=(e,t)=>this.insertCodeBlock(e,t),this.applyChangesFunctions["InsertGenericContainer"]=(e,t)=>this.insertGenericContainer(e,t),this.applyChangesFunctions["Unsupported"]=(e,t)=>this.noOp()}get changesApplied(){return this._changesApplied.asEvent()}get hasChangeError(){return this.changeErrorCount>0}initialize(){this.browserLink.designSurfaceService.isEnabled?this.ensureHtmlFilesAreTracked():this.browserLink.designSurfaceService.isEnabledChanged.one(this.onIsDesignSurfaceEnabledChanged.bind(this))}onIsDesignSurfaceEnabledChanged(){this.ensureHtmlFilesAreTracked()}ensureHtmlFilesAreTracked(){this.areHtmlFilesTracked||(this.areHtmlFilesTracked=!0,this.browserLink.sourceMapping.ensureUpToDateAsync((()=>{this.browserLink.invoke("TrackDocumentsForHtmlAutoSync",this.browserLink.sourceMapping.getAllSourcePaths())})))}shouldLogChange(e){return this.logNoisyChanges||"SetNodeId"!==e&&"UpdatePositions"!==e}logChange(e){this.shouldLogChange(e.type)&&this.browserLink.log("Applying change: %o",e)}getLogicalNodesFromNodeId(e){return this.idMapping[e]||[]}mapIdToLogicalNode(e,t){this.idMapping[e]||(this.idMapping[e]=[]);-1===this.idMapping[e].indexOf(t)&&(this.idMapping[e].push(t),t.nodeId=e)}clearIdMappingForId(e){this.idMapping[e]=[]}removeNodeAndDescendantsFromIdMapping(e){if(this.removeNodeFromIdMapping(e),e.children)for(const t of e.children)this.removeNodeAndDescendantsFromIdMapping(t);if(e.attributes)for(const t of e.attributes)this.removeNodeFromIdMapping(t)}removeNodeFromIdMapping(e){const t=this.idMapping[e.nodeId];if(t){const n=t.indexOf(e);n>=0&&t.splice(n,1)}}createLogicalNode(e,t,n,i,r,o){const a=this.browserLink.logicalTree.createNewLogicalNode(t,n,r,o);return this.mapIdToLogicalNode(e,a),a.start.path=i,a}forEachLogicalNodeWithId(e,t,n){const i=this.getLogicalNodesFromNodeId(e).slice();if(0===i.length)throw new Ir("No logical node found.",t);for(const e of i)n(t,e)}sortLogicalNodesBasedOnDomTextOrder(e,t){return e.sort(((e,n)=>t.indexOf(this.fixTextForDomComparison(e.text))-t.indexOf(this.fixTextForDomComparison(n.text))))}breakUpDomTextNode(e,t){const n=t,i=n.textContent,r=this.browserLink.logicalTree.getLogicalNodesFromDomNode(n);if(r.length>1){const t=this.sortLogicalNodesBasedOnDomTextOrder(r,i);if(e!==t[t.length-1]){const i=t.indexOf(e);let r=0;for(let e=0;e<=i;e++)r+=this.fixTextForDomComparison(t[e].text).length;const o=n.splitText(r);for(let e=0;e<t.length;e++)e<=i?t[e].setDomNode(n):t[e].setDomNode(o)}}}insertLogicalNodeAfter(e,t,n){e.splice(e.indexOf(n)+1,0,t)}insertLogicalNodeAtBeginning(e,t){e.splice(0,0,t)}removeLogicalNode(e,t){const n=e.indexOf(t);return n>=0&&(e.splice(n,1),!0)}findPreviousSibling(e){if(!e||!e.parent||!e.parent.children)return null;const t=e.parent.children.indexOf(e);return 0===t?null:e.parent.children[t-1]}fixTextForDomComparison(e){return this.textModificationElement.innerHTML=e,this.textModificationElement.innerHTML}handleApplyChangeError(e){this.browserLink.log("Failed to apply change %o with error %o",e.change,e),this.changeErrorCount++}handleUnknownChange(e){this.browserLink.log("Unknown change type in %o",e),this.changeErrorCount++}applyHtmlChanges(e){try{return this.browserLink.log("Got changes: %o",e),this.applyChanges(e),!0}catch(e){return this.browserLink.log("Failed to apply HTML changes: %o",e),!1}}applyChanges(e){if(!e)return void this.browserLink.log("No changes to apply.");const t=new Lr,n=new Nr;for(let i=0;i<e.length;i++){const r=e[i];this.logChange(r);const o=this.applyChangesFunctions[r.type];if(o)try{o(t,r),n.addSuccess(r.type)}catch(e){if(!(e instanceof Ir))throw e;this.handleApplyChangeError(e),n.addFailure(r.type)}else this.handleUnknownChange(r)}this._changesApplied.dispatch(t),this.browserLink.telemetryService.sendChangesApplied(n)}noOp(){}updatePositions(e){Tr.validateUpdatePositionChange(e);const t=this.getLogicalNodesFromNodeId(e.nodeId);if(t)for(const n of t)n.start.position=e.startPosition,n.length=e.length}setNodeId(e){Tr.validateSetNodeIdChange(e);const t=this.browserLink.logicalTree.getAllNodesStartingAtPosition(e.sourcePath,e.startPosition);if(t)for(const n of t)n.length===e.length&&n.type===e.nodeType&&this.mapIdToLogicalNode(e.newNodeId,n)}insertCodeBlock(e,t){Tr.validateInsertCodeBlockChange(t),t.insertAfterNodeId?this.forEachLogicalNodeWithId(t.insertAfterNodeId,t,((t,n)=>this.insertCodeBlockInternal(e,t,n.parent,n))):this.forEachLogicalNodeWithId(t.parentNodeId,t,((t,n)=>this.insertCodeBlockInternal(e,t,n,null)))}insertCodeBlockInternal(e,t,n,r){const o=this.createLogicalNode(t.newNodeId,kr.CodeBlock,null,t.sourcePath,n,r);o.start.position=t.startPosition,o.length=t.length;const a=i(o);a.mapsToDom=!1,a.codeBlockType=t.codeBlockType,e.inserted.push(o)}insertGenericContainer(e,t){Tr.validateInsertGenericContainerChange(t),t.insertAfterNodeId?this.forEachLogicalNodeWithId(t.insertAfterNodeId,t,((t,n)=>this.insertGenericContainerInternal(e,t,n.parent,n))):this.forEachLogicalNodeWithId(t.parentNodeId,t,((t,n)=>this.insertGenericContainerInternal(e,t,n,null)))}insertGenericContainerInternal(e,t,n,r){const o=this.createLogicalNode(t.newNodeId,kr.GenericContainer,null,t.sourcePath,n,r);o.description=t.description,o.start.position=t.startPosition,o.length=t.length,i(o).mapsToDom=!1,e.inserted.push(o)}insertElement(e,t){Tr.validateInsertElementChange(t),t.insertAfterNodeId?this.forEachLogicalNodeWithId(t.insertAfterNodeId,t,((t,n)=>this.insertElementInternal(e,t,t.tagName,n.parent,n))):this.forEachLogicalNodeWithId(t.parentNodeId,t,((t,n)=>this.insertElementInternal(e,t,t.tagName,n,null)))}insertElementInternal(e,t,n,r,o){let a=null;if(t.mapsToDom){const e=this.logicalTreeTraverser.findValidInsertionPoint(r,o);if(!e||!e.modifiedParentNode)throw new Ir("Failed to find logical tree insertion point.",t);const i=e.modifiedParentNode.getDomNode(),s=e.modifiedInsertAfterLogicalNode?e.modifiedInsertAfterLogicalNode.getDomNode():null;if(!i||e.modifiedInsertAfterLogicalNode&&!s)throw new Ir("Failed to find DOM insertion point.",t);s&&s.nodeType===Node.TEXT_NODE&&this.breakUpDomTextNode(e.modifiedInsertAfterLogicalNode,s),a=document.createElement(n),e.modifiedInsertAfterLogicalNode?Ar(a,s):Pr(a,i)}const s=this.createLogicalNode(t.newNodeId,kr.Element,a,t.sourcePath,r,o);s.tagName=t.tagName,s.start.position=t.startPosition,s.length=t.length,i(s).mapsToDom=t.mapsToDom,e.inserted.push(s)}insertAttribute(e,t){Tr.validateInsertAttributeChange(t);const n=this.getLogicalNodesFromNodeId(t.parentNodeId);if(0===n.length)throw new Ir("Failed to find parent for new attribute.",t);for(const i of n)this.insertAttributeInParent(e,t,i)}insertAttributeInParent(e,t,n){if(!n)throw new Ir("Invalid parent for attribute.",t);let r=null;const o=i(n).mapsToDom;if(t.mapsToDom!==o)throw new Ir("If the new attribute maps to the DOM, the parent must as well.",t);if(o){const e=n?n.getDomNode():null;if(!e)throw new Ir("Failed to find parent DOM element.",t);e.setAttribute(t.attributeName,t.attributeValue);r=e.getAttributeNode(t.attributeName)}const a=this.createLogicalNode(t.newNodeId,kr.Attribute,r,t.sourcePath,n,null);a.name=t.attributeName,a.value=t.attributeValue,a.start.position=t.startPosition,a.length=t.length,i(a).mapsToDom=t.mapsToDom,e.inserted.push(a)}insertText(e,t){Tr.validateInsertTextChange(t),t.insertAfterNodeId?this.forEachLogicalNodeWithId(t.insertAfterNodeId,t,((t,n)=>this.insertTextInternal(e,t,n.parent,n))):this.forEachLogicalNodeWithId(t.parentNodeId,t,((t,n)=>this.insertTextInternal(e,t,n,null)))}insertTextInternal(e,t,n,r){let o=null;if(t.mapsToDom){const e=this.logicalTreeTraverser.findValidInsertionPoint(n,r);if(!e||!e.modifiedParentNode)throw new Ir("Failed to find logical tree insertion point.",t);const i=e.modifiedParentNode.getDomNode(),a=e.modifiedInsertAfterLogicalNode?e.modifiedInsertAfterLogicalNode.getDomNode():null;if(!i||e.modifiedInsertAfterLogicalNode&&!a)throw new Ir("Failed to find DOM insertion point.",t);a&&a.nodeType===Node.TEXT_NODE&&this.breakUpDomTextNode(e.modifiedInsertAfterLogicalNode,a),o=document.createTextNode(t.text),e.modifiedInsertAfterLogicalNode?Ar(o,a):Pr(o,i)}const a=this.createLogicalNode(t.newNodeId,kr.Text,o,t.sourcePath,n,r);a.start.position=t.startPosition,a.length=t.length,a.text=t.text,i(a).mapsToDom=t.mapsToDom,e.inserted.push(a)}modifyElement(e){Tr.validateModifyElementChange(e),this.forEachLogicalNodeWithId(e.nodeId,e,((e,t)=>this.modifyElementByNode(e,t)))}modifyElementByNode(e,t){if(t.tagName=e.tagName,i(t).mapsToDom){const n=t.getDomNode(),i=n.parentElement;if(!n||!i)throw new Ir("Failed to find DOM element to modify or its parent.",e);const r=this.documentWrapper.createElement(e.tagName);for(;n.firstChild;){const e=n.firstChild;n.removeChild(e),r.appendChild(e)}for(let e=0;e<n.attributes.length;e++){const t=n.attributes[e];r.setAttribute(t.name,t.value);const i=n.getAttributeNode(t.name),o=r.getAttributeNode(t.name),a=this.browserLink.logicalTree.getFirstLogicalNodeFromDomNode(i);a&&a.setDomNode(o)}i.replaceChild(r,n),t.setDomNode(r)}}modifyAttribute(e){Tr.validateModifyAttributeChange(e),this.forEachLogicalNodeWithId(e.nodeId,e,((e,t)=>this.modifyAttributeByNode(e,t)))}modifyAttributeByNode(e,t){if(t.value=e.newAttributeValue,i(t).mapsToDom){const n=t.getDomNode();if(!n)throw new Ir("Failed to find DOM attribute to modify",e);if(n.value!==e.oldAttributeValue)throw new Ir("Existing attribute value does not match previous value.",e);n.value=e.newAttributeValue}}modifyText(e){Tr.validateModifyTextChange(e),this.forEachLogicalNodeWithId(e.nodeId,e,((e,t)=>this.modifyTextByNode(e,t)))}modifyTextByNode(e,t){if(t.text=e.newText,i(t).mapsToDom){const n=t.getDomNode();if(!n)throw new Ir("Failed to find DOM text to modify",e);const i=this.browserLink.logicalTree.getLogicalNodesFromDomNode(n);if(!i||0==i.length||-1==i.indexOf(t))throw new Ir("Failed to find related logical nodes for DOM node being modified.",e);let r="",o="";for(const n of i)n===t?(r+=e.oldText,o+=e.newText):n.text&&(r+=n.text,o+=n.text);if(r=this.fixTextForDomComparison(r),o=this.fixTextForDomComparison(o),n.textContent!==r){if(n.textContent===o)return;throw new Ir("Existing text does not match previous value.",e)}n.textContent=o}}removeElementTree(e,t){Tr.validateRemoveElementTreeChange(t),this.forEachLogicalNodeWithId(t.nodeId,t,((t,n)=>this.removeElementTreeByNode(e,t,n)))}removeElementTreeByNode(e,t,n){const i=n.parent;if(!i)throw new Ir("Failed to find parent logical node.",t);this.removeDescendantDomNodesIncludingSelf(n),this.removeLogicalNodeAndDescendants(e,i.children,n)}removeLogicalNodeAndDescendants(e,t,n){this.removeLogicalNode(t,n),this.trackTreeRemoval(e,n),this.removeNodeAndDescendantsFromIdMapping(n)}trackTreeRemoval(e,t){if(e.removed.push(t),t.attributes)for(const n of t.attributes)this.trackTreeRemoval(e,n);if(t.children)for(const n of t.children)this.trackTreeRemoval(e,n)}removeDescendantDomNodesIncludingSelf(e){if(i(e).mapsToDom){const n=e.getDomNode();n&&(null==(t=n)?void 0:t.parentNode)&&t.parentNode.removeChild(t)}else for(const t of e.children)this.removeDescendantDomNodesIncludingSelf(t);var t}unwrapElements(e,t){Tr.validateUnwrapElementsChange(t),this.forEachLogicalNodeWithId(t.nodeId,t,((t,n)=>this.unwrapElementsByNode(e,t,n))),this.clearIdMappingForId(t.nodeId)}unwrapElementsByNode(e,t,n){const r=n.parent;if(!r)throw new Ir("Failed to find parent logical node.",t);if(i(n).mapsToDom){const e=n.getDomNode(),i=this.logicalTreeTraverser.findValidInsertionPoint(r,this.findPreviousSibling(r));if(!i||!i.modifiedParentNode)throw new Ir("Failed to find logical tree insertion point.",t);const o=i.modifiedParentNode.getDomNode();if(!o)throw new Ir("Failed to find parent DOM element.",t);for(;e.firstChild;){const t=e.firstChild;e.removeChild(t),o.insertBefore(t,e)}o.removeChild(e)}for(;n.children.length>0;){const e=n.children[n.children.length-1];this.removeLogicalNode(n.children,e),e.parent=r,this.insertLogicalNodeAfter(r.children,e,n)}this.removeLogicalNode(r.children,n),e.removed.push(n)}removeAttribute(e,t){Tr.validateRemoveAttributeChange(t),this.forEachLogicalNodeWithId(t.nodeId,t,((t,n)=>this.removeAttributeFromElement(e,t,n))),this.clearIdMappingForId(t.nodeId)}removeAttributeFromElement(e,t,n){const r=n.parent;if(!r)throw new Ir("Failed to find parent logical node.",t);if(i(n).mapsToDom&&i(r).mapsToDom){const e=n.getDomNode();if(!e)throw new Ir("Failed to find DOM attribute node to remove.",t);const i=e.ownerElement;if(!i)throw new Ir("Failed to find DOM attribute node's parent element.",t);i.removeAttribute(e.name)}this.removeLogicalNode(r.attributes,n),e.removed.push(n)}removeText(e,t){Tr.validateRemoveTextChange(t),this.forEachLogicalNodeWithId(t.nodeId,t,((t,n)=>this.removeTextByNode(e,t,n))),this.clearIdMappingForId(t.nodeId)}removeTextByNode(e,t,n){const r=n.parent;if(!r)throw new Ir("Failed to find parent logical node.",t);if(i(n).mapsToDom){const e=n.getDomNode();if(!e)throw new Ir("Failed to find DOM text node to remove.",t);const i=e.parentElement;if(!i)throw new Ir("Failed to find DOM text node's parent element.",t);i.removeChild(e)}this.removeLogicalNode(r.children,n),e.removed.push(n)}moveElement(e){Tr.validateMoveElementChange(e),this.moveNode(e,e.nodeId,e.parentNodeId,e.insertAfterNodeId)}moveText(e){Tr.validateMoveTextChange(e),this.moveNode(e,e.nodeId,e.parentNodeId,e.insertAfterNodeId)}moveNode(e,t,n,r){const o=this.getLogicalNodesFromNodeId(t),a=this.getLogicalNodesFromNodeId(n),s=r?this.getLogicalNodesFromNodeId(r):[];if(1!==o.length||1!==a.length||s.length>1)throw new Ir("Moving nodes with multiple logical nodes, multiple parents or multiple insert after nodes is not supported.",e);const c=o[0],u=c.parent,l=a[0],p=s.length>0?s[0]:null;if(!u)throw new Ir("Failed to find parent logical node.",e);if(i(c).mapsToDom){const t=c.getDomNode();if(!t)throw new Ir("Failed to find DOM node to move.",e);const n=this.logicalTreeTraverser.findValidInsertionPoint(l,p);if(!n||!n.modifiedParentNode)throw new Ir("Failed to find logical tree insertion point.",e);const i=t.parentNode,r=n.modifiedParentNode.getDomNode(),o=n.modifiedInsertAfterLogicalNode?n.modifiedInsertAfterLogicalNode.getDomNode():null;if(!i||!r)throw new Ir("Failed to find parent DOM element or new parent DOM element.",e);o&&o.nodeType===Node.TEXT_NODE&&this.breakUpDomTextNode(n.modifiedInsertAfterLogicalNode,o),t&&i&&r&&(i.removeChild(t),o?Ar(t,o):Pr(t,r))}p?this.insertLogicalNodeAfter(l.children,c,p):this.insertLogicalNodeAtBeginning(l.children,c),c.parent=l,this.removeLogicalNode(u.children,c)}}function Ar(e,t){e&&(null==t?void 0:t.parentNode)&&t.parentNode.insertBefore(e,t.nextSibling)}function Pr(e,t){e&&t&&t.insertBefore(e,t.firstChild)}!function(e){e["Root"]="Root",e["Element"]="Element",e["Attribute"]="Attribute",e["Comment"]="Comment",e["Text"]="Text",e["CodeBlock"]="CodeBlock",e["GenericContainer"]="GenericContainer"}(kr||(kr={}));class Rr{constructor(e){this.browserLink=e}insertTextAfterSiblingNode(e,t){this.browserLink.invoke("DropControlTextInEditor",e.start.path,e.start.position+e.length,t)}insertTextAsFirstChild(e,t){this.browserLink.invoke("DropControlTextInEditor",e.start.path,e.start.position+e.startTagLength,t)}replaceTextInTextNode(e,t){this.browserLink.invoke("ReplaceTextInEditor",e.start.path,e.start.position,e.text.length,t)}}class Or{constructor(e){this.browserLink=e}refreshAllBrowsers(){this.browserLink.invoke("RefreshBrowsers")}}function Mr(e){return"function"==typeof e["then"]&&"function"==typeof e["catch"]&&"function"==typeof e["finally"]?e:new Promise((t=>e.continueWith(t)))}class Ur{constructor(e){this.browserLink=e}getCurrentUpdateFullStatus(){return Mr(this.browserLink.invokeAsync("GetCurrentUpdateState"))}getCurrentUpdateShortStatus(){return Mr(this.browserLink.invokeAsync("GetCurrentUpdateStateShortMsg"))}}var jr="function",Fr="object",Br="undefined",qr="prototype",zr="hasOwnProperty";function Vr(){return typeof globalThis!==Br&&globalThis?globalThis:typeof self!==Br&&self?self:typeof window!==Br&&window?window:typeof n.g!==Br&&n.g?n.g:null}function Hr(e){var t=Object["create"];if(t)return t(e);if(null==e)return{};var n=typeof e;if(n!==Fr&&n!==jr)throw new TypeError("Object prototype may only be an Object:"+e);function i(){}return i[qr]=e,new i}var Wr=function(e,t){return(Wr=Object["setPrototypeOf"]||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t[zr](n)&&(e[n]=t[n])})(e,t)};var Gr=Vr()||{};!function(e,t,n){e.__assign=e.__assign||Object.assign||t,e.__extends=e.__extends||n}(Gr,(function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object[qr][zr].call(t,r)&&(e[r]=t[r]);return e}),(function(e,t){function n(){this.constructor=e}Wr(e,t),e[qr]=null===t?Hr(t):(n[qr]=t[qr],new n)})),__assign=Gr.__assign,__extends=Gr.__extends;var Kr=Br,Xr=Fr,$r=qr,Yr=jr,Jr="window",Zr="document",Qr="navigator",eo="history",to="location",no="console",io="performance",ro="JSON",oo="crypto",ao="ReactNative",so=Vr;function co(e){var t=so();return t&&t[e]?t[e]:e===Jr&&uo()?window:null}function uo(){return Boolean(typeof window===Xr&&window)}function lo(){return uo()?window:co(Jr)}function po(){return Boolean(typeof document===Xr&&document)}function fo(){return po()?document:co(Zr)}function ho(){return Boolean(typeof navigator===Xr&&navigator)?navigator:co(Qr)}function go(){return Boolean(typeof history===Xr&&history)?history:co(eo)}function vo(){return typeof location===Xr&&location?location:co(to)}function mo(){return co(io)}function yo(){return Boolean(typeof JSON===Xr&&JSON||null!==co(ro))}function bo(){return yo()?JSON||co(ro):null}var xo="constructor",wo="prototype",So="function",Io="_dynInstFuncs",Co="_isDynProxy",To="_dynClass",ko="_dynCls$",_o="_unknown_",No="__proto__",Eo=Object["getPrototypeOf"],Lo=0;function Do(e,t){return e&&Object[wo].hasOwnProperty.call(e,t)}function Ao(e){return typeof e===So}function Po(e){return e&&(e===Object[wo]||e===Array[wo])}function Ro(e){return Po(e)||e===Function[wo]}function Oo(e){if(e){if(Eo)return Eo(e);var t=e[No]||e[wo]||e[xo];if(t)return t}return null}function Mo(e,t,n){return t!==xo&&Ao(e[t])&&(n||Do(e,t))}function Uo(e){throw new TypeError("DynamicProto: "+e)}function jo(e,t){for(var n=e.length-1;n>=0;n--)if(e[n]===t)return!0;return!1}function Fo(e,t){return Do(e,wo)?e.name||t||_o:((e||{})[xo]||{}).name||t||_o}var Bo=function(e,t,n){Do(e,wo)||Uo("theClass is an invalid class definition.");var i=e[wo];(function(e,t){for(var n=Oo(t);n&&!Ro(n);){if(n===e)return!0;n=Oo(n)}return!1})(i,t)||Uo("["+Fo(e)+"] is not in class heirarchy of ["+Fo(t)+"]");var r=null;Do(i,To)?r=i[To]:(r=ko+Fo(e,"_")+"$"+Lo,Lo++,i[To]=r);var o=function(e){var t={};for(var n in e)!t[n]&&Mo(e,n,!1)&&(t[n]=e[n]);return t}(t);n(t,function(e,t,n){function i(e,t){return function(){return t.apply(e,arguments)}}var r={};for(var o in n)r[o]=i(t,n[o]);for(var a=Oo(e),s=[];a&&!Ro(a)&&!jo(s,a);){for(var o in a)!r[o]&&Mo(a,o,!Eo)&&(r[o]=i(t,a[o]));s.push(a),a=Oo(a)}return r}(i,t,o)),function(e,t,n,i){function r(e,t){var n=function(){var i=this;if(i&&Do(e,To)){var r=((i[Io]||{})[e[To]]||{})[t];if(r)return r.apply(i,arguments);Uo("Missing ["+t+"] "+So)}var o=e[t];return o===n&&(o=Oo(e)[t]),Ao(o)||Uo("["+t+"] is not a "+So),o.apply(i,arguments)};return n[Co]=1,n}if(!Po(e)){var o=n[Io]=n[Io]||{},a=o[t]=o[t]||{};for(var s in n)Mo(n,s,!1)&&n[s]!==i[s]&&(a[s]=n[s],delete n[s],(!Do(e,s)||e[s]&&!e[s][Co])&&(e[s]=r(e,s)))}}(i,r,t,o)},qo="ctx",zo=function(){function e(t,n,i){var r,o=this,a=!1;(o.start=Date.now(),o.name=t,o.isAsync=i,o.isChildEvt=function(){return!1},ra.isFunction(n))&&(a=ra.objDefineAccessors(o,"payload",(function(){return!r&&ra.isFunction(n)&&(r=n(),n=null),r})));o.getCtx=function(t){return t?t===e.ParentContextKey||t===e.ChildrenContextKey?o[t]:(o[qo]||{})[t]:null},o.setCtx=function(t,n){if(t)if(t===e.ParentContextKey)o[t]||(o.isChildEvt=function(){return!0}),o[t]=n;else if(t===e.ChildrenContextKey)o[t]=n;else{(o[qo]=o[qo]||{})[t]=n}},o.complete=function(){var t=0,i=o.getCtx(e.ChildrenContextKey);if(ra.isArray(i))for(var r=0;r<i.length;r++){var s=i[r];s&&(t+=s.time)}o.time=Date.now()-o.start,o.exTime=o.time-t,o.complete=function(){},!a&&ra.isFunction(n)&&(o.payload=n())}}return e.ParentContextKey="parent",e.ChildrenContextKey="childEvts",e}(),Vo=function(){function e(t){this.ctx={},Bo(e,this,(function(e){e.create=function(e,t,n){return new zo(e,t,n)},e.fire=function(e){e&&e.complete(),t&&t.perfEvent(e)},e.setCtx=function(t,n){t&&((e[qo]=e[qo]||{})[t]=n)},e.getCtx=function(t){return(e[qo]||{})[t]}}))}return e.prototype.create=function(e,t,n){return null},e.prototype.fire=function(e){},e.prototype.setCtx=function(e,t){},e.prototype.getCtx=function(e){},e}(),Ho=(null&&strShimUndefined,"on"),Wo="attachEvent",Go="addEventListener",Ko="detachEvent",Xo="removeEventListener";function $o(e,t){return typeof e===t}function Yo(e){return $o(e,Br)||void 0===e}function Jo(e){return Yo(e)||null===e}function Zo(e,t){return e&&Object[qr].hasOwnProperty.call(e,t)}function Qo(e){return $o(e,Fr)}function ea(e){return $o(e,jr)}function ta(e,t,n,i){void 0===i&&(i=!1);var r=!1;if(!Jo(e))try{Jo(e[Go])?Jo(e[Wo])||(e[Wo](Ho+t,n),r=!0):(e[Go](t,n,i),r=!0)}catch(e){}return r}function na(e,t,n,i){if(void 0===i&&(i=!1),!Jo(e))try{Jo(e[Xo])?Jo(e[Ko])||e[Ko](Ho+t,n):e[Xo](t,n,i)}catch(e){}}var ia,ra=function(){function e(){}return e.isDate=function(e){return"[object Date]"===Object[qr].toString.call(e)},e.isArray=function(e){return"[object Array]"===Object[qr].toString.call(e)},e.isError=function(e){return"[object Error]"===Object[qr].toString.call(e)},e.isString=function(e){return $o(e,"string")},e.isNumber=function(e){return $o(e,"number")},e.isBoolean=function(e){return $o(e,"boolean")},e.disableCookies=function(){e._canUseCookies=!1},e.newGuid=function(){function e(){var e=co(oo);return e?e.getRandomValues(new Uint8Array(1))[0]%16:16*Math.random()}return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(oa,(function(t){var n=0|e();return("x"===t?n:3&n|8).toString(16)}))},e.toISOString=function(t){if(e.isDate(t)){var n=function(e){var t=String(e);return 1===t.length&&(t="0"+t),t};return t.getUTCFullYear()+"-"+n(t.getUTCMonth()+1)+"-"+n(t.getUTCDate())+"T"+n(t.getUTCHours())+":"+n(t.getUTCMinutes())+":"+n(t.getUTCSeconds())+"."+String((t.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"}},e.arrForEach=function(e,t,n){for(var i=e.length,r=0;r<i;r++)r in e&&t.call(n||e,e[r],r,e)},e.arrIndexOf=function(e,t,n){for(var i=e.length,r=n||0,o=Math.max(r>=0?r:i-Math.abs(r),0);o<i;o++)if(o in e&&e[o]===t)return o;return-1},e.arrMap=function(e,t,n){for(var i=e.length,r=n||e,o=new Array(i),a=0;a<i;a++)a in e&&(o[a]=t.call(r,e[a],e));return o},e.arrReduce=function(e,t,n){var i,r=e.length,o=0;if(arguments.length>=3)i=arguments[2];else{for(;o<r&&!(o in e);)o++;i=e[o++]}for(;o<r;)o in e&&(i=t(i,e[o],o,e)),o++;return i},e.strTrim=function(t){return e.isString(t)?t.replace(/^\s+|\s+$/g,""):t},e.objKeys=function(e){var t=!{toString:null}.propertyIsEnumerable("toString");if(!(ea(e)||Qo(e)&&null!==e))throw new TypeError("objKeys called on non-object");var n=[];for(var i in e)Zo(e,i)&&n.push(i);if(t)for(var r=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],o=r.length,a=0;a<o;a++)Zo(e,r[a])&&n.push(r[a]);return n},e.objDefineAccessors=function(e,t,n,i){var r=Object["defineProperty"];if(r)try{var o={enumerable:!0,configurable:!0};return n&&(o.get=n),i&&(o.set=i),r(e,t,o),!0}catch(e){}return!1},e.addEventHandler=function(e,t){var n=!1,i=lo();i&&(n=ta(i,e,t),n=ta(i["body"],e,t)||n);var r=fo();return r&&(n=aa.Attach(r,e,t)||n),n},e.isTypeof=$o,e.isUndefined=Yo,e.isNullOrUndefined=Jo,e.hasOwnProperty=Zo,e.isFunction=ea,e.isObject=Qo,e.objCreate=Hr,e}(),oa=/[xy]/g,aa=function(){function e(){}return e.Attach=ta,e.AttachEvent=ta,e.Detach=na,e.DetachEvent=na,e}(),sa="CoreUtils.doPerf";function ca(e,t,n,i,r){if(e){var o=e;if(o&&ra.isFunction(o["getPerfMgr"])&&(o=o["getPerfMgr"]()),o){var a=void 0,s=o.getCtx(sa);try{if(a=o.create(t(),i,r)){if(s&&a.setCtx&&(a.setCtx(zo.ParentContextKey,s),s.getCtx&&s.setCtx)){var c=s.getCtx(zo.ChildrenContextKey);c||(c=[],s.setCtx(zo.ChildrenContextKey,c)),c.push(a)}return o.setCtx(sa,a),n(a)}}catch(e){a&&a.setCtx&&a.setCtx("exception",e)}finally{a&&o.fire(a),o.setCtx(sa,s)}}}return n()}!function(e){e[e["CRITICAL"]=1]="CRITICAL",e[e["WARNING"]=2]="WARNING"}(ia||(ia={}));var ua=0,la=1,pa=2,da=3,fa=4,ha=5,ga=6,va=7,ma=8,ya=9,ba=10,xa=11,wa=12,Sa=13,Ia=14,Ca=15,Ta=16,ka=17,_a=18,Na=19,Ea=20,La=22,Da=23,Aa=24,Pa=25,Ra=26,Oa=27,Ma=28,Ua=29,ja=30,Fa=31,Ba=32,qa=33,za=35,Va=36,Ha=37,Wa=38,Ga=39,Ka=40,Xa=41,$a=42,Ya=43,Ja=45,Za=46,Qa=47,es=48,ts=49,ns=50,is=52,rs=54,os=55,as=56,ss=57,cs=58,us=60,ls=61,ps=62,ds=63,fs=64,hs=66,gs=67,vs=68,ms=69,ys=70,bs=71,xs=72,ws=73,Ss=74,Is="AI (Internal): ",Cs="AI: ",Ts="AITR_";function ks(e){return e?'"'+e.replace(/\"/g,"")+'"':""}var _s=function(){function e(e,t,n,i){void 0===n&&(n=!1);var r=this;r.messageId=e,r.message=(n?Cs:Is)+e;var o="";yo()&&(o=bo().stringify(i));var a=(t?" message:"+ks(t):"")+(i?" props:"+ks(o):"");r.message+=a}return e.dataType="MessageData",e}(),Ns=function(){function e(t){this.identifier="DiagnosticLogger",this.queue=[];var n=0,i={};Bo(e,this,(function(e){var r=ra.isNullOrUndefined,o=ra.isUndefined,a=ra.isFunction;function s(e,n){var i=t[e];return r(i)?n:i}r(t)&&(t={}),e.consoleLoggingLevel=function(){return s("loggingLevelConsole",0)},e.telemetryLoggingLevel=function(){return s("loggingLevelTelemetry",1)},e.maxInternalMessageLimit=function(){return s("maxMessageLimit",25)},e.enableDebugExceptions=function(){return s("enableDebugExceptions",!1)},e.throwInternal=function(t,n,r,a,s){void 0===s&&(s=!1);var c=new _s(n,r,s,a);if(e.enableDebugExceptions())throw c;if(!o(c)&&c&&!o(c.message)){if(s){var u=+c.messageId;!i[u]&&e.consoleLoggingLevel()>=ia.WARNING&&(e.warnToConsole(c.message),i[u]=!0)}else e.consoleLoggingLevel()>=ia.WARNING&&e.warnToConsole(c.message);e.logInternalMessage(t,c)}},e.warnToConsole=function(e){var t=typeof console!==Kr?console:co(no);if(t){var n="log";t.warn&&(n="warn"),a(t[n])&&t[n](e)}},e.resetInternalMessageCount=function(){n=0,i={}},e.logInternalMessage=function(t,r){if(!(n>=e.maxInternalMessageLimit())){var o=!0,a=Ts+r.messageId;if(i[a]?o=!1:i[a]=!0,o&&(t<=e.telemetryLoggingLevel()&&(e.queue.push(r),n++),n===e.maxInternalMessageLimit())){var s="Internal events throttle limit per PageView reached for this app.",c=new _s(Da,s,!1);e.queue.push(c),e.warnToConsole(s)}}}}))}return e.prototype.enableDebugExceptions=function(){return!1},e.prototype.consoleLoggingLevel=function(){return 0},e.prototype.telemetryLoggingLevel=function(){return 1},e.prototype.maxInternalMessageLimit=function(){return 25},e.prototype.throwInternal=function(e,t,n,i,r){void 0===r&&(r=!1)},e.prototype.warnToConsole=function(e){},e.prototype.resetInternalMessageCount=function(){},e.prototype.logInternalMessage=function(e,t){},e}(),Es=ra.isFunction,Ls=function(e,t){var n=this,i=null,r=Es(e.processTelemetry),o=Es(e.setNextPlugin);n._hasRun=!1,n.getPlugin=function(){return e},n.getNext=function(){return i},n.setNext=function(e){i=e},n.processTelemetry=function(a,s){s||(s=t);var c=e?e.identifier:"TelemetryPluginChain";ca(s?s.core():null,(function(){return c+":processTelemetry"}),(function(){if(e&&r){n._hasRun=!0;try{s.setNext(i),o&&e.setNextPlugin(i),i&&(i._hasRun=!1),e.processTelemetry(a,s)}catch(n){var t=i&&i._hasRun;i&&t||s.diagLog().throwInternal(ia.CRITICAL,ws,"Plugin ["+e.identifier+"] failed during processTelemetry - "+n),i&&!t&&i.processTelemetry(a,s)}}else i&&(n._hasRun=!0,i.processTelemetry(a,s))}),(function(){return{item:a}}),!a.sync)}},Ds=ra.isNullOrUndefined;function As(e,t){var n=[];if(e&&e.length>0)for(var i=null,r=0;r<e.length;r++){var o=e[r];if(o&&ra.isFunction(o.processTelemetry)){var a=new Ls(o,t);n.push(a),i&&i.setNext(a),i=a}}return n.length>0?n[0]:null}var Ps=function e(t,n,i,r){var o=this,a=null;null!==r&&(t&&ra.isFunction(t.getPlugin)?a=function(e,t,n){var i=[],r=!n;if(e)for(;e;){var o=e.getPlugin();(r||o===n)&&(r=!0,i.push(o)),e=e.getNext()}return r||i.push(n),As(i,t)}(t,o,r||t.getPlugin()):r?a=function(e,t,n){var i=e,r=!1;return n&&e&&(i=[],ra.arrForEach(e,(function(e){(r||e===n)&&(r=!0,i.push(e))}))),n&&!r&&(i||(i=[]),i.push(n)),As(i,t)}(t,o,r):ra.isUndefined(r)&&(a=As(t,o))),o.core=function(){return i},o.diagLog=function(){var e=(i||{}).logger;return e||(e=new Ns(n||{})),e},o.getCfg=function(){return n},o.getExtCfg=function(e,t){var i;if(void 0===t&&(t={}),n){var r=n.extensionConfig;r&&e&&(i=r[e])}return i||t},o.getConfig=function(e,t,i){var r;void 0===i&&(i=!1);var a=o.getExtCfg(e,null);return a&&!Ds(a[t])?r=a[t]:n&&!Ds(n[t])&&(r=n[t]),Ds(r)?i:r},o.hasNext=function(){return null!=a},o.getNext=function(){return a},o.setNext=function(e){a=e},o.processNext=function(e){var t=a;t&&(a=t.getNext(),t.processTelemetry(e,o))},o.createNew=function(t,r){return void 0===t&&(t=null),new e(t||a,n,i,r)}},Rs=ra.isFunction,Os="getPlugin",Ms=function(){function e(){var e=this,t=!1,n=null,i=null;e.core=null,e.diagLog=function(t){return e._getTelCtx(t).diagLog()},e.isInitialized=function(){return t},e.setInitialized=function(e){t=e},e.setNextPlugin=function(e){i=e},e.processNext=function(e,t){t?t.processNext(e):i&&Rs(i.processTelemetry)&&i.processTelemetry(e,null)},e._getTelCtx=function(t){void 0===t&&(t=null);var r=t;if(!r){var o=n||new Ps(null,{},e.core);r=i&&i[Os]?o.createNew(null,i[Os]):o.createNew(null,i)}return r},e._baseTelInit=function(r,o,a,s){r&&(r.extensionConfig=r.extensionConfig||[]),!s&&o&&(s=o.getProcessTelContext().getNext());var c=i;i&&i[Os]&&(c=i[Os]()),e.core=o,n=new Ps(s,r,o,c),t=!0}}return e.prototype.initialize=function(e,t,n,i){this._baseTelInit(e,t,n,i)},e}(),Us=ra.isFunction,js="processTelemetry",Fs="priority",Bs="setNextPlugin",qs="isInitialized";function zs(e,t){for(var n=[],i=null,r=e.getNext();r;){var o=r.getPlugin();o&&(i&&Us(i[Bs])&&Us(o[js])&&i[Bs](o),Us(o[qs])&&o[qs]()||n.push(o),i=o,r=r.getNext())}ra.arrForEach(n,(function(n){n.initialize(e.getCfg(),e.core(),t,e.getNext())}))}function Vs(e){return e.sort((function(e,t){var n=0,i=Us(t[js]);return Us(e[js])?n=i?e[Fs]-t[Fs]:1:i&&(n=-1),n}))}var Hs,Ws,Gs,Ks=500,Xs="Channel has invalid priority",$s=ra.objDefineAccessors,Ys=function(e){function t(){var n=e.call(this)||this;n.identifier="ChannelControllerPlugin",n.priority=Ks;var i,r=ra.arrForEach;function o(e){e&&e.length>0&&(function(e){r(e,(function(e){if(e.priority<Ks)throw Error(Xs+e.identifier)}))}(e=e.sort((function(e,t){return e.priority-t.priority}))),i.push(e))}return Bo(t,n,(function(e,t){e.setNextPlugin=function(e){},e.processTelemetry=function(e,t){i&&r(i,(function(i){i.length>0&&n._getTelCtx(t).createNew(i).processNext(e)}))},e.getChannelControls=function(){return i},e.initialize=function(n,a,s){e.isInitialized()||(t.initialize(n,a,s),n.isCookieUseDisabled&&ra.disableCookies(),function(e,t){i=[],e&&r(e,(function(e){return o(e)}));if(t){var n=[];r(t,(function(e){e.priority>Ks&&n.push(e)})),o(n)}}((n||{}).channels,s),r(i,(function(e){return zs(new Ps(e,n,a),s)})))}})),n}return __extends(t,e),t.prototype.processTelemetry=function(e,t){},t.prototype.getChannelControls=function(){return null},t.prototype.initialize=function(e,t,n){},t._staticInit=($s(t.prototype,"ChannelControls",t.prototype.getChannelControls),void $s(t.prototype,"channelQueue",t.prototype.getChannelControls)),t}(Ms),Js="Extensions must provide callback to initialize",Zs=ra.arrForEach,Qs=ra.isNullOrUndefined,ec="_notificationManager",tc=function(){function e(){var t,n,i,r,o=!1;Bo(e,this,(function(e){e._extensions=new Array,n=new Ys,t=[],e.isInitialized=function(){return o},e.initialize=function(t,r,a,s){if(e.isInitialized())throw Error("Core should not be initialized more than once");if(!t||Qs(t.instrumentationKey))throw Error("Please provide instrumentation key");i=s,e[ec]=s,e.config=t||{},t.extensions=Qs(t.extensions)?[]:t.extensions,(t.extensionConfig=Qs(t.extensionConfig)?{}:t.extensionConfig).NotificationManager=s,a||(a=ra.objCreate({throwInternal:function(e,t,n,i,r){void 0===r&&(r=!1)},warnToConsole:function(e){},resetInternalMessageCount:function(){}})),e.logger=a;var c=[];c.push.apply(c,r.concat(t.extensions)),c=Vs(c);var u=[],l=[],p={};if(Zs(c,(function(e){if(Qs(e)||Qs(e.initialize))throw Error(Js);var t=e.priority,i=e.identifier;e&&t&&(Qs(p[t])?p[t]=i:a.warnToConsole("Two extensions have same priority #"+t+" - "+p[t]+", "+i)),!t||t<n.priority?u.push(e):l.push(e)})),c.push(n),u.push(n),c=Vs(c),e._extensions=c,zs(new Ps([n],t,e),c),zs(new Ps(u,t,e),c),e._extensions=u,0===e.getTransmissionControls().length)throw new Error("No channels available");o=!0,e.releaseQueue()},e.getTransmissionControls=function(){return n.getChannelControls()},e.track=function(n){n.iKey||(n.iKey=e.config.instrumentationKey),n.time||(n.time=ra.toISOString(new Date)),Qs(n.ver)&&(n.ver="4.0"),e.isInitialized()?e.getProcessTelContext().processNext(n):t.push(n)},e.getProcessTelContext=function(){var t=e._extensions,i=t;return t&&0!==t.length||(i=[n]),new Ps(i,e.config,e)},e.getNotifyMgr=function(){return i||(i=ra.objCreate({addNotificationListener:function(e){},removeNotificationListener:function(e){},eventsSent:function(e){},eventsDiscarded:function(e,t){},eventsSendRequest:function(e,t){}}),e[ec]=i),i},e.getPerfMgr=function(){return r||e.config&&e.config.enablePerfMgr&&(r=new Vo(e.getNotifyMgr())),r},e.setPerfMgr=function(e){r=e},e.eventCnt=function(){return t.length},e.releaseQueue=function(){t.length>0&&(Zs(t,(function(t){e.getProcessTelContext().processNext(t)})),t=[])}}))}return e.prototype.initialize=function(e,t,n,i){},e.prototype.getTransmissionControls=function(){return null},e.prototype.track=function(e){},e.prototype.getProcessTelContext=function(){return null},e.prototype.getNotifyMgr=function(){return null},e.prototype.getPerfMgr=function(){return null},e.prototype.setPerfMgr=function(e){},e.prototype.eventCnt=function(){return 0},e.prototype.releaseQueue=function(){},e}(),nc=2,ic=function(){function e(t){this.listeners=[];var n=ra.arrForEach,i=!!(t||{}).perfEvtsSendAll;Bo(e,this,(function(e){e.addNotificationListener=function(t){e.listeners.push(t)},e.removeNotificationListener=function(t){for(var n=ra.arrIndexOf(e.listeners,t);n>-1;)e.listeners.splice(n,1),n=ra.arrIndexOf(e.listeners,t)},e.eventsSent=function(t){n(e.listeners,(function(e){e&&e.eventsSent&&setTimeout((function(){return e.eventsSent(t)}),0)}))},e.eventsDiscarded=function(t,i){n(e.listeners,(function(e){e&&e.eventsDiscarded&&setTimeout((function(){return e.eventsDiscarded(t,i)}),0)}))},e.eventsSendRequest=function(t,i){n(e.listeners,(function(e){if(e&&e.eventsSendRequest)if(i)setTimeout((function(){return e.eventsSendRequest(t,i)}),0);else try{e.eventsSendRequest(t,i)}catch(e){}}))},e.perfEvent=function(t){t&&(!i&&t.isChildEvt()||n(e.listeners,(function(e){if(e&&e.perfEvent)if(t.isAsync)setTimeout((function(){return e.perfEvent(t)}),0);else try{e.perfEvent(t)}catch(e){}})))}}))}return e.prototype.addNotificationListener=function(e){},e.prototype.removeNotificationListener=function(e){},e.prototype.eventsSent=function(e){},e.prototype.eventsDiscarded=function(e,t){},e.prototype.eventsSendRequest=function(e,t){},e}(),rc=function(e){function t(){var n=e.call(this)||this;return Bo(t,n,(function(e,t){function n(t){var n=e.getNotifyMgr();n&&n.eventsDiscarded([t],nc)}e.initialize=function(e,n,i,r){t.initialize(e,n,i||new Ns(e),r||new ic(e))},e.track=function(i){ca(e.getPerfMgr(),(function(){return"AppInsightsCore:track"}),(function(){if(null===i)throw n(i),Error("Invalid telemetry item");!function(e){if(ra.isNullOrUndefined(e.name))throw n(e),Error("telemetry name required")}(i),t.track(i)}),(function(){return{item:i}}),!i.sync)},e.addNotificationListener=function(t){var n=e.getNotifyMgr();n&&n.addNotificationListener(t)},e.removeNotificationListener=function(t){var n=e.getNotifyMgr();n&&n.removeNotificationListener(t)},e.pollInternalLogs=function(t){var n=e.config.diagnosticLogInterval;return n&&n>0||(n=1e4),setInterval((function(){var n=e.logger?e.logger.queue:[];ra.arrForEach(n,(function(n){var i={name:t||"InternalMessageId: "+n.messageId,iKey:e.config.instrumentationKey,time:ra.toISOString(new Date),baseType:_s.dataType,baseData:{message:n.message}};e.track(i)})),n.length=0}),n)}})),n}return __extends(t,e),t.prototype.initialize=function(e,t,n,i){},t.prototype.track=function(e){},t.prototype.addNotificationListener=function(e){},t.prototype.removeNotificationListener=function(e){},t.prototype.pollInternalLogs=function(e){return 0},t}(tc),oc="AppInsightsPropertiesPlugin",ac="AppInsightsChannelPlugin",sc="ApplicationInsightsAnalytics";!function(e){e[e["LocalStorage"]=0]="LocalStorage",e[e["SessionStorage"]=1]="SessionStorage"}(Hs||(Hs={})),function(e){e[e["Default"]=0]="Default",e[e["Required"]=1]="Required",e[e["Array"]=2]="Array",e[e["Hidden"]=4]="Hidden"}(Ws||(Ws={})),function(e){e[e["AI"]=0]="AI",e[e["AI_AND_W3C"]=1]="AI_AND_W3C",e[e["W3C"]=2]="W3C"}(Gs||(Gs={}));var cc=function(){function e(){}return e.requestContextHeader="Request-Context",e.requestContextTargetKey="appId",e.requestContextAppIdFormat="appId=cid-v1:",e.requestIdHeader="Request-Id",e.traceParentHeader="traceparent",e.sdkContextHeader="Sdk-Context",e.sdkContextHeaderAppIdRequest="appId",e.requestContextHeaderLowerCase="request-context",e}(),uc=function(){function e(){}return e.sanitizeKeyAndAddUniqueness=function(t,n,i){var r=n.length,o=e.sanitizeKey(t,n);if(o.length!==r){for(var a=0,s=o;void 0!==i[s];)a++,s=o.substring(0,e.MAX_NAME_LENGTH-3)+e.padNumber(a);o=s}return o},e.sanitizeKey=function(t,n){var i;return n&&(n=e.trim(n.toString())).length>e.MAX_NAME_LENGTH&&(i=n.substring(0,e.MAX_NAME_LENGTH),t.throwInternal(ia.WARNING,ss,"name is too long.  It has been truncated to "+e.MAX_NAME_LENGTH+" characters.",{name:n},!0)),i||n},e.sanitizeString=function(t,n,i){var r;return void 0===i&&(i=e.MAX_STRING_LENGTH),n&&(i=i||e.MAX_STRING_LENGTH,(n=e.trim(n)).toString().length>i&&(r=n.toString().substring(0,i),t.throwInternal(ia.WARNING,ls,"string value is too long. It has been truncated to "+i+" characters.",{value:n},!0))),r||n},e.sanitizeUrl=function(t,n){return e.sanitizeInput(t,n,e.MAX_URL_LENGTH,hs)},e.sanitizeMessage=function(t,n){var i;return n&&n.length>e.MAX_MESSAGE_LENGTH&&(i=n.substring(0,e.MAX_MESSAGE_LENGTH),t.throwInternal(ia.WARNING,as,"message is too long, it has been truncated to "+e.MAX_MESSAGE_LENGTH+" characters.",{message:n},!0)),i||n},e.sanitizeException=function(t,n){var i;return n&&n.length>e.MAX_EXCEPTION_LENGTH&&(i=n.substring(0,e.MAX_EXCEPTION_LENGTH),t.throwInternal(ia.WARNING,is,"exception is too long, it has been truncated to "+e.MAX_EXCEPTION_LENGTH+" characters.",{exception:n},!0)),i||n},e.sanitizeProperties=function(t,n){if(n){var i={};for(var r in n){var o=n[r];if(ra.isObject(o)&&yo())try{o=bo().stringify(o)}catch(e){t.throwInternal(ia.WARNING,ts,"custom property is not valid",{exception:e},!0)}o=e.sanitizeString(t,o,e.MAX_PROPERTY_LENGTH),i[r=e.sanitizeKeyAndAddUniqueness(t,r,i)]=o}n=i}return n},e.sanitizeMeasurements=function(t,n){if(n){var i={};for(var r in n){var o=n[r];i[r=e.sanitizeKeyAndAddUniqueness(t,r,i)]=o}n=i}return n},e.sanitizeId=function(t,n){return n?e.sanitizeInput(t,n,e.MAX_ID_LENGTH,ms).toString():n},e.sanitizeInput=function(t,n,i,r){var o;return n&&(n=e.trim(n)).length>i&&(o=n.substring(0,i),t.throwInternal(ia.WARNING,r,"input is too long, it has been truncated to "+i+" characters.",{data:n},!0)),o||n},e.padNumber=function(e){var t="00"+e;return t.substr(t.length-3)},e.trim=function(e){return ra.isString(e)?e.replace(/^\s+|\s+$/g,""):e},e.MAX_NAME_LENGTH=150,e.MAX_ID_LENGTH=128,e.MAX_PROPERTY_LENGTH=8192,e.MAX_STRING_LENGTH=1024,e.MAX_URL_LENGTH=2048,e.MAX_MESSAGE_LENGTH=32768,e.MAX_EXCEPTION_LENGTH=32768,e}(),lc=ho(),pc=ra.isString,dc=null;var fc,hc=function(){function e(){}return e.createDomEvent=function(e){var t=null;if(ra.isFunction(Event))t=new Event(e);else{var n=fo();n&&n.createEvent&&(t=n.createEvent("Event")).initEvent(e,!0,!0)}return t},e.disableStorage=function(){e._canUseLocalStorage=!1,e._canUseSessionStorage=!1},e._getLocalStorageObject=function(){return e.canUseLocalStorage()?e._getVerifiedStorageObject(Hs.LocalStorage):null},e._getVerifiedStorageObject=function(e){var t,n,i=null;try{if(ra.isNullOrUndefined(so()))return null;n=new Date,(i=e===Hs.LocalStorage?co("localStorage"):co("sessionStorage")).setItem(n.toString(),n.toString()),t=i.getItem(n.toString())!==n.toString(),i.removeItem(n.toString()),t&&(i=null)}catch(e){i=null}return i},e.isInternalApplicationInsightsEndpoint=function(t){return-1!==e._internalEndpoints.indexOf(t.toLowerCase())},e.canUseLocalStorage=function(){return void 0===e._canUseLocalStorage&&(e._canUseLocalStorage=!!e._getVerifiedStorageObject(Hs.LocalStorage)),e._canUseLocalStorage},e.getStorage=function(t,n){var i=e._getLocalStorageObject();if(null!==i)try{return i.getItem(n)}catch(n){e._canUseLocalStorage=!1,t.throwInternal(ia.WARNING,la,"Browser failed read of local storage. "+e.getExceptionName(n),{exception:e.dump(n)})}return null},e.setStorage=function(t,n,i){var r=e._getLocalStorageObject();if(null!==r)try{return r.setItem(n,i),!0}catch(n){e._canUseLocalStorage=!1,t.throwInternal(ia.WARNING,da,"Browser failed write to local storage. "+e.getExceptionName(n),{exception:e.dump(n)})}return!1},e.removeStorage=function(t,n){var i=e._getLocalStorageObject();if(null!==i)try{return i.removeItem(n),!0}catch(n){e._canUseLocalStorage=!1,t.throwInternal(ia.WARNING,ha,"Browser failed removal of local storage item. "+e.getExceptionName(n),{exception:e.dump(n)})}return!1},e._getSessionStorageObject=function(){return e.canUseSessionStorage()?e._getVerifiedStorageObject(Hs.SessionStorage):null},e.canUseSessionStorage=function(){return void 0===e._canUseSessionStorage&&(e._canUseSessionStorage=!!e._getVerifiedStorageObject(Hs.SessionStorage)),e._canUseSessionStorage},e.getSessionStorageKeys=function(){var t=[];if(e.canUseSessionStorage())for(var n in co("sessionStorage"))t.push(n);return t},e.getSessionStorage=function(t,n){var i=e._getSessionStorageObject();if(null!==i)try{return i.getItem(n)}catch(n){e._canUseSessionStorage=!1,t.throwInternal(ia.WARNING,pa,"Browser failed read of session storage. "+e.getExceptionName(n),{exception:e.dump(n)})}return null},e.setSessionStorage=function(t,n,i){var r=e._getSessionStorageObject();if(null!==r)try{return r.setItem(n,i),!0}catch(n){e._canUseSessionStorage=!1,t.throwInternal(ia.WARNING,fa,"Browser failed write to session storage. "+e.getExceptionName(n),{exception:e.dump(n)})}return!1},e.removeSessionStorage=function(t,n){var i=e._getSessionStorageObject();if(null!==i)try{return i.removeItem(n),!0}catch(n){e._canUseSessionStorage=!1,t.throwInternal(ia.WARNING,ga,"Browser failed removal of session storage item. "+e.getExceptionName(n),{exception:e.dump(n)})}return!1},e.disableCookies=function(){ra.disableCookies()},e.canUseCookies=function(t){if(void 0===ra._canUseCookies){ra._canUseCookies=!1;try{ra._canUseCookies=void 0!==e.document.cookie}catch(n){t.throwInternal(ia.WARNING,vs,"Cannot access document.cookie - "+e.getExceptionName(n),{exception:e.dump(n)})}}return ra._canUseCookies},e.disallowsSameSiteNone=function(e){return!!pc(e)&&(-1!==e.indexOf("CPU iPhone OS 12")||-1!==e.indexOf("iPad; CPU OS 12")||(-1!==e.indexOf("Macintosh; Intel Mac OS X 10_14")&&-1!==e.indexOf("Version/")&&-1!==e.indexOf("Safari")||(-1!==e.indexOf("Macintosh; Intel Mac OS X 10_14")&&(n="AppleWebKit/605.1.15 (KHTML, like Gecko)",i=(t=e).length,r=i-n.length,t.substring(r>=0?r:0,i)===n)||(-1!==e.indexOf("Chrome/5")||-1!==e.indexOf("Chrome/6")||(-1!==e.indexOf("UnrealEngine")&&-1===e.indexOf("Chrome")||(-1!==e.indexOf("UCBrowser/12")||-1!==e.indexOf("UCBrowser/11")))))));var t,n,i,r},e.setCookie=function(t,n,i,r){if(e.canUseCookies(t)){var o="",a="";r&&(o=";domain="+r);var s=vo();s&&"https:"===s.protocol&&(a=";secure",null===dc&&(dc=e.disallowsSameSiteNone((ho()||{}).userAgent)),dc||(i+=";SameSite=None")),e.document.cookie=n+"="+i+o+";path=/"+a}},e.stringToBoolOrDefault=function(e,t){return void 0===t&&(t=!1),null==e?t:"true"===e.toString().toLowerCase()},e.getCookie=function(t,n){if(e.canUseCookies(t)){var i="";if(n&&n.length)for(var r=n+"=",o=e.document.cookie.split(";"),a=0;a<o.length;a++){var s=o[a];if((s=e.trim(s))&&0===s.indexOf(r)){i=s.substring(r.length,o[a].length);break}}return i}},e.deleteCookie=function(t,n){e.canUseCookies(t)&&(e.document.cookie=n+"=;path=/;expires=Thu, 01 Jan 1970 00:00:01 GMT;")},e.newId=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t="",n=1073741824*Math.random();n>0;){t+=e.charAt(n%64),n=Math.floor(n/64)}return t},e.random32=function(){return 4294967296*Math.random()|0},e.generateW3CId=function(){for(var t,n=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],i="",r=0;r<4;r++)i+=n[15&(t=e.random32())]+n[t>>4&15]+n[t>>8&15]+n[t>>12&15]+n[t>>16&15]+n[t>>20&15]+n[t>>24&15]+n[t>>28&15];var o=n[8+4*Math.random()|0];return i.substr(0,8)+i.substr(9,4)+"4"+i.substr(13,3)+o+i.substr(16,3)+i.substr(19,12)},e.getIEVersion=function(e){void 0===e&&(e=null);var t=e?e.toLowerCase():lc?(lc.userAgent||"").toLowerCase():"";if(-1!==t.indexOf("msie"))return parseInt(t.split("msie")[1]);if(t.indexOf("trident/")){var n=parseInt(t.split("trident/")[1]);if(n)return n+4}return null},e.msToTimeSpan=function(e){(isNaN(e)||e<0)&&(e=0);var t=""+(e=Math.round(e))%1e3,n=""+Math.floor(e/1e3)%60,i=""+Math.floor(e/(1e3*60))%60,r=""+Math.floor(e/(1e3*60*60))%24,o=Math.floor(e/(1e3*60*60*24));return t=1===t.length?"00"+t:2===t.length?"0"+t:t,n=n.length<2?"0"+n:n,i=i.length<2?"0"+i:i,(o>0?o+".":"")+(r=r.length<2?"0"+r:r)+":"+i+":"+n+"."+t},e.isCrossOriginError=function(e,t,n,i,r){return("Script error."===e||"Script error"===e)&&!r},e.dump=function(e){var t=Object[$r].toString.call(e),n="";return"[object Error]"===t?n="{ stack: '"+e.stack+"', message: '"+e.message+"', name: '"+e.name+"'":yo()&&(n=bo().stringify(e)),t+n},e.getExceptionName=function(e){return"[object Error]"===Object[$r].toString.call(e)?e.name:""},e.addEventHandler=function(e,t){return aa.Attach(lo(),e,t)},e.IsBeaconApiSupported=function(){return"sendBeacon"in lc&&lc.sendBeacon},e.getExtension=function(e,t){for(var n=null,i=0;!n&&i<e.length;)e[i]&&e[i].identifier===t&&(n=e[i]),i++;return n},e.document=fo()||{},e._canUseLocalStorage=void 0,e._canUseSessionStorage=void 0,e._internalEndpoints=["https://dc.services.visualstudio.com/v2/track","https://breeze.aimon.applicationinsights.io/v2/track","https://dc-int.services.visualstudio.com/v2/track"],e.NotSpecified="not_specified",e.trim=ra.strTrim,e.isArray=ra.isArray,e.isError=ra.isError,e.isDate=ra.isDate,e.toISOStringForIE8=ra.toISOString,e}(),gc=function(){function e(){}return e.parseUrl=function(t){var n=e._htmlAnchorIdx,i=e._htmlAnchorElement,r=i[n];return e.document.createElement?i[n]||(r=i[n]=e.document.createElement("a")):r={host:e.parseHost(t,!0)},r.href=t,++n>=i.length&&(n=0),e._htmlAnchorIdx=n,r},e.getAbsoluteUrl=function(t){var n,i=e.parseUrl(t);return i&&(n=i.href),n},e.getPathName=function(t){var n,i=e.parseUrl(t);return i&&(n=i.pathname),n},e.getCompleteUrl=function(e,t){return e?e.toUpperCase()+" "+t:t},e.parseHost=function(t,n){var i=e.parseFullHost(t,n);if(i){var r=i.match(/(www[0-9]?\.)?(.[^/:]+)(\:[\d]+)?/i);if(null!=r&&r.length>3&&pc(r[2])&&r[2].length>0)return r[2]+(r[3]||"")}return i},e.parseFullHost=function(e,t){var n=null;if(e){var i=e.match(/(\w*):\/\/(.[^/:]+)(\:[\d]+)?/i);if(null!=i&&i.length>2&&pc(i[2])&&i[2].length>0&&(n=i[2]||"",t&&i.length>2)){var r=(i[1]||"").toLowerCase(),o=i[3]||"";("http"===r&&":80"===o||"https"===r&&":443"===o)&&(o=""),n+=o}}return n},e.document=fo()||{},e._htmlAnchorIdx=0,e._htmlAnchorElement=[null,null,null,null,null],e}(),vc=function(){function e(){}return e.canIncludeCorrelationHeader=function(e,t,n){if(!t||e&&e.disableCorrelationHeaders)return!1;if(e&&e.correlationHeaderExcludePatterns)for(var i=0;i<e.correlationHeaderExcludePatterns.length;i++)if(e.correlationHeaderExcludePatterns[i].test(t))return!1;var r=gc.parseUrl(t).host.toLowerCase();if(!r||-1===r.indexOf(":443")&&-1===r.indexOf(":80")||(r=(gc.parseFullHost(t,!0)||"").toLowerCase()),!(e&&e.enableCorsCorrelation||r===n))return!1;var o,a=e&&e.correlationHeaderDomains;if(a&&(ra.arrForEach(a,(function(e){var t=new RegExp(e.toLowerCase().replace(/\./g,".").replace(/\*/g,".*"));o=o||t.test(r)})),!o))return!1;var s=e&&e.correlationHeaderExcludedDomains;if(!s||0===s.length)return!0;for(i=0;i<s.length;i++){if(new RegExp(s[i].toLowerCase().replace(/\./g,".").replace(/\*/g,".*")).test(r))return!1}return r&&r.length>0},e.getCorrelationContext=function(t){if(t){var n=e.getCorrelationContextValue(t,cc.requestContextTargetKey);if(n&&n!==e.correlationIdPrefix)return n}},e.getCorrelationContextValue=function(e,t){if(e)for(var n=e.split(","),i=0;i<n.length;++i){var r=n[i].split("=");if(2===r.length&&r[0]===t)return r[1]}},e.correlationIdPrefix="cid-v1:",e}(),mc=function(){function e(){}return e.ParseDependencyPath=function(e,t,n,i){var r,o=i,a=i;if(t&&t.length>0){var s=gc.parseUrl(t);if(r=s.host,!o)if(null!=s.pathname){var c=0===s.pathname.length?"/":s.pathname;"/"!==c.charAt(0)&&(c="/"+c),a=s.pathname,o=uc.sanitizeString(e,n?n+" "+c:c)}else o=uc.sanitizeString(e,t)}else r=i,o=i;return{target:r,name:o,data:a}},e}(),yc=function(){function e(){}return e.Now=function(){var e=mo();return e&&e.now&&e.timing?e.now()+e.timing.navigationStart:(new Date).getTime()},e.GetDuration=function(e,t){var n=null;return 0===e||0===t||ra.isNullOrUndefined(e)||ra.isNullOrUndefined(t)||(n=t-e),n},e}(),bc=function(){function e(){}return e.create=function(e,t,n,i,r,o){if(n=uc.sanitizeString(i,n)||hc.NotSpecified,ra.isNullOrUndefined(e)||ra.isNullOrUndefined(t)||ra.isNullOrUndefined(n))throw Error("Input doesn't contain all required fields");var a={name:n,time:ra.toISOString(new Date),iKey:"",ext:o||{},tags:[],data:{},baseType:t,baseData:e};if(!ra.isNullOrUndefined(r))for(var s in r)r.hasOwnProperty(s)&&(a.data[s]=r[s]);return a},e}(),xc=function(){},wc=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.properties={},t.measurements={},t}return __extends(t,e),t}(xc),Sc=function(e){function t(t,n,i,r){var o=e.call(this)||this;return o.aiDataContract={ver:Ws.Required,name:Ws.Required,properties:Ws.Default,measurements:Ws.Default},o.name=uc.sanitizeString(t,n)||hc.NotSpecified,o.properties=uc.sanitizeProperties(t,i),o.measurements=uc.sanitizeMeasurements(t,r),o}return __extends(t,e),t.envelopeType="Microsoft.ApplicationInsights.{0}.Event",t.dataType="EventData",t}(wc),Ic=function(e){function t(t,n,i,r,o){var a=e.call(this)||this;return a.aiDataContract={ver:Ws.Required,message:Ws.Required,severityLevel:Ws.Default,properties:Ws.Default},n=n||hc.NotSpecified,a.message=uc.sanitizeMessage(t,n),a.properties=uc.sanitizeProperties(t,r),a.measurements=uc.sanitizeMeasurements(t,o),i&&(a.severityLevel=i),a}return __extends(t,e),t.envelopeType="Microsoft.ApplicationInsights.{0}.Message",t.dataType="MessageData",t}(function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.properties={},t.measurements={},t}return __extends(t,e),t}(xc)),Cc=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.metrics=[],t.properties={},t.measurements={},t}return __extends(t,e),t}(xc);!function(e){e[e["Measurement"]=0]="Measurement",e[e["Aggregation"]=1]="Aggregation"}(fc||(fc={}));var Tc=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.aiDataContract={name:Ws.Required,kind:Ws.Default,value:Ws.Required,count:Ws.Default,min:Ws.Default,max:Ws.Default,stdDev:Ws.Default},t}return __extends(t,e),t}((function(){this.kind=fc.Measurement})),kc=function(e){function t(t,n,i,r,o,a,s,c){var u=e.call(this)||this;u.aiDataContract={ver:Ws.Required,metrics:Ws.Required,properties:Ws.Default};var l=new Tc;return l.count=r>0?r:void 0,l.max=isNaN(a)||null===a?void 0:a,l.min=isNaN(o)||null===o?void 0:o,l.name=uc.sanitizeString(t,n)||hc.NotSpecified,l.value=i,u.metrics=[l],u.properties=uc.sanitizeProperties(t,s),u.measurements=uc.sanitizeMeasurements(t,c),u}return __extends(t,e),t.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",t.dataType="MetricData",t}(Cc),_c=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.properties={},t.measurements={},t}return __extends(t,e),t}(wc),Nc=function(e){function t(t,n,i,r,o,a,s){var c=e.call(this)||this;return c.aiDataContract={ver:Ws.Required,name:Ws.Default,url:Ws.Default,duration:Ws.Default,properties:Ws.Default,measurements:Ws.Default,id:Ws.Default},c.id=uc.sanitizeId(t,s),c.url=uc.sanitizeUrl(t,i),c.name=uc.sanitizeString(t,n)||hc.NotSpecified,isNaN(r)||(c.duration=hc.msToTimeSpan(r)),c.properties=uc.sanitizeProperties(t,o),c.measurements=uc.sanitizeMeasurements(t,a),c}return __extends(t,e),t.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",t.dataType="PageviewData",t}(_c),Ec=function(e){function t(t,n,i,r,o,a,s){var c=e.call(this)||this;return c.aiDataContract={ver:Ws.Required,name:Ws.Default,url:Ws.Default,duration:Ws.Default,perfTotal:Ws.Default,networkConnect:Ws.Default,sentRequest:Ws.Default,receivedResponse:Ws.Default,domProcessing:Ws.Default,properties:Ws.Default,measurements:Ws.Default},c.url=uc.sanitizeUrl(t,i),c.name=uc.sanitizeString(t,n)||hc.NotSpecified,c.properties=uc.sanitizeProperties(t,o),c.measurements=uc.sanitizeMeasurements(t,a),s&&(c.domProcessing=s.domProcessing,c.duration=s.duration,c.networkConnect=s.networkConnect,c.perfTotal=s.perfTotal,c.receivedResponse=s.receivedResponse,c.sentRequest=s.sentRequest),c}return __extends(t,e),t.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",t.dataType="PageviewPerformanceData",t}(function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.properties={},t.measurements={},t}return __extends(t,e),t}(_c)),Lc=function(){},Dc=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.exceptions=[],t.properties={},t.measurements={},t}return __extends(t,e),t}(xc),Ac=function(){this.hasFullStack=!0,this.parsedStack=[]},Pc="error";var Rc,Oc=function(e){function t(t,n,i,r,o,a){var s,c=e.call(this)||this;return c.aiDataContract={ver:Ws.Required,exceptions:Ws.Required,severityLevel:Ws.Default,properties:Ws.Default,measurements:Ws.Default},"ver"in(s=n)&&"exceptions"in s&&"properties"in s?(c.exceptions=n.exceptions,c.properties=n.properties,c.measurements=n.measurements,n.severityLevel&&(c.severityLevel=n.severityLevel),n.id&&(c.id=n.id),n.problemGroup&&(c.problemGroup=n.problemGroup),c.ver=2,ra.isNullOrUndefined(n.isManual)||(c.isManual=n.isManual)):(c.exceptions=[new Mc(t,n)],c.properties=uc.sanitizeProperties(t,i)||{},c.measurements=uc.sanitizeMeasurements(t,r),o&&(c.severityLevel=o),a&&(c.id=a)),c}return __extends(t,e),t.CreateFromInterface=function(e,n,i,r){var o=n.exceptions&&ra.arrMap(n.exceptions,(function(t){return Mc.CreateFromInterface(e,t)}));return new t(e,__assign({},n,{exceptions:o}),i,r)},t.prototype.toInterface=function(){var e=this,t=e.exceptions,n=e.properties,i=e.measurements,r=e.severityLevel,o=(e.ver,e.problemGroup),a=e.id,s=e.isManual;return{ver:"4.0",exceptions:t instanceof Array&&ra.arrMap(t,(function(e){return e.toInterface()}))||void 0,severityLevel:r,properties:n,measurements:i,problemGroup:o,id:a,isManual:s}},t.CreateSimpleException=function(e,t,n,i,r,o){return{exceptions:[{hasFullStack:!0,message:e,stack:r,typeName:t}]}},t.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",t.dataType="ExceptionData",t}(Dc),Mc=function(e){function t(n,i){var r,o=e.call(this)||this;if(o.aiDataContract={id:Ws.Default,outerId:Ws.Default,typeName:Ws.Required,message:Ws.Required,hasFullStack:Ws.Default,stack:Ws.Default,parsedStack:Ws.Array},"hasFullStack"in(r=i)&&"typeName"in r)o.typeName=i.typeName,o.message=i.message,o.stack=i.stack,o.parsedStack=i.parsedStack,o.hasFullStack=i.hasFullStack;else{var a=i;hc.isError(a)||(a=a[Pc]||a.evt||a),o.typeName=uc.sanitizeString(n,function(e){var t="";if(e&&!(t=e.typeName||e.name||""))try{var n=/function (.{1,})\(/.exec(e.constructor.toString());t=n&&n.length>1?n[1]:""}catch(e){}return t}(a))||hc.NotSpecified,o.message=uc.sanitizeMessage(n,i.message)||hc.NotSpecified;var s=i.stack;o.parsedStack=t.parseStack(s),o.stack=uc.sanitizeException(n,s),o.hasFullStack=hc.isArray(o.parsedStack)&&o.parsedStack.length>0}return o}return __extends(t,e),t.prototype.toInterface=function(){var e=this.parsedStack instanceof Array&&ra.arrMap(this.parsedStack,(function(e){return e.toInterface()}));return{id:this.id,outerId:this.outerId,typeName:this.typeName,message:this.message,hasFullStack:this.hasFullStack,stack:this.stack,parsedStack:e||void 0}},t.CreateFromInterface=function(e,n){var i=n.parsedStack instanceof Array&&ra.arrMap(n.parsedStack,(function(e){return Uc.CreateFromInterface(e)}))||n.parsedStack;return new t(e,__assign({},n,{parsedStack:i}))},t.parseStack=function(e){var t;if(ra.isString(e)){var n=e.split("\n");t=[];for(var i=0,r=0,o=0;o<=n.length;o++){var a=n[o];if(Uc.regex.test(a)){var s=new Uc(n[o],i++);r+=s.sizeInBytes,t.push(s)}}var c=32*1024;if(r>c)for(var u=0,l=t.length-1,p=0,d=u,f=l;u<l;){if((p+=t[u].sizeInBytes+t[l].sizeInBytes)>c){var h=f-d+1;t.splice(d,h);break}d=u,f=l,u++,l--}}return t},t}(Ac),Uc=function(e){function t(n,i){var r=e.call(this)||this;if(r.sizeInBytes=0,r.aiDataContract={level:Ws.Required,method:Ws.Required,assembly:Ws.Default,fileName:Ws.Default,line:Ws.Default},"string"==typeof n){var o=n;r.level=i,r.method="<no_method>",r.assembly=hc.trim(o),r.fileName="",r.line=0;var a=o.match(t.regex);a&&a.length>=5&&(r.method=hc.trim(a[2])||r.method,r.fileName=hc.trim(a[4]),r.line=parseInt(a[5])||0)}else r.level=n.level,r.method=n.method,r.assembly=n.assembly,r.fileName=n.fileName,r.line=n.line,r.sizeInBytes=0;return r.sizeInBytes+=r.method.length,r.sizeInBytes+=r.fileName.length,r.sizeInBytes+=r.assembly.length,r.sizeInBytes+=t.baseSize,r.sizeInBytes+=r.level.toString().length,r.sizeInBytes+=r.line.toString().length,r}return __extends(t,e),t.CreateFromInterface=function(e){return new t(e,null)},t.prototype.toInterface=function(){return{level:this.level,method:this.method,assembly:this.assembly,fileName:this.fileName,line:this.line}},t.regex=/^([\s]+at)?(.*?)(\@|\s\(|\s)([^\(\@\n]+):([0-9]+):([0-9]+)(\)?)$/,t.baseSize=58,t}(Lc);!function(e){e[e["Verbose"]=0]="Verbose",e[e["Information"]=1]="Information",e[e["Warning"]=2]="Warning",e[e["Error"]=3]="Error",e[e["Critical"]=4]="Critical"}(Rc||(Rc={}));var jc=function(e){function t(t,n,i,r,o,a,s,c,u,l,p,d){void 0===u&&(u="Ajax");var f=e.call(this)||this;f.aiDataContract={id:Ws.Required,ver:Ws.Required,name:Ws.Default,resultCode:Ws.Default,duration:Ws.Default,success:Ws.Default,data:Ws.Default,target:Ws.Default,type:Ws.Default,properties:Ws.Default,measurements:Ws.Default,kind:Ws.Default,value:Ws.Default,count:Ws.Default,min:Ws.Default,max:Ws.Default,stdDev:Ws.Default,dependencyKind:Ws.Default,dependencySource:Ws.Default,commandName:Ws.Default,dependencyTypeName:Ws.Default},f.id=n,f.duration=hc.msToTimeSpan(o),f.success=a,f.resultCode=s+"",f.type=uc.sanitizeString(t,u);var h=mc.ParseDependencyPath(t,i,c,r);return f.data=uc.sanitizeUrl(t,r)||h.data,f.target=uc.sanitizeString(t,h.target),l&&(f.target=f.target+" | "+l),f.name=uc.sanitizeString(t,h.name),f.properties=uc.sanitizeProperties(t,p),f.measurements=uc.sanitizeMeasurements(t,d),f}return __extends(t,e),t.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",t.dataType="RemoteDependencyData",t}(function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.success=!0,t.properties={},t.measurements={},t}return __extends(t,e),t}(xc)),Fc=function e(t,n,i,r){Bo(e,this,(function(e){var o,a=ra.arrForEach,s=ra.isNullOrUndefined,c=null,u=[],l=!1;function p(){i&&a(i.getTransmissionControls(),(function(e){a(e,(function(e){return e.flush(!0)}))}))}i&&(o=i.logger),e.trackPageView=function(e,i){var d=e.name;if(s(d)||"string"!=typeof d){var f=fo();d=e.name=f&&f.title||""}var h=e.uri;if(s(h)||"string"!=typeof h){var g=vo();h=e.uri=g&&g.href||""}if(!r.isPerformanceTimingSupported())return t.sendPageViewInternal(e,i),p(),void o.throwInternal(ia.WARNING,Pa,"trackPageView: navigation timing API used for calculation of page duration is not supported in this browser. This page view will be collected without duration and timing info.");var v,m,y=!1,b=r.getPerformanceTiming().navigationStart;v=yc.GetDuration(b,+new Date),r.shouldCollectDuration(v)||(v=void 0),s(i)||s(i.duration)||(m=i.duration),!n&&isNaN(m)||(isNaN(m)&&(i||(i={}),i["duration"]=v),t.sendPageViewInternal(e,i),p(),y=!0);var x,w=6e4;i||(i={}),x=function(){var n=!1;try{if(r.isPerformanceTimingDataReady()){n=!0;var a={name:d,uri:h};r.populatePageViewPerformanceEvent(a),a.isValid||y?(y||(i["duration"]=a.durationMs,t.sendPageViewInternal(e,i)),l||(t.sendPageViewPerformanceInternal(a,i),l=!0)):(i["duration"]=v,t.sendPageViewInternal(e,i))}else yc.GetDuration(b,+new Date)>w&&(n=!0,y||(i["duration"]=w,t.sendPageViewInternal(e,i)))}catch(e){o.throwInternal(ia.CRITICAL,Wa,"trackPageView failed on page load calculation: "+hc.getExceptionName(e),{exception:hc.dump(e)})}return n},u.push(x),c||(c=setInterval((function(){var e=u.slice(0),t=!1;u=[],a(e,(function(e){e()?t=!0:u.push(e)})),0===u.length&&(clearInterval(c),c=null),t&&p()}),100))}}))},Bc=function(){function e(e,t){this.prevPageVisitDataKeyName="prevPageVisitData",this.pageVisitTimeTrackingHandler=t,this._logger=e}return e.prototype.trackPreviousPageVisit=function(e,t){try{var n=this.restartPageVisitTimer(e,t);n&&this.pageVisitTimeTrackingHandler(n.pageName,n.pageUrl,n.pageVisitTime)}catch(e){this._logger.warnToConsole("Auto track page visit time failed, metric will not be collected: "+hc.dump(e))}},e.prototype.restartPageVisitTimer=function(e,t){try{var n=this.stopPageVisitTimer();return this.startPageVisitTimer(e,t),n}catch(e){return this._logger.warnToConsole("Call to restart failed: "+hc.dump(e)),null}},e.prototype.startPageVisitTimer=function(e,t){try{if(hc.canUseSessionStorage()){if(null!=hc.getSessionStorage(this._logger,this.prevPageVisitDataKeyName))throw new Error("Cannot call startPageVisit consecutively without first calling stopPageVisit");var n=new qc(e,t),i=bo().stringify(n);hc.setSessionStorage(this._logger,this.prevPageVisitDataKeyName,i)}}catch(e){this._logger.warnToConsole("Call to start failed: "+hc.dump(e))}},e.prototype.stopPageVisitTimer=function(){try{if(hc.canUseSessionStorage()){var e=Date.now(),t=hc.getSessionStorage(this._logger,this.prevPageVisitDataKeyName);if(t&&yo()){var n=bo().parse(t);return n.pageVisitTime=e-n.pageVisitStartTime,hc.removeSessionStorage(this._logger,this.prevPageVisitDataKeyName),n}return null}return null}catch(e){return this._logger.warnToConsole("Stop page visit timer failed: "+hc.dump(e)),null}},e}(),qc=function(e,t){this.pageVisitStartTime=Date.now(),this.pageName=e,this.pageUrl=t},zc=function(){function e(e){this.MAX_DURATION_ALLOWED=36e5,e&&(this._logger=e.logger)}return e.prototype.populatePageViewPerformanceEvent=function(e){e.isValid=!1;var t=this.getPerformanceNavigationTiming(),n=this.getPerformanceTiming();if(t||n){if(t)var i=t.duration,r=yc.GetDuration(t.startTime,t.connectEnd),o=yc.GetDuration(t.requestStart,t.responseStart),a=yc.GetDuration(t.responseStart,t.responseEnd),s=yc.GetDuration(t.responseEnd,t.loadEventEnd);else i=yc.GetDuration(n.navigationStart,n.loadEventEnd),r=yc.GetDuration(n.navigationStart,n.connectEnd),o=yc.GetDuration(n.requestStart,n.responseStart),a=yc.GetDuration(n.responseStart,n.responseEnd),s=yc.GetDuration(n.responseEnd,n.loadEventEnd);0===i?this._logger.throwInternal(ia.WARNING,ba,"error calculating page view performance.",{total:i,network:r,request:o,response:a,dom:s}):this.shouldCollectDuration(i,r,o,a,s)?i<Math.floor(r)+Math.floor(o)+Math.floor(a)+Math.floor(s)?this._logger.throwInternal(ia.WARNING,ma,"client performance math error.",{total:i,network:r,request:o,response:a,dom:s}):(e.durationMs=i,e.perfTotal=e.duration=hc.msToTimeSpan(i),e.networkConnect=hc.msToTimeSpan(r),e.sentRequest=hc.msToTimeSpan(o),e.receivedResponse=hc.msToTimeSpan(a),e.domProcessing=hc.msToTimeSpan(s),e.isValid=!0):this._logger.throwInternal(ia.WARNING,Ja,"Invalid page load duration value. Browser perf data won't be sent.",{total:i,network:r,request:o,response:a,dom:s})}},e.prototype.getPerformanceTiming=function(){return this.isPerformanceTimingSupported()?mo().timing:null},e.prototype.getPerformanceNavigationTiming=function(){return this.isPerformanceNavigationTimingSupported()?mo().getEntriesByType("navigation")[0]:null},e.prototype.isPerformanceNavigationTimingSupported=function(){var e=mo();return e&&e.getEntriesByType&&e.getEntriesByType("navigation").length>0},e.prototype.isPerformanceTimingSupported=function(){var e=mo();return e&&e.timing},e.prototype.isPerformanceTimingDataReady=function(){var e=mo(),t=e?e.timing:0;return t&&t.domainLookupStart>0&&t.navigationStart>0&&t.responseStart>0&&t.requestStart>0&&t.loadEventEnd>0&&t.responseEnd>0&&t.connectEnd>0&&t.domLoading>0},e.prototype.shouldCollectDuration=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=ho()||{},i=["googlebot","adsbot-google","apis-google","mediapartners-google"],r=n.userAgent,o=!1;if(r)for(var a=0;a<i.length;a++)o=o||-1!==r.toLowerCase().indexOf(i[a]);if(o)return!1;for(a=0;a<e.length;a++)if(e[a]>=this.MAX_DURATION_ALLOWED)return!1;return!0},e}(),Vc="duration";function Hc(e,t){e&&e.dispatchEvent&&t&&e.dispatchEvent(t)}var Wc=function(e){function t(){var t=e.call(this)||this;t.identifier=sc,t.priority=180,t.autoRoutePVDelay=500,t._trackAjaxAttempts=0;var n=vo();return t._prevUri=n&&n.href||"",t}return __extends(t,e),t.getDefaultConfig=function(e){return e||(e={}),e.sessionRenewalMs=30*60*1e3,e.sessionExpirationMs=24*60*60*1e3,e.disableExceptionTracking=hc.stringToBoolOrDefault(e.disableExceptionTracking),e.autoTrackPageVisitTime=hc.stringToBoolOrDefault(e.autoTrackPageVisitTime),e.overridePageViewDuration=hc.stringToBoolOrDefault(e.overridePageViewDuration),e.enableUnhandledPromiseRejectionTracking=hc.stringToBoolOrDefault(e.enableUnhandledPromiseRejectionTracking),(isNaN(e.samplingPercentage)||e.samplingPercentage<=0||e.samplingPercentage>=100)&&(e.samplingPercentage=100),e.isCookieUseDisabled=hc.stringToBoolOrDefault(e.isCookieUseDisabled),e.isStorageUseDisabled=hc.stringToBoolOrDefault(e.isStorageUseDisabled),e.isBrowserLinkTrackingEnabled=hc.stringToBoolOrDefault(e.isBrowserLinkTrackingEnabled),e.enableAutoRouteTracking=hc.stringToBoolOrDefault(e.enableAutoRouteTracking),e.namePrefix=e.namePrefix||"",e},t.prototype.processTelemetry=function(e,t){var n=this;ca(this.core,(function(){return n.identifier+":processTelemetry"}),(function(){var i=!1,r=n._telemetryInitializers.length;t=n._getTelCtx(t);for(var o=0;o<r;++o){var a=n._telemetryInitializers[o];if(a)try{if(!1===a.apply(null,[e])){i=!0;break}}catch(e){t.diagLog().throwInternal(ia.CRITICAL,fs,"One of telemetry initializers failed, telemetry item will not be sent: "+hc.getExceptionName(e),{exception:hc.dump(e)},!0)}}i||n.processNext(e,t)}),(function(){return{item:e}}),!e.sync)},t.prototype.trackEvent=function(e,t){try{var n=bc.create(e,Sc.dataType,Sc.envelopeType,this.diagLog(),t);this.core.track(n)}catch(e){this.diagLog().throwInternal(ia.WARNING,Ga,"trackTrace failed, trace will not be collected: "+hc.getExceptionName(e),{exception:hc.dump(e)})}},t.prototype.startTrackEvent=function(e){try{this._eventTracking.start(e)}catch(e){this.diagLog().throwInternal(ia.CRITICAL,Ua,"startTrackEvent failed, event will not be collected: "+hc.getExceptionName(e),{exception:hc.dump(e)})}},t.prototype.stopTrackEvent=function(e,t,n){try{this._eventTracking.stop(e,void 0,t)}catch(e){this.diagLog().throwInternal(ia.CRITICAL,ja,"stopTrackEvent failed, event will not be collected: "+hc.getExceptionName(e),{exception:hc.dump(e)})}},t.prototype.trackTrace=function(e,t){try{var n=bc.create(e,Ic.dataType,Ic.envelopeType,this.diagLog(),t);this.core.track(n)}catch(e){this.diagLog().throwInternal(ia.WARNING,Ga,"trackTrace failed, trace will not be collected: "+hc.getExceptionName(e),{exception:hc.dump(e)})}},t.prototype.trackMetric=function(e,t){try{var n=bc.create(e,kc.dataType,kc.envelopeType,this.diagLog(),t);this.core.track(n)}catch(e){this.diagLog().throwInternal(ia.CRITICAL,Va,"trackMetric failed, metric will not be collected: "+hc.getExceptionName(e),{exception:hc.dump(e)})}},t.prototype.trackPageView=function(e,t){try{var n=e||{};this._pageViewManager.trackPageView(n,__assign({},n.properties,n.measurements,t)),this.config.autoTrackPageVisitTime&&this._pageVisitTimeManager.trackPreviousPageVisit(n.name,n.uri)}catch(e){this.diagLog().throwInternal(ia.CRITICAL,Ha,"trackPageView failed, page view will not be collected: "+hc.getExceptionName(e),{exception:hc.dump(e)})}},t.prototype.sendPageViewInternal=function(e,t,n){var i=fo();i&&(e.refUri=void 0===e.refUri?i.referrer:e.refUri);var r=bc.create(e,Nc.dataType,Nc.envelopeType,this.diagLog(),t,n);this.core.track(r),this._trackAjaxAttempts=0},t.prototype.sendPageViewPerformanceInternal=function(e,t,n){var i=bc.create(e,Ec.dataType,Ec.envelopeType,this.diagLog(),t,n);this.core.track(i)},t.prototype.trackPageViewPerformance=function(e,t){try{this._pageViewPerformanceManager.populatePageViewPerformanceEvent(e),this.sendPageViewPerformanceInternal(e,t)}catch(e){this.diagLog().throwInternal(ia.CRITICAL,Ha,"trackPageViewPerformance failed, page view will not be collected: "+hc.getExceptionName(e),{exception:hc.dump(e)})}},t.prototype.startTrackPage=function(e){try{if("string"!=typeof e){var t=fo();e=t&&t.title||""}this._pageTracking.start(e)}catch(e){this.diagLog().throwInternal(ia.CRITICAL,Fa,"startTrackPage failed, page view may not be collected: "+hc.getExceptionName(e),{exception:hc.dump(e)})}},t.prototype.stopTrackPage=function(e,t,n,i){try{if("string"!=typeof e){var r=fo();e=r&&r.title||""}if("string"!=typeof t){var o=vo();t=o&&o.href||""}this._pageTracking.stop(e,t,n,i),this.config.autoTrackPageVisitTime&&this._pageVisitTimeManager.trackPreviousPageVisit(e,t)}catch(e){this.diagLog().throwInternal(ia.CRITICAL,Ba,"stopTrackPage failed, page view will not be collected: "+hc.getExceptionName(e),{exception:hc.dump(e)})}},t.prototype.sendExceptionInternal=function(e,t,n){var i=new Oc(this.diagLog(),e.exception||new Error(hc.NotSpecified),e.properties,e.measurements,e.severityLevel,e.id).toInterface(),r=bc.create(i,Oc.dataType,Oc.envelopeType,this.diagLog(),t,n);this.core.track(r)},t.prototype.trackException=function(e,t){try{this.sendExceptionInternal(e,t)}catch(e){this.diagLog().throwInternal(ia.CRITICAL,za,"trackException failed, exception will not be collected: "+hc.getExceptionName(e),{exception:hc.dump(e)})}},t.prototype._onerror=function(e){try{var t={url:e&&e.url||(fo()||{}).URL,lineNumber:e.lineNumber,columnNumber:e.columnNumber,message:e.message};if(hc.isCrossOriginError(e.message,e.url,e.lineNumber,e.columnNumber,e.error))this._sendCORSException(t.url);else{if(!hc.isError(e.error)){var n="window.onerror@"+t.url+":"+e.lineNumber+":"+(e.columnNumber||0);e.error=new Error(e.message),e.error.stack=n}this.trackException({exception:e.error,severityLevel:Rc.Error},t)}}catch(t){var i=e.error?e.error.name+", "+e.error.message:"null";this.diagLog().throwInternal(ia.CRITICAL,xa,"_onError threw exception while logging error, error will not be collected: "+hc.getExceptionName(t),{exception:hc.dump(t),errorString:i})}},t.prototype.addTelemetryInitializer=function(e){this._telemetryInitializers.push(e)},t.prototype.initialize=function(n,i,r,o){var a=this;if(!this.isInitialized()){if(ra.isNullOrUndefined(i))throw Error("Error initializing");e.prototype.initialize.call(this,n,i,r,o),this.setInitialized(!1);var s=this._getTelCtx(),c=this.identifier;this._globalconfig={instrumentationKey:n.instrumentationKey,endpointUrl:n.endpointUrl||"https://dc.services.visualstudio.com/v2/track"},this.config=s.getExtCfg(c);var u=t.getDefaultConfig();if(void 0!==u){for(var l in u)this.config[l]=s.getConfig(c,l,u[l]);if(this._globalconfig)for(var l in u)void 0===this._globalconfig[l]&&(this._globalconfig[l]=u[l])}this.config.isCookieUseDisabled&&hc.disableCookies(),this.config.isStorageUseDisabled&&hc.disableStorage();var p={instrumentationKey:function(){return n.instrumentationKey},accountId:function(){return a.config.accountId||n.accountId},sessionRenewalMs:function(){return a.config.sessionRenewalMs||n.sessionRenewalMs},sessionExpirationMs:function(){return a.config.sessionExpirationMs||n.sessionExpirationMs},sampleRate:function(){return a.config.samplingPercentage||n.samplingPercentage},cookieDomain:function(){return a.config.cookieDomain||n.cookieDomain},sdkExtension:function(){return a.config.sdkExtension||n.sdkExtension},isBrowserLinkTrackingEnabled:function(){return a.config.isBrowserLinkTrackingEnabled||n.isBrowserLinkTrackingEnabled},appId:function(){return a.config.appId||n.appId}};this._pageViewPerformanceManager=new zc(this.core),this._pageViewManager=new Fc(this,this.config.overridePageViewDuration,this.core,this._pageViewPerformanceManager),this._pageVisitTimeManager=new Bc(this.diagLog(),(function(e,t,n){return a.trackPageVisitTime(e,t,n)})),this._telemetryInitializers=this._telemetryInitializers||[],this._addDefaultTelemetryInitializers(p),this._eventTracking=new Gc(this.diagLog(),"trackEvent"),this._eventTracking.action=function(e,t,n,i){i||(i={}),i[Vc]=n.toString(),a.trackEvent({name:e,properties:i})},this._pageTracking=new Gc(this.diagLog(),"trackPageView"),this._pageTracking.action=function(e,t,n,i,r){ra.isNullOrUndefined(i)&&(i={}),i[Vc]=n.toString();var o={name:e,uri:t,properties:i,measurements:r};a.sendPageViewInternal(o,i)};var d,f=lo(),h=go(),g=vo(),v=this;if(!1===this.config.disableExceptionTracking&&!this.config.autoExceptionInstrumented&&f){var m=f["onerror"];f.onerror=function(e,t,n,i,r){var o=m&&m(e,t,n,i,r);return!0!==o&&v._onerror({message:e,url:t,lineNumber:n,columnNumber:i,error:r}),o},this.config.autoExceptionInstrumented=!0}if(!1===this.config.disableExceptionTracking&&!0===this.config.enableUnhandledPromiseRejectionTracking&&!this.config.autoUnhandledPromiseInstrumented&&f){var y="onunhandledrejection",b=f[y];f[y]=function(e){var t=b&&b.call(f,e);return!0!==t&&v._onerror({message:e.reason.toString(),error:e.reason instanceof Error?e.reason:new Error(e.reason.toString()),url:g?g.href:"",lineNumber:0,columnNumber:0}),t},this.config.autoUnhandledPromiseInstrumented=!0}if(!0===this.config.enableAutoRouteTracking&&h&&ra.isFunction(h.pushState)&&ra.isFunction(h.replaceState)&&f&&"undefined"!=typeof Event){var x=this;ra.arrForEach(r,(function(e){e.identifier===oc&&(a._properties=e)})),h.pushState=(d=h.pushState,function(){var e=d.apply(this,arguments);return Hc(f,hc.createDomEvent(x.config.namePrefix+"pushState")),Hc(f,hc.createDomEvent(x.config.namePrefix+"locationchange")),e}),h.replaceState=function(e){return function(){var t=e.apply(this,arguments);return Hc(f,hc.createDomEvent(x.config.namePrefix+"replaceState")),Hc(f,hc.createDomEvent(x.config.namePrefix+"locationchange")),t}}(h.replaceState),f.addEventListener&&(f.addEventListener(x.config.namePrefix+"popstate",(function(){Hc(f,hc.createDomEvent(x.config.namePrefix+"locationchange"))})),f.addEventListener(x.config.namePrefix+"locationchange",(function(){x._properties&&x._properties.context&&x._properties.context.telemetryTrace&&(x._properties.context.telemetryTrace.traceID=hc.generateW3CId(),x._properties.context.telemetryTrace.name=g&&g.pathname||"_unknown_"),a._currUri?(a._prevUri=a._currUri,a._currUri=g&&g.href||""):a._currUri=g&&g.href||"",setTimeout(function(e){x.trackPageView({refUri:e,properties:{duration:0}})}.bind(a,a._prevUri),x.autoRoutePVDelay)})))}this.setInitialized(!0)}},t.prototype.trackPageVisitTime=function(e,t,n){var i={PageName:e,PageUrl:t};this.trackMetric({name:"PageVisitTime",average:n,max:n,min:n,sampleCount:1},i)},t.prototype._addDefaultTelemetryInitializers=function(e){if(!e.isBrowserLinkTrackingEnabled()){var t=["/browserLinkSignalR/","/__browserLink/"];this._addTelemetryInitializer((function(e){if(e.baseType===jc.dataType){var n=e.baseData;if(n)for(var i=0;i<t.length;i++)if(n.target&&n.target.indexOf(t[i])>=0)return!1}return!0}))}},t.prototype._addTelemetryInitializer=function(e){this._telemetryInitializers.push(e)},t.prototype._sendCORSException=function(e){var t={message:"Script error: The browser's same-origin policy prevents us from getting the details of this exception. Consider using the 'crossorigin' attribute.",url:e,lineNumber:0,columnNumber:0,error:void 0},n=bc.create(t,Oc.dataType,Oc.envelopeType,this.diagLog(),{url:e});this.core.track(n)},t.Version="2.5.7",t}(Ms),Gc=function(){function e(e,t){this._name=t,this._events={},this._logger=e}return e.prototype.start=function(e){void 0!==this._events[e]&&this._logger.throwInternal(ia.WARNING,ps,"start was called more than once for this event without calling stop.",{name:this._name,key:e},!0),this._events[e]=+new Date},e.prototype.stop=function(e,t,n,i){var r=this._events[e];if(isNaN(r))this._logger.throwInternal(ia.WARNING,ds,"stop was called without a corresponding start.",{name:this._name,key:e},!0);else{var o=+new Date,a=yc.GetDuration(r,o);this.action(e,t,a,n,i)}delete this._events[e],this._events[e]=void 0},e}(),Kc=function e(t){var n=[];Bo(e,this,(function(e){e.enqueue=function(e){n.push(e)},e.count=function(){return n.length},e.clear=function(){n.length=0},e.getItems=function(){return n.slice(0)},e.batchPayloads=function(e){return e&&e.length>0?t.emitLineDelimitedJson()?e.join("\n"):"["+e.join(",")+"]":null},e.markAsSent=function(t){e.clear()},e.clearSent=function(e){}}))},Xc=function(){function e(t,n){var i,r=!1;Bo(e,this,(function(o){var a=u(e.BUFFER_KEY),s=u(e.SENT_BUFFER_KEY);function c(e,t){var n=[];return ra.arrForEach(t,(function(t){ra.isFunction(t)||-1!==ra.arrIndexOf(e,t)||n.push(t)})),n}function u(e){var i=e;try{i=n.namePrefix&&n.namePrefix()?n.namePrefix()+"_"+i:i;var r=hc.getSessionStorage(t,i);if(r){var o=bo().parse(r);if(ra.isString(o)&&(o=bo().parse(o)),o&&hc.isArray(o))return o}}catch(e){t.throwInternal(ia.CRITICAL,$a," storage key: "+i+", "+hc.getExceptionName(e),{exception:hc.dump(e)})}return[]}function l(e,i){var r=e;try{r=n.namePrefix&&n.namePrefix()?n.namePrefix()+"_"+r:r;var o=JSON.stringify(i);hc.setSessionStorage(t,r,o)}catch(e){hc.setSessionStorage(t,r,JSON.stringify([])),t.throwInternal(ia.WARNING,Xa," storage key: "+r+", "+hc.getExceptionName(e)+". Buffer cleared",{exception:hc.dump(e)})}}(i=a.concat(s)).length>e.MAX_BUFFER_SIZE&&(i.length=e.MAX_BUFFER_SIZE),l(e.SENT_BUFFER_KEY,[]),l(e.BUFFER_KEY,i),o.enqueue=function(n){i.length>=e.MAX_BUFFER_SIZE?r||(t.throwInternal(ia.WARNING,gs,"Maximum buffer size reached: "+i.length,!0),r=!0):(i.push(n),l(e.BUFFER_KEY,i))},o.count=function(){return i.length},o.clear=function(){i=[],l(e.BUFFER_KEY,[]),l(e.SENT_BUFFER_KEY,[]),r=!1},o.getItems=function(){return i.slice(0)},o.batchPayloads=function(e){return e&&e.length>0?n.emitLineDelimitedJson()?e.join("\n"):"["+e.join(",")+"]":null},o.markAsSent=function(n){i=c(n,i),l(e.BUFFER_KEY,i);var r=u(e.SENT_BUFFER_KEY);r instanceof Array&&n instanceof Array&&((r=r.concat(n)).length>e.MAX_BUFFER_SIZE&&(t.throwInternal(ia.CRITICAL,gs,"Sent buffer reached its maximum size: "+r.length,!0),r.length=e.MAX_BUFFER_SIZE),l(e.SENT_BUFFER_KEY,r))},o.clearSent=function(t){var n=u(e.SENT_BUFFER_KEY);n=c(t,n),l(e.SENT_BUFFER_KEY,n)}}))}return e.BUFFER_KEY="AI_buffer",e.SENT_BUFFER_KEY="AI_sentBuffer",e.MAX_BUFFER_SIZE=2e3,e}(),$c=function(e){function t(t,n,i){var r=e.call(this)||this;return r.name=uc.sanitizeString(t,i)||hc.NotSpecified,r.data=n,r.time=ra.toISOString(new Date),r.aiDataContract={time:Ws.Required,iKey:Ws.Required,name:Ws.Required,sampleRate:function(){return 100===r.sampleRate?Ws.Hidden:Ws.Required},tags:Ws.Required,data:Ws.Required},r}return __extends(t,e),t}((function(){this.ver=1,this.sampleRate=100,this.tags={}})),Yc="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",Jc="sampleRate",Zc="ProcessLegacy",Qc="http.method",eu="https://dc.services.visualstudio.com",tu=function(){this.applicationVersion="ai.application.ver",this.applicationBuild="ai.application.build",this.applicationTypeId="ai.application.typeId",this.applicationId="ai.application.applicationId",this.applicationLayer="ai.application.layer",this.deviceId="ai.device.id",this.deviceIp="ai.device.ip",this.deviceLanguage="ai.device.language",this.deviceLocale="ai.device.locale",this.deviceModel="ai.device.model",this.deviceFriendlyName="ai.device.friendlyName",this.deviceNetwork="ai.device.network",this.deviceNetworkName="ai.device.networkName",this.deviceOEMName="ai.device.oemName",this.deviceOS="ai.device.os",this.deviceOSVersion="ai.device.osVersion",this.deviceRoleInstance="ai.device.roleInstance",this.deviceRoleName="ai.device.roleName",this.deviceScreenResolution="ai.device.screenResolution",this.deviceType="ai.device.type",this.deviceMachineName="ai.device.machineName",this.deviceVMName="ai.device.vmName",this.deviceBrowser="ai.device.browser",this.deviceBrowserVersion="ai.device.browserVersion",this.locationIp="ai.location.ip",this.locationCountry="ai.location.country",this.locationProvince="ai.location.province",this.locationCity="ai.location.city",this.operationId="ai.operation.id",this.operationName="ai.operation.name",this.operationParentId="ai.operation.parentId",this.operationRootId="ai.operation.rootId",this.operationSyntheticSource="ai.operation.syntheticSource",this.operationCorrelationVector="ai.operation.correlationVector",this.sessionId="ai.session.id",this.sessionIsFirst="ai.session.isFirst",this.sessionIsNew="ai.session.isNew",this.userAccountAcquisitionDate="ai.user.accountAcquisitionDate",this.userAccountId="ai.user.accountId",this.userAgent="ai.user.userAgent",this.userId="ai.user.id",this.userStoreRegion="ai.user.storeRegion",this.userAuthUserId="ai.user.authUserId",this.userAnonymousUserAcquisitionDate="ai.user.anonUserAcquisitionDate",this.userAuthenticatedUserAcquisitionDate="ai.user.authUserAcquisitionDate",this.cloudName="ai.cloud.name",this.cloudRole="ai.cloud.role",this.cloudRoleVer="ai.cloud.roleVer",this.cloudRoleInstance="ai.cloud.roleInstance",this.cloudEnvironment="ai.cloud.environment",this.cloudLocation="ai.cloud.location",this.cloudDeploymentUnit="ai.cloud.deploymentUnit",this.internalNodeName="ai.internal.nodeName",this.internalSdkVersion="ai.internal.sdkVersion",this.internalAgentVersion="ai.internal.agentVersion",this.internalSnippet="ai.internal.snippet",this.internalSdkSrc="ai.internal.sdkSrc"},nu=function(){function e(){}return e.UserExt="user",e.DeviceExt="device",e.TraceExt="trace",e.WebExt="web",e.AppExt="app",e.OSExt="os",e.SessionExt="ses",e.SDKExt="sdk",e}(),iu=new tu,ru=function(e){function t(t,n){var i=e.call(this)||this;return i.aiDataContract={baseType:Ws.Required,baseData:Ws.Required},i.baseType=t,i.baseData=n,i}return __extends(t,e),t}(function(e){function t(){return e.call(this)||this}return __extends(t,e),t}((function(){}))),ou="baseType",au="baseData",su="properties",cu="true",uu=ra.arrForEach,lu=ra.objKeys,pu=ra.isNullOrUndefined;function du(e,t,n){return e&&n?(e[t]=n,e[t]):null}var fu=function(){function e(){}return e.extractPropsAndMeasurements=function(e,t,n){pu(e)||uu(lu(e),(function(i){var r=e[i];ra.isNumber(r)?n[i]=r:ra.isString(r)?t[i]=r:yo()&&(t[i]=bo().stringify(r))}))},e.createEnvelope=function(t,n,i,r){var o=new $c(t,r,n);du(o,"sampleRate",i[Jc]),(i[au]||{}).startTime&&(o.time=ra.toISOString(i[au].startTime)),o.iKey=i.iKey;var a=i.iKey.replace(/-/g,"");return o.name=o.name.replace("{0}",a),e.extractPartAExtensions(i,o),i.tags=i.tags||[],o},e.extractPartAExtensions=function(t,n){var i=n.tags=n.tags||{},r=t.ext=t.ext||{},o=t.tags=t.tags||[],a=r.user;a&&(du(i,iu.userAuthUserId,a.authId),du(i,iu.userId,a.id||a.localId));var s=r.app;s&&du(i,iu.sessionId,s.sesId);var c=r.device;c&&(du(i,iu.deviceId,c.id||c.localId),du(i,iu.deviceType,c.deviceClass),du(i,iu.deviceIp,c.ip),du(i,iu.deviceModel,c.model),du(i,iu.deviceType,c.deviceType));var u=t.ext.web;if(u){du(i,iu.deviceLanguage,u.browserLang),du(i,iu.deviceBrowserVersion,u.browserVer),du(i,iu.deviceBrowser,u.browser);var l=n.data=n.data||{},p=l[au]=l[au]||{},d=p[su]=p[su]||{};du(d,"domain",u.domain),du(d,"isManual",u.isManual?cu:null),du(d,"screenRes",u.screenRes),du(d,"userConsent",u.userConsent?cu:null)}var f=r.os;f&&du(i,iu.deviceOS,f.name);var h=r.trace;h&&(du(i,iu.operationParentId,h.parentID),du(i,iu.operationName,h.name),du(i,iu.operationId,h.traceID));for(var g={},v=function(e){var t=o[e];uu(lu(t),(function(e){g[e]=t[e]})),o.splice(e,1)},m=o.length-1;m>=0;m--)v(m);uu(lu(o),(function(e){g[e]=o[e]})),n.tags=__assign({},i,g),n.tags[iu.internalSdkVersion]||(n.tags[iu.internalSdkVersion]="javascript:"+e.Version)},e.prototype.Init=function(e,t){this._logger=e,pu(t[au])&&this._logger.throwInternal(ia.CRITICAL,Za,"telemetryItem.baseData cannot be null.")},e.Version="2.5.7",e}(),hu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.Create=function(t,n){e.prototype.Init.call(this,t,n);var i=n[au].measurements||{},r=n[au][su]||{};fu.extractPropsAndMeasurements(n.data,r,i);var o=n[au];if(pu(o))return t.warnToConsole("Invalid input for dependency data"),null;var a=o[su]&&o[su][Qc]?o[su][Qc]:"GET",s=new jc(t,o.id,o.target,o.name,o.duration,o.success,o.responseCode,a,o.type,o.correlationContext,r,i),c=new ru(jc.dataType,s);return fu.createEnvelope(t,jc.envelopeType,n,c)},t.DependencyEnvelopeCreator=new t,t}(fu),gu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.Create=function(t,n){e.prototype.Init.call(this,t,n);var i={},r={};n[ou]!==Sc.dataType&&(i["baseTypeSource"]=n[ou]),n[ou]===Sc.dataType?(i=n[au][su]||{},r=n[au].measurements||{}):n[au]&&fu.extractPropsAndMeasurements(n[au],i,r),fu.extractPropsAndMeasurements(n.data,i,r);var o=n[au].name,a=new Sc(t,o,i,r),s=new ru(Sc.dataType,a);return fu.createEnvelope(t,Sc.envelopeType,n,s)},t.EventEnvelopeCreator=new t,t}(fu),vu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.Create=function(t,n){e.prototype.Init.call(this,t,n);var i=n[au].measurements||{},r=n[au][su]||{};fu.extractPropsAndMeasurements(n.data,r,i);var o=n[au],a=Oc.CreateFromInterface(t,o,r,i),s=new ru(Oc.dataType,a);return fu.createEnvelope(t,Oc.envelopeType,n,s)},t.ExceptionEnvelopeCreator=new t,t}(fu),mu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.Create=function(t,n){e.prototype.Init.call(this,t,n);var i=n[au],r=i[su]||{},o=i.measurements||{};fu.extractPropsAndMeasurements(n.data,r,o);var a=new kc(t,i.name,i.average,i.sampleCount,i.min,i.max,r,o),s=new ru(kc.dataType,a);return fu.createEnvelope(t,kc.envelopeType,n,s)},t.MetricEnvelopeCreator=new t,t}(fu),yu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.Create=function(t,n){e.prototype.Init.call(this,t,n);var i,r="duration",o=n[au];pu(o)||pu(o[su])||pu(o[su][r])?pu(n.data)||pu(n.data[r])||(i=n.data[r],delete n.data[r]):(i=o[su][r],delete o[su][r]);var a,s=n[au];((n.ext||{}).trace||{}).traceID&&(a=n.ext.trace.traceID);var c=s.id||a,u=s.name,l=s.uri,p=s[su]||{},d=s.measurements||{};if(pu(s.refUri)||(p["refUri"]=s.refUri),pu(s.pageType)||(p["pageType"]=s.pageType),pu(s.isLoggedIn)||(p["isLoggedIn"]=s.isLoggedIn.toString()),!pu(s[su])){var f=s[su];uu(lu(f),(function(e){p[e]=f[e]}))}fu.extractPropsAndMeasurements(n.data,p,d);var h=new Nc(t,u,l,i,p,d,c),g=new ru(Nc.dataType,h);return fu.createEnvelope(t,Nc.envelopeType,n,g)},t.PageViewEnvelopeCreator=new t,t}(fu),bu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.Create=function(t,n){e.prototype.Init.call(this,t,n);var i=n[au],r=i.name,o=i.uri||i.url,a=i[su]||{},s=i.measurements||{};fu.extractPropsAndMeasurements(n.data,a,s);var c=new Ec(t,r,o,void 0,a,s,i),u=new ru(Ec.dataType,c);return fu.createEnvelope(t,Ec.envelopeType,n,u)},t.PageViewPerformanceEnvelopeCreator=new t,t}(fu),xu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.Create=function(t,n){e.prototype.Init.call(this,t,n);var i=n[au].message,r=n[au].severityLevel,o=n[au][su]||{},a=n[au].measurements||{};fu.extractPropsAndMeasurements(n.data,o,a);var s=new Ic(t,i,r,o,a),c=new ru(Ic.dataType,s);return fu.createEnvelope(t,Ic.envelopeType,n,c)},t.TraceEnvelopeCreator=new t,t}(fu),wu=function e(t){Bo(e,this,(function(e){function n(e,o){var a="__aiCircularRefCheck",s={};if(!e)return t.throwInternal(ia.CRITICAL,es,"cannot serialize object because it is null or undefined",{name:o},!0),s;if(e[a])return t.throwInternal(ia.WARNING,ns,"Circular reference detected while serializing object",{name:o},!0),s;if(!e.aiDataContract){if("measurements"===o)s=r(e,"number",o);else if("properties"===o)s=r(e,"string",o);else if("tags"===o)s=r(e,"string",o);else if(hc.isArray(e))s=i(e,o);else{t.throwInternal(ia.WARNING,ts,"Attempting to serialize an object which does not implement ISerializable",{name:o},!0);try{bo().stringify(e),s=e}catch(e){t.throwInternal(ia.CRITICAL,es,e&&ra.isFunction(e.toString)?e.toString():"Error serializing object",null,!0)}}return s}for(var c in e[a]=!0,e.aiDataContract){var u=e.aiDataContract[c],l=ra.isFunction(u)?u()&Ws.Required:u&Ws.Required,p=ra.isFunction(u)?u()&Ws.Hidden:u&Ws.Hidden,d=u&Ws.Array,f=void 0!==e[c],h=ra.isObject(e[c])&&null!==e[c];if(!l||f||d){if(!p){var g=void 0;void 0!==(g=h?d?i(e[c],c):n(e[c],c):e[c])&&(s[c]=g)}}else t.throwInternal(ia.CRITICAL,Aa,"Missing required field specification. The field is required but not present on source",{field:c,name:o})}return delete e[a],s}function i(e,i){var r;if(e)if(hc.isArray(e)){r=[];for(var o=0;o<e.length;o++){var a=n(e[o],i+"["+o+"]");r.push(a)}}else t.throwInternal(ia.CRITICAL,rs,"This field was specified as an array in the contract but the item is not an array.\r\n",{name:i},!0);return r}function r(e,n,i){var r;if(e)for(var o in r={},e){var a=e[o];if("string"===n)void 0===a?r[o]="undefined":null===a?r[o]="null":a.toString?r[o]=a.toString():r[o]="invalid field: toString() is not defined.";else if("number"===n)if(void 0===a)r[o]="undefined";else if(null===a)r[o]="null";else{var s=parseFloat(a);isNaN(s)?r[o]="NaN":r[o]=s}else r[o]="invalid field: "+i+" is of unknown type.",t.throwInternal(ia.CRITICAL,r[o],null,!0)}return r}e.serialize=function(e){var i=n(e,"root");try{return bo().stringify(i)}catch(e){t.throwInternal(ia.CRITICAL,es,e&&ra.isFunction(e.toString)?e.toString():"Error serializing object",null,!0)}}}))},Su=function(){function e(){var t=lo(),n=fo(),i=!1,r=!0;Bo(e,this,(function(e){try{if(t&&aa.Attach(t,"online",a)&&(aa.Attach(t,"offline",s),i=!0),n){var o=n.body||n;ra.isUndefined(o.ononline)||(o.ononline=a,o.onoffline=s,i=!0)}}catch(e){i=!1}function a(){r=!0}function s(){r=!1}e.isListening=i,e.isOnline=function(){var e=!0,t=ho();return i?e=r:t&&!ra.isNullOrUndefined(t.onLine)&&(e=t.onLine),e},e.isOffline=function(){return!e.isOnline()}}))}return e.Offline=new e,e}().Offline,Iu=function(){function e(){}return e.prototype.getHashCodeScore=function(t){return 100*(this.getHashCode(t)/e.INT_MAX_VALUE)},e.prototype.getHashCode=function(t){if(""===t)return 0;for(;t.length<e.MIN_INPUT_LENGTH;)t=t.concat(t);for(var n=5381,i=0;i<t.length;++i)n=(n<<5)+n+t.charCodeAt(i),n&=n;return Math.abs(n)},e.INT_MAX_VALUE=2147483647,e.MIN_INPUT_LENGTH=8,e}(),Cu=function(){function e(){this.hashCodeGeneragor=new Iu,this.keys=new tu}return e.prototype.getSamplingScore=function(e){return e.tags&&e.tags[this.keys.userId]?this.hashCodeGeneragor.getHashCodeScore(e.tags[this.keys.userId]):e.ext&&e.ext.user&&e.ext.user.id?this.hashCodeGeneragor.getHashCodeScore(e.ext.user.id):e.tags&&e.tags[this.keys.operationId]?this.hashCodeGeneragor.getHashCodeScore(e.tags[this.keys.operationId]):e.ext&&e.ext.telemetryTrace&&e.ext.telemetryTrace.traceID?this.hashCodeGeneragor.getHashCodeScore(e.ext.telemetryTrace.traceID):100*Math.random()},e}(),Tu=function(){function e(e,t){this.INT_MAX_VALUE=2147483647,this._logger=ra.isNullOrUndefined(t)?new Ns:t,(e>100||e<0)&&(this._logger.throwInternal(ia.WARNING,cs,"Sampling rate is out of range (0..100). Sampling will be disabled, you may be sending too much data which may affect your AI service level.",{samplingRate:e},!0),this.sampleRate=100),this.sampleRate=e,this.samplingScoreGenerator=new Cu}return e.prototype.isSampledIn=function(e){var t=this.sampleRate;return null==t||t>=100||(e.baseType===kc.dataType||this.samplingScoreGenerator.getSamplingScore(e)<t)},e}();function ku(e){try{return e.responseText}catch(e){}return null}var _u=function(e){function t(){var n,i,r,o,a=e.call(this)||this;return a.priority=1001,a.identifier=ac,a._XMLHttpRequestSupported=!1,Bo(t,a,(function(e,s){function c(){throw new Error("Method not implemented.")}function u(t,n){var i=e._senderConfig.endpointUrl(),r=e._buffer.batchPayloads(t),o=new Blob([r],{type:"text/plain;charset=UTF-8"});ho().sendBeacon(i,o)?(e._buffer.markAsSent(t),e._onSuccess(t,t.length)):(l(t,!0),e.diagLog().throwInternal(ia.WARNING,Ka,". "+"Failed to send telemetry with Beacon API, retried with xhrSender."))}function l(t,n){var i=new XMLHttpRequest,r=e._senderConfig.endpointUrl();try{i[Yc]=!0}catch(e){}i.open("POST",r,n),i.setRequestHeader("Content-type","application/json"),hc.isInternalApplicationInsightsEndpoint(r)&&i.setRequestHeader(cc.sdkContextHeader,cc.sdkContextHeaderAppIdRequest),i.onreadystatechange=function(){return e._xhrReadyStateChange(i,t,t.length)},i.onerror=function(n){return e._onError(t,g(i),n)};var o=e._buffer.batchPayloads(t);i.send(o),e._buffer.markAsSent(t)}function p(t){try{if(t&&""!==t){var n=bo().parse(t);if(n&&n.itemsReceived&&n.itemsReceived>=n.itemsAccepted&&n.itemsReceived-n.itemsAccepted===n.errors.length)return n}}catch(n){e.diagLog().throwInternal(ia.CRITICAL,Ya,"Cannot parse the response. "+hc.getExceptionName(n),{response:t})}return null}function d(t,r){if(void 0===r&&(r=1),t&&0!==t.length){e._buffer.clearSent(t),n++;for(var o=0,a=t;o<a.length;o++){var s=a[o];e._buffer.enqueue(s)}!function(e){var t,r=10;if(n<=1)t=r;else{var o=(Math.pow(2,n)-1)/2,a=Math.floor(Math.random()*o*r)+1;a*=e,t=Math.max(Math.min(a,3600),r)}var s=Date.now()+1e3*t;i=s}(r),f()}}function f(){if(!r){var t=i?Math.max(0,i-Date.now()):0,n=Math.max(e._senderConfig.maxBatchInterval(),t);r=setTimeout((function(){e.triggerSend(!0,null,1)}),n)}}function h(e){return 408===e||429===e||500===e||503===e}function g(e,t){return e?"XMLHttpRequest,Status:"+e.status+",Response:"+ku(e)||0||0:t}function v(t,n){var i=lo(),r=new XDomainRequest;r.onload=function(){return e._xdrOnLoad(r,t)},r.onerror=function(n){return e._onError(t,m(r),n)};var o=i&&i.location&&i.location.protocol||"";if(0!==e._senderConfig.endpointUrl().lastIndexOf(o,0))return e.diagLog().throwInternal(ia.WARNING,Ka,". "+"Cannot send XDomain request. The endpoint URL protocol doesn't match the hosting page protocol."),void e._buffer.clear();var a=e._senderConfig.endpointUrl().replace(/^(https?:)/,"");r.open("POST",a);var s=e._buffer.batchPayloads(t);r.send(s),e._buffer.markAsSent(t)}function m(e,t){return e?"XDomainRequest,Response:"+ku(e)||0:t}e.pause=c,e.resume=c,e.flush=function(){try{e.triggerSend(!0,null,1)}catch(t){e.diagLog().throwInternal(ia.CRITICAL,La,"flush failed, telemetry will not be collected: "+hc.getExceptionName(t),{exception:hc.dump(t)})}},e.onunloadFlush=function(){if(!1!==e._senderConfig.onunloadDisableBeacon()&&!1!==e._senderConfig.isBeaconApiDisabled()||!hc.IsBeaconApiSupported())e.flush();else try{e.triggerSend(!0,u,2)}catch(t){e.diagLog().throwInternal(ia.CRITICAL,Ea,"failed to flush with beacon sender on page unload, telemetry will not be collected: "+hc.getExceptionName(t),{exception:hc.dump(t)})}},e.teardown=c,e.initialize=function(r,a,c,p){s.initialize(r,a,c,p);var d=e._getTelCtx(),f=e.identifier;o=new wu(a.logger),n=0,i=null,0,e._sender=null;var h=t._getDefaultAppInsightsChannelConfig();e._senderConfig=t._getEmptyAppInsightsChannelConfig();var g=function(t){e._senderConfig[t]=function(){return d.getConfig(f,t,h[t]())}};for(var m in h)g(m);if(e._buffer=e._senderConfig.enableSessionStorageBuffer&&hc.canUseSessionStorage()?new Xc(e.diagLog(),e._senderConfig):new Kc(e._senderConfig),e._sample=new Tu(e._senderConfig.samplingPercentage(),e.diagLog()),!e._senderConfig.isBeaconApiDisabled()&&hc.IsBeaconApiSupported())e._sender=u;else if(void 0!==typeof XMLHttpRequest){var y=co("XMLHttpRequest");if(y)"withCredentials"in new y?(e._sender=l,e._XMLHttpRequestSupported=!0):void 0!==typeof XDomainRequest&&(e._sender=v)}},e.processTelemetry=function(n,i){i=e._getTelCtx(i);try{if(e._senderConfig.disableTelemetry())return;if(!n)return void i.diagLog().throwInternal(ia.CRITICAL,va,"Cannot send empty telemetry");if(n.baseData&&!n.baseType)return void i.diagLog().throwInternal(ia.CRITICAL,ys,"Cannot send telemetry without baseData and baseType");if(n.baseType||(n.baseType="EventData"),!e._sender)return void i.diagLog().throwInternal(ia.CRITICAL,Ma,"Sender was not initialized");if(l=n,!e._sample.isSampledIn(l))return void i.diagLog().throwInternal(ia.WARNING,qa,"Telemetry item was sampled out and not sent",{SampleRate:e._sample.sampleRate});n[Jc]=e._sample.sampleRate;var r=t.constructEnvelope(n,e._senderConfig.instrumentationKey(),i.diagLog());if(!r)return void i.diagLog().throwInternal(ia.CRITICAL,Qa,"Unable to create an AppInsights envelope");var a=!1;if(n.tags&&n.tags[Zc]&&(ra.arrForEach(n.tags[Zc],(function(e){try{e&&!1===e(r)&&(a=!0,i.diagLog().warnToConsole("Telemetry processor check returns false"))}catch(e){i.diagLog().throwInternal(ia.CRITICAL,fs,"One of telemetry initializers failed, telemetry item will not be sent: "+hc.getExceptionName(e),{exception:hc.dump(e)},!0)}})),delete n.tags[Zc]),a)return;var s=o.serialize(r),c=e._buffer.getItems(),u=e._buffer.batchPayloads(c);u&&u.length+s.length>e._senderConfig.maxBatchSizeInBytes()&&e.triggerSend(!0,null,10),e._buffer.enqueue(s),f()}catch(e){i.diagLog().throwInternal(ia.WARNING,wa,"Failed adding telemetry to the sender's buffer, some telemetry will be lost: "+hc.getExceptionName(e),{exception:hc.dump(e)})}var l;e.processNext(n,i)},e._xhrReadyStateChange=function(t,i,r){if(4===t.readyState){var o=null;if(e._appId||(o=p(ku(t)||t.response))&&o.appId&&(e._appId=o.appId),(t.status<200||t.status>=300)&&0!==t.status)!e._senderConfig.isRetryDisabled()&&h(t.status)?(d(i),e.diagLog().throwInternal(ia.WARNING,Ka,". "+"Response code "+t.status+". Will retry to send "+i.length+" items.")):e._onError(i,g(t));else if(Su.isOffline()){if(!e._senderConfig.isRetryDisabled()){d(i,10),e.diagLog().throwInternal(ia.WARNING,Ka,". Offline - Response Code: "+t.status+". Offline status: "+Su.isOffline()+". Will retry to send "+i.length+" items.")}}else 206===t.status?(o||(o=p(ku(t)||t.response)),o&&!e._senderConfig.isRetryDisabled()?e._onPartialSuccess(i,o):e._onError(i,g(t))):(n=0,e._onSuccess(i,r))}},e.triggerSend=function(t,n,o){void 0===t&&(t=!0);try{if(e._senderConfig.disableTelemetry())e._buffer.clear();else{if(e._buffer.count()>0){var s=e._buffer.getItems();!function(t,n){var i=function(){var t="getNotifyMgr";if(e.core[t])return e.core[t]();return e.core["_notificationManager"]}();if(i&&i.eventsSendRequest)try{i.eventsSendRequest(t,n)}catch(t){e.diagLog().throwInternal(ia.CRITICAL,Ss,"send request notification failed: "+hc.getExceptionName(t),{exception:hc.dump(t)})}}(o||0,t),n?n.call(a,s,t):e._sender(s,t)}+new Date}clearTimeout(r),r=null,i=null}catch(t){var c=hc.getIEVersion();(!c||c>9)&&e.diagLog().throwInternal(ia.CRITICAL,Ka,"Telemetry transmission failed, some telemetry will be lost: "+hc.getExceptionName(t),{exception:hc.dump(t)})}},e._onError=function(t,n,i){e.diagLog().throwInternal(ia.WARNING,Ra,"Failed to send telemetry.",{message:n}),e._buffer.clearSent(t)},e._onPartialSuccess=function(t,n){for(var i=[],r=[],o=0,a=n.errors.reverse();o<a.length;o++){var s=a[o],c=t.splice(s.index,1)[0];h(s.statusCode)?r.push(c):i.push(c)}t.length>0&&e._onSuccess(t,n.itemsAccepted),i.length>0&&e._onError(i,g(null,["partial success",n.itemsAccepted,"of",n.itemsReceived].join(" "))),r.length>0&&(d(r),e.diagLog().throwInternal(ia.WARNING,Ka,"Partial success. "+"Delivered: "+t.length+", Failed: "+i.length+". Will retry to send "+r.length+" our of "+n.itemsReceived+" items"))},e._onSuccess=function(t,n){e._buffer.clearSent(t)},e._xdrOnLoad=function(t,i){var r=ku(t);if(!t||r+""!="200"&&""!==r){var o=p(r);o&&o.itemsReceived&&o.itemsReceived>o.itemsAccepted&&!e._senderConfig.isRetryDisabled()?e._onPartialSuccess(i,o):e._onError(i,m(t))}else n=0,e._onSuccess(i,0)}})),a}return __extends(t,e),t.constructEnvelope=function(e,t,n){var i;switch((i=t===e.iKey||ra.isNullOrUndefined(t)?e:__assign({},e,{iKey:t})).baseType){case Sc.dataType:return gu.EventEnvelopeCreator.Create(n,i);case Ic.dataType:return xu.TraceEnvelopeCreator.Create(n,i);case Nc.dataType:return yu.PageViewEnvelopeCreator.Create(n,i);case Ec.dataType:return bu.PageViewPerformanceEnvelopeCreator.Create(n,i);case Oc.dataType:return vu.ExceptionEnvelopeCreator.Create(n,i);case kc.dataType:return mu.MetricEnvelopeCreator.Create(n,i);case jc.dataType:return hu.DependencyEnvelopeCreator.Create(n,i);default:return gu.EventEnvelopeCreator.Create(n,i)}},t._getDefaultAppInsightsChannelConfig=function(){return{endpointUrl:function(){return"https://dc.services.visualstudio.com/v2/track"},emitLineDelimitedJson:function(){return!1},maxBatchInterval:function(){return 15e3},maxBatchSizeInBytes:function(){return 102400},disableTelemetry:function(){return!1},enableSessionStorageBuffer:function(){return!0},isRetryDisabled:function(){return!1},isBeaconApiDisabled:function(){return!0},onunloadDisableBeacon:function(){return!1},instrumentationKey:function(){},namePrefix:function(){},samplingPercentage:function(){return 100}}},t._getEmptyAppInsightsChannelConfig=function(){return{endpointUrl:void 0,emitLineDelimitedJson:void 0,maxBatchInterval:void 0,maxBatchSizeInBytes:void 0,disableTelemetry:void 0,enableSessionStorageBuffer:void 0,isRetryDisabled:void 0,isBeaconApiDisabled:void 0,onunloadDisableBeacon:void 0,instrumentationKey:void 0,namePrefix:void 0,samplingPercentage:void 0}},t}(Ms),Nu=function(){},Eu=function(){function e(t,n){var i=this;ra.isNullOrUndefined(n)?this._logger=new Ns:this._logger=n,t||(t={}),"function"!=typeof t.sessionExpirationMs&&(t.sessionExpirationMs=function(){return e.acquisitionSpan}),"function"!=typeof t.sessionRenewalMs&&(t.sessionRenewalMs=function(){return e.renewalSpan}),this.config=t,this._storageNamePrefix=function(){return i.config.namePrefix&&i.config.namePrefix()?e.cookieNameConst+i.config.namePrefix():e.cookieNameConst},this.automaticSession=new Nu}return e.prototype.update=function(){this.automaticSession.id||this.initializeAutomaticSession();var t=yc.Now(),n=0!==this.config.sessionExpirationMs()&&t-this.automaticSession.acquisitionDate>this.config.sessionExpirationMs(),i=0!==this.config.sessionExpirationMs()&&t-this.automaticSession.renewalDate>this.config.sessionRenewalMs();n||i?this.renew():(!this.cookieUpdatedTimestamp||t-this.cookieUpdatedTimestamp>e.cookieUpdateInterval)&&(this.automaticSession.renewalDate=t,this.setCookie(this.automaticSession.id,this.automaticSession.acquisitionDate,this.automaticSession.renewalDate))},e.prototype.backup=function(){this.setStorage(this.automaticSession.id,this.automaticSession.acquisitionDate,this.automaticSession.renewalDate)},e.prototype.initializeAutomaticSession=function(){var e=hc.getCookie(this._logger,this._storageNamePrefix());if(e&&"function"==typeof e.split)this.initializeAutomaticSessionWithData(e);else{var t=hc.getStorage(this._logger,this._storageNamePrefix());t&&this.initializeAutomaticSessionWithData(t)}this.automaticSession.id||this.renew()},e.prototype.initializeAutomaticSessionWithData=function(e){var t=e.split("|");t.length>0&&(this.automaticSession.id=t[0]);try{if(t.length>1){var n=+t[1];this.automaticSession.acquisitionDate=+new Date(n),this.automaticSession.acquisitionDate=this.automaticSession.acquisitionDate>0?this.automaticSession.acquisitionDate:0}if(t.length>2){var i=+t[2];this.automaticSession.renewalDate=+new Date(i),this.automaticSession.renewalDate=this.automaticSession.renewalDate>0?this.automaticSession.renewalDate:0}}catch(e){this._logger.throwInternal(ia.CRITICAL,ya,"Error parsing ai_session cookie, session will be reset: "+hc.getExceptionName(e),{exception:hc.dump(e)})}0===this.automaticSession.renewalDate&&this._logger.throwInternal(ia.WARNING,Oa,"AI session renewal date is 0, session will be reset.")},e.prototype.renew=function(){var e=yc.Now();this.automaticSession.id=hc.newId(),this.automaticSession.acquisitionDate=e,this.automaticSession.renewalDate=e,this.setCookie(this.automaticSession.id,this.automaticSession.acquisitionDate,this.automaticSession.renewalDate),hc.canUseLocalStorage()||this._logger.throwInternal(ia.WARNING,ua,"Browser does not support local storage. Session durations will be inaccurate.")},e.prototype.setCookie=function(e,t,n){var i=t+this.config.sessionExpirationMs(),r=n+this.config.sessionRenewalMs(),o=new Date,a=[e,t,n];i<r?o.setTime(i):o.setTime(r);var s=this.config.cookieDomain?this.config.cookieDomain():null,c=0===this.config.sessionExpirationMs()?"0":o.toUTCString();hc.setCookie(this._logger,this._storageNamePrefix(),a.join("|")+";expires="+c,s),this.cookieUpdatedTimestamp=yc.Now()},e.prototype.setStorage=function(e,t,n){hc.setStorage(this._logger,this._storageNamePrefix(),[e,t,n].join("|"))},e.acquisitionSpan=864e5,e.renewalSpan=18e5,e.cookieUpdateInterval=6e4,e.cookieNameConst="ai_session",e}(),Lu=function(){},Du=function(){this.id="browser",this.deviceClass="Browser"},Au="2.5.7",Pu=function(e){this.sdkVersion=(e.sdkExtension&&e.sdkExtension()?e.sdkExtension()+"_":"")+"javascript:"+Au},Ru=function(){function e(t,n){this.isNewUser=!1,this._logger=n;var i=hc.getCookie(this._logger,e.userCookieName);if(i){this.isNewUser=!1;var r=i.split(e.cookieSeparator);r.length>0&&(this.id=r[0])}if(this.config=t,!this.id){this.id=hc.newId();var o=new Date,a=ra.toISOString(o);this.accountAcquisitionDate=a,this.isNewUser=!0,o.setTime(o.getTime()+31536e6);var s=[this.id,a],c=this.config.cookieDomain?this.config.cookieDomain():void 0;hc.setCookie(this._logger,e.userCookieName,s.join(e.cookieSeparator)+";expires="+o.toUTCString(),c);var u=t.namePrefix&&t.namePrefix()?t.namePrefix()+"ai_session":"ai_session";hc.removeStorage(this._logger,u)}this.accountId=t.accountId?t.accountId():void 0;var l=hc.getCookie(this._logger,e.authUserCookieName);if(l){var p=(l=decodeURI(l)).split(e.cookieSeparator);p[0]&&(this.authenticatedId=p[0]),p.length>1&&p[1]&&(this.accountId=p[1])}}return e.prototype.setAuthenticatedUserContext=function(t,n,i){if(void 0===i&&(i=!1),!this.validateUserInput(t)||n&&!this.validateUserInput(n))this._logger.throwInternal(ia.WARNING,us,"Setting auth user context failed. "+"User auth/account id should be of type string, and not contain commas, semi-colons, equal signs, spaces, or vertical-bars.",!0);else{this.authenticatedId=t;var r=this.authenticatedId;n&&(this.accountId=n,r=[this.authenticatedId,this.accountId].join(e.cookieSeparator)),i&&hc.setCookie(this._logger,e.authUserCookieName,encodeURI(r),this.config.cookieDomain())}},e.prototype.clearAuthenticatedUserContext=function(){this.authenticatedId=null,this.accountId=null,hc.deleteCookie(this._logger,e.authUserCookieName)},e.prototype.validateUserInput=function(e){return!("string"!=typeof e||!e||e.match(/,|;|=| |\|/))},e.cookieSeparator="|",e.userCookieName="ai_user",e.authUserCookieName="ai_authUser",e}(),Ou=function(){},Mu=function(e,t,n,i){this.traceID=e||hc.generateW3CId(),this.parentID=t,this.name=n;var r=vo();!n&&r&&r.pathname&&(this.name=r.pathname),this.name=uc.sanitizeString(i,this.name)},Uu=function(){function e(e,t){var n=this;n.application=new Lu,n.internal=new Pu(t),uo()&&(n.sessionManager=new Eu(t,e),n.device=new Du,n.location=new Ou,n.user=new Ru(t,e),n.telemetryTrace=new Mu(void 0,void 0,void 0,e),n.session=new Nu),n.appId=function(){return null}}return e.prototype.applySessionContext=function(e,t){var n=this.session,i=this.sessionManager,r=n||i&&i.automaticSession;r&&ra.isString(r.id)&&(e.ext.app.sesId=r.id),n&&(ra.isString(n.id)?e.ext.app.sesId=n.id:e.ext.app.sesId=i.automaticSession.id)},e.prototype.applyOperatingSystemContxt=function(e,t){var n=this.os;n&&n.name&&(e.ext.os=n)},e.prototype.applyApplicationContext=function(e,t){var n=this.application;n&&(ra.isString(n.ver)&&(e.tags[iu.applicationVersion]=n.ver),ra.isString(n.build)&&(e.tags[iu.applicationBuild]=n.build))},e.prototype.applyDeviceContext=function(e,t){var n=this.device;n&&(ra.isString(n.id)&&(e.ext.device.localId=n.id),ra.isString(n.ip)&&(e.ext.device.ip=n.ip),ra.isString(n.model)&&(e.ext.device.model=n.model),ra.isString(n.deviceClass)&&(e.ext.device.deviceClass=n.deviceClass))},e.prototype.applyInternalContext=function(e,t){var n=this.internal;n&&(ra.isString(n.agentVersion)&&(e.tags[iu.internalAgentVersion]=n.agentVersion),ra.isString(n.sdkVersion)&&(e.tags[iu.internalSdkVersion]=n.sdkVersion),e.baseType!==_s.dataType&&e.baseType!==Nc.dataType||(ra.isString(n.snippetVer)&&(e.tags[iu.internalSnippet]=n.snippetVer),ra.isString(n.sdkSrc)&&(e.tags[iu.internalSdkSrc]=n.sdkSrc)))},e.prototype.applyLocationContext=function(e,t){var n=this.location;n&&ra.isString(n.ip)&&(e.tags[iu.locationIp]=n.ip)},e.prototype.applyOperationContext=function(e,t){var n=this.telemetryTrace;if(n){var i=e.ext.trace||{traceID:void 0,parentID:void 0};ra.isString(n.traceID)&&(i.traceID=n.traceID),ra.isString(n.name)&&(i.name=n.name),ra.isString(n.parentID)&&(i.parentID=n.parentID),e.ext.trace=i}},e.prototype.applyWebContext=function(e,t){var n=this.web;n&&(e.ext.web=e.ext.web||{},e.ext.web=n)},e.prototype.applyUserContext=function(e,t){var n=this.user;n&&(e.tags||(e.tags=[]),ra.isString(n.accountId)&&(e.tags[iu.userAccountId]=n.accountId),ra.isString(n.id)&&(e.ext.user.id=n.id),ra.isString(n.authenticatedId)&&(e.ext.user.authId=n.authenticatedId))},e.prototype.cleanUp=function(e,t){e.ext[nu.DeviceExt]&&0===ra.objKeys(e.ext[nu.DeviceExt]).length&&delete e.ext[nu.DeviceExt],e.ext[nu.UserExt]&&0===ra.objKeys(e.ext[nu.UserExt]).length&&delete e.ext[nu.UserExt],e.ext[nu.WebExt]&&0===ra.objKeys(e.ext[nu.WebExt]).length&&delete e.ext[nu.WebExt],e.ext[nu.OSExt]&&0===ra.objKeys(e.ext[nu.OSExt]).length&&delete e.ext[nu.OSExt],e.ext[nu.AppExt]&&0===ra.objKeys(e.ext[nu.AppExt]).length&&delete e.ext[nu.AppExt],e.ext[nu.TraceExt]&&0===ra.objKeys(e.ext[nu.TraceExt]).length&&delete e.ext[nu.TraceExt]},e}(),ju=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.priority=110,t.identifier=oc,t}return __extends(t,e),t.getDefaultConfig=function(){return{instrumentationKey:function(){},accountId:function(){return null},sessionRenewalMs:function(){return 30*60*1e3},samplingPercentage:function(){return 100},sessionExpirationMs:function(){return 24*60*60*1e3},cookieDomain:function(){return null},sdkExtension:function(){return null},isBrowserLinkTrackingEnabled:function(){return!1},appId:function(){return null},namePrefix:function(){}}},t.prototype.initialize=function(n,i,r,o){var a=this;e.prototype.initialize.call(this,n,i,r,o);var s=this._getTelCtx(),c=this.identifier,u=t.getDefaultConfig();this._extensionConfig=this._extensionConfig||t.getDefaultConfig();var l=function(e){p._extensionConfig[e]=function(){return s.getConfig(c,e,u[e]())}},p=this;for(var d in u)l(d);this.context=new Uu(i.logger,this._extensionConfig),this._breezeChannel=hc.getExtension(r,ac),this.context.appId=function(){return a._breezeChannel?a._breezeChannel["_appId"]:null}},t.prototype.processTelemetry=function(e,t){if(ra.isNullOrUndefined(e));else{if(t=this._getTelCtx(t),e.name===Nc.envelopeType&&t.diagLog().resetInternalMessageCount(),this.context.session&&"string"!=typeof this.context.session.id&&this.context.sessionManager.update(),this._processTelemetryInternal(e,t),this.context&&this.context.user&&this.context.user.isNewUser){this.context.user.isNewUser=!1;var n=new _s(xs,(ho()||{}).userAgent||"");t.diagLog().logInternalMessage(ia.CRITICAL,n)}this.processNext(e,t)}},t.prototype._processTelemetryInternal=function(e,t){e.tags||(e.tags=[]),e.ext||(e.ext={});var n=e.ext;n[nu.DeviceExt]=n[nu.DeviceExt]||{},n[nu.WebExt]=n[nu.WebExt]||{},n[nu.UserExt]=n[nu.UserExt]||{},n[nu.OSExt]=n[nu.OSExt]||{},n[nu.AppExt]=n[nu.AppExt]||{},n[nu.TraceExt]=n[nu.TraceExt]||{};var i=this.context;i.applySessionContext(e,t),i.applyApplicationContext(e,t),i.applyDeviceContext(e,t),i.applyOperationContext(e,t),i.applyUserContext(e,t),i.applyOperatingSystemContxt(e,t),i.applyWebContext(e,t),i.applyLocationContext(e,t),i.applyInternalContext(e,t),i.cleanUp(e,t)},t}(Ms),Fu="_aiHooks",Bu=["req","rsp","hkErr","fnErr"],qu="__proto__",zu="constructor";function Vu(e,t){if(e)for(var n=0;n<e.length&&!t(e[n],n);n++);}function Hu(e,t,n,i,r){r>=0&&r<=2&&Vu(e,(function(e,o){var a=e.cbks,s=a[Bu[r]];if(s){t.ctx=function(){return i[o]=i[o]||{}};try{s.apply(t.inst,n)}catch(e){var c=t.err;try{var u=a[Bu[2]];u&&(t.err=e,u.apply(t.inst,n))}catch(e){}finally{t.err=c}}}}))}var Wu=Object["getPrototypeOf"];function Gu(e,t,n){var i=null;return e&&(ra.hasOwnProperty(e,t)?i=e:n&&(i=Gu(function(e){if(e){if(Wu)return Wu(e);var t=e[qu]||e[$r]||e[zu];if(t)return t}return null}(e),t,!1))),i}function Ku(e,t,n,i){if(void 0===i&&(i=!0),e&&t&&n){var r=Gu(e,t,i);if(r){var o=r[t];if(typeof o===Yr){var a=o[Fu];if(!a){var s=(u=a={i:0,n:t,f:o,h:[]},function(){var e=this,t=arguments,n=u.h,i={name:u.n,inst:e,ctx:null,set:s},r=[],o=a([i],t);function a(e,t){return Vu(t,(function(t){e.push(t)})),e}function s(e,n){(t=a([],t))[e]=n,o=a([i],t)}Hu(n,i,o,r,0);var c=u.f;try{i.rslt=c.apply(e,t)}catch(e){throw i.err=e,Hu(n,i,o,r,3),e}return Hu(n,i,o,r,1),i.rslt});s[Fu]=a,r[t]=s}var c={id:a.i,cbks:n,rm:function(){var e=this.id;Vu(a.h,(function(t,n){if(t.id===e)return a.h.splice(n,1),1}))}};return a.i++,a.h.push(c),c}}}var u;return null}var Xu="properties",$u=ra.objKeys,Yu=ra.arrForEach;function Ju(e,t,n){var i=0,r=e[t],o=e[n];return r&&o&&(i=yc.GetDuration(r,o)),i}function Zu(e,t,n,i,r){var o=0,a=Ju(n,i,r);return a&&(o=Qu(e,t,hc.msToTimeSpan(a))),o}function Qu(e,t,n){var i="ajaxPerf",r=0;e&&t&&n&&((e[i]=e[i]||{})[t]=n,r=1);return r}var el=function(){var e=this;e.openDone=!1,e.setRequestHeaderDone=!1,e.sendDone=!1,e.abortDone=!1,e.stateChangeAttached=!1},tl=function e(t,n,i){var r=this,o=i,a="responseText";r.perfMark=null,r.completed=!1,r.requestHeadersSize=null,r.requestHeaders=null,r.responseReceivingDuration=null,r.callbackDuration=null,r.ajaxTotalDuration=null,r.aborted=0,r.pageUrl=null,r.requestUrl=null,r.requestSize=0,r.method=null,r.status=null,r.requestSentTime=null,r.responseStartedTime=null,r.responseFinishedTime=null,r.callbackFinishedTime=null,r.endTime=null,r.xhrMonitoringState=new el,r.clientFailure=0,r.traceID=t,r.spanID=n,Bo(e,r,(function(e){e.getAbsoluteUrl=function(){return e.requestUrl?gc.getAbsoluteUrl(e.requestUrl):null},e.getPathName=function(){return e.requestUrl?uc.sanitizeUrl(o,gc.getCompleteUrl(e.method,e.requestUrl)):null},e.CreateTrackItem=function(t,n,i){if(e.ajaxTotalDuration=Math.round(1e3*yc.GetDuration(e.requestSentTime,e.responseFinishedTime))/1e3,e.ajaxTotalDuration<0)return null;var r,o=((r={id:"|"+e.traceID+"."+e.spanID,target:e.getAbsoluteUrl(),name:e.getPathName(),type:t,duration:e.ajaxTotalDuration,success:+e.status>=200&&+e.status<400,responseCode:+e.status,method:e.method})[Xu]={HttpMethod:e.method},r);if(function(e,t){var n=e.perfTiming,i=t[Xu]||{},r=0,o=ra.isString,a="name",s="Start",c="End",u="domainLookup",l="connect",p="redirect",d="request",f="response",h="duration",g="startTime",v=u+s,m=u+c,y=l+s,b=l+c,x=d+s,w=d+c,S=f+s,I=f+c,C=p+s,T=p=c,k="transferSize",_="encodedBodySize",N="decodedBodySize",E="serverTiming";if(n){r|=Zu(i,p,n,C,T),r|=Zu(i,u,n,v,m),r|=Zu(i,l,n,y,b),r|=Zu(i,d,n,x,w),r|=Zu(i,f,n,S,I),r|=Zu(i,"networkConnect",n,g,b),r|=Zu(i,"sentRequest",n,x,I);var L=n[h];L||(L=Ju(n,g,I)||0),r|=Qu(i,h,L),r|=Qu(i,"perfTotal",L);var D=n[E];if(D){var A={};Yu(D,(function(e,t){var n=function(e){var t=e,n=/([^\w\d_$])/g;return n.test(e)&&(t=e.replace(n,"_")),t}(e[a]||""+t),i=A[n]||{};Yu($u(e),(function(t){var n=e[t];(t!==a&&o(n)||ra.isNumber(n))&&(i[t]&&(n=i[t]+";"+n),!n&&o(n)||(i[t]=n))})),A[n]=i})),r|=Qu(i,E,A)}r|=Qu(i,k,n[k]),r|=Qu(i,_,n[_]),r|=Qu(i,N,n[N])}else e.perfMark&&(r|=Qu(i,"missing",e.perfAttempts));r&&(t[Xu]=i)}(e,o),n&&$u(e.requestHeaders).length>0&&(o[Xu]=o[Xu]||{},o[Xu].requestHeaders=e.requestHeaders),i){var s=i();if(s){var c=s.correlationContext;if(c&&(o.correlationContext=c),s.headerMap&&$u(s.headerMap).length>0&&(o[Xu]=o[Xu]||{},o[Xu].responseHeaders=s.headerMap),e.status>=400){var u=s.type;o[Xu]=o[Xu]||{},""!==u&&"text"!==u||(o[Xu][a]=s[a]?s.statusText+" - "+s[a]:s.statusText),"json"===u&&(o[Xu][a]=s.response?s.statusText+" - "+JSON.stringify(s.response):s.statusText)}}}return o}}))},nl=function(){function e(t,n){var i=this;i.traceFlag=e.DEFAULT_TRACE_FLAG,i.version=e.DEFAULT_VERSION,t&&e.isValidTraceId(t)?i.traceId=t:i.traceId=hc.generateW3CId(),n&&e.isValidSpanId(n)?i.spanId=n:i.spanId=hc.generateW3CId().substr(0,16)}return e.isValidTraceId=function(e){return e.match(/^[0-9a-f]{32}$/)&&"00000000000000000000000000000000"!==e},e.isValidSpanId=function(e){return e.match(/^[0-9a-f]{16}$/)&&"0000000000000000"!==e},e.prototype.toString=function(){var e=this;return e.version+"-"+e.traceId+"-"+e.spanId+"-"+e.traceFlag},e.DEFAULT_TRACE_FLAG="01",e.DEFAULT_VERSION="00",e}(),il="ai.ajxmn.",rl="diagLog",ol="ajaxData",al="throwInternal",sl="fetch",cl=ra.isNullOrUndefined,ul=ra.arrForEach,ll=ra.objKeys,pl=0;function dl(e){var t="";try{cl(e)||cl(e[ol])||cl(e[ol].requestUrl)||(t+="(url: '"+e[ol].requestUrl+"')")}catch(e){}return t}function fl(e,t,n,i,r){e[rl]()[al](ia.CRITICAL,t,n,i,r)}function hl(e,t,n,i,r){e[rl]()[al](ia.WARNING,t,n,i,r)}function gl(e,t,n){return function(i){fl(e,t,n,{ajaxDiagnosticsMessage:dl(i.inst),exception:hc.dump(i.err)})}}function vl(e,t){return e&&t?e.indexOf(t):-1}var ml,yl=function(e){function t(){var n=e.call(this)||this;n.identifier=t.identifier,n.priority=120;var i,r,o,a,s="trackDependencyDataInternal",c=vo(),u=!1,l=!1,p=c&&c.host&&c.host.toLowerCase(),d=t.getEmptyConfig(),f=!1,h=0,g=!1,v=0,m=!1,y=[],b={};return Bo(t,n,(function(e,n){function c(e,t,n){y.push(function(e,t,n){return e?Ku(e[$r],t,n,!1):null}(e,t,n))}function x(e,t,n){var i=!1,r=((ra.isString(t)?t:(t||{}).url||"")||"").toLowerCase(),o=vl(r,"?"),a=vl(r,"#");return(-1===o||-1!==a&&a<o)&&(o=a),-1!==o&&(r=r.substring(0,o)),cl(e)?cl(t)||(i="object"==typeof t&&!0===t[Yc]||!!n&&!0===n[Yc]):i=!0===e[Yc]||!0===r[Yc],i?b[r]||(b[r]=1):b[r]&&(i=!0),i}function w(e,t){var n=!0,i=l;return cl(e)||(n=!0===t||!cl(e[ol])),i&&n}function S(e){try{var t=e.responseType;if(""===t||"text"===t)return e.responseText}catch(e){}return null}function I(t){try{var n=t.getAllResponseHeaders();if(null!==n)if(-1!==vl(n.toLowerCase(),cc.requestContextHeaderLowerCase)){var i=t.getResponseHeader(cc.requestContextHeader);return vc.getCorrelationContext(i)}}catch(n){hl(e,_a,"Failed to get Request-Context correlation header as it may be not included in the response or not accessible.",{ajaxDiagnosticsMessage:dl(t),exception:hc.dump(n)})}}function C(e,t){if(t.requestUrl&&a&&g){var n=mo();if(n&&ra.isFunction(n.mark)){pl++;var i=a+e+"#"+pl;n.mark(i);var r=n.getEntriesByName(i);r&&1===r.length&&(t.perfMark=r[0])}}}function T(e,t,n,i){var r=t.perfMark,o=mo(),a=d.maxAjaxPerfLookupAttempts,s=d.ajaxPerfLookupDelay,c=t.requestUrl,u=0;!function l(){try{if(o&&r){u++;for(var p=null,d=o.getEntries(),f=d.length-1;f>=0;f--){var h=d[f];if(h){if("resource"===h.entryType)h.initiatorType!==e||-1===vl(h.name,c)&&-1===vl(c,h.name)||(p=h);else if("mark"===h.entryType&&h.name===r.name){t.perfTiming=p;break}if(h.startTime<r.startTime-1e3)break}}}!r||t.perfTiming||u>=a||!1===t.async?(r&&ra.isFunction(o.clearMarks)&&o.clearMarks(r.name),t.perfAttempts=u,n()):setTimeout(l,s)}catch(e){i(e)}}()}function k(t){var n="";try{cl(t)||(n+="string"==typeof t?"(url: '"+t+"')":"(url: '"+t.url+"')")}catch(t){fl(e,Ca,"Failed to grab failed fetch diagnostics message",{exception:hc.dump(t)})}return n}function _(t,n,i,r,o,a){function c(t,n,r){var o=r||{};o["fetchDiagnosticsMessage"]=k(i),n&&(o["exception"]=hc.dump(n)),hl(e,t,"Failed to calculate the duration of the fetch call, monitoring data for this fetch call won't be sent.",o)}r&&(r.responseFinishedTime=yc.Now(),r.status=n,T("fetch",r,(function(){var t=r.CreateTrackItem("Fetch",f,o);t?e[s](t):c(Ia,null,{requestSentTime:r.requestSentTime,responseFinishedTime:r.responseFinishedTime})}),(function(e){c(_a,e,null)})))}function N(t){if(t&&t.headers)try{var n=t.headers.get(cc.requestContextHeader);return vc.getCorrelationContext(n)}catch(n){hl(e,_a,"Failed to get Request-Context correlation header as it may be not included in the response or not accessible.",{fetchDiagnosticsMessage:k(t),exception:hc.dump(n)})}}e.initialize=function(p,h,b,k){if(!e.isInitialized()){n.initialize(p,h,b,k);var E=e._getTelCtx(),L=t.getDefaultConfig();ul(ll(L),(function(e){d[e]=E.getConfig(t.identifier,e,L[e])}));var D=d.distributedTracingMode;if(f=d.enableRequestHeaderTracking,g=d.enableAjaxPerfTracking,v=d.maxAjaxCallsPerView,m=d.enableResponseHeaderTracking,o=D===Gs.AI||D===Gs.AI_AND_W3C,r=D===Gs.AI_AND_W3C||D===Gs.W3C,g){var A=p.instrumentationKey||"unkwn";a=A.length>5?il+A.substring(A.length-5)+".":il+A+"."}if(!1===d.disableAjaxTracking&&function(e){var t=!1;if(typeof XMLHttpRequest!==Kr&&!cl(XMLHttpRequest)){var n=XMLHttpRequest[$r];t=!(cl(n)||cl(n.open)||cl(n.send)||cl(n.abort))}var i=hc.getIEVersion();if(i&&i<9&&(t=!1),t)try{(new XMLHttpRequest)[ol]={};var r=XMLHttpRequest[$r].open;XMLHttpRequest[$r].open=r}catch(n){t=!1,fl(e,Ca,"Failed to enable XMLHttpRequest monitoring, extension is not supported",{exception:hc.dump(n)})}return t}(e)&&!l&&(c(XMLHttpRequest,"open",{req:function(t,n,r,o){var a=t.inst,c=a[ol];x(a,r)||!w(a,!0)||c&&c.xhrMonitoringState.openDone||function(t,n,r,o){var a=i&&i.telemetryTrace&&i.telemetryTrace.traceID||hc.generateW3CId(),c=hc.generateW3CId().substr(0,16),u=new tl(a,c,e[rl]());u.method=n,u.requestUrl=r,u.xhrMonitoringState.openDone=!0,u.requestHeaders={},u.async=o,t[ol]=u,function(t){t[ol].xhrMonitoringState.stateChangeAttached=aa.Attach(t,"readystatechange",(function(){try{t&&4===t.readyState&&w(t)&&function(t){var n=t[ol];function i(n,i){var r=i||{};r["ajaxDiagnosticsMessage"]=dl(t),n&&(r["exception"]=hc.dump(n)),hl(e,Ia,"Failed to calculate the duration of the ajax call, monitoring data for this ajax call won't be sent.",r)}n.responseFinishedTime=yc.Now(),n.status=t.status,T("xmlhttprequest",n,(function(){try{var r=n.CreateTrackItem("Ajax",f,(function(){var e={statusText:t.statusText,headerMap:null,correlationContext:I(t),type:t.responseType,responseText:S(t),response:t.response};if(m){var n=t.getAllResponseHeaders();if(n){var i=ra.strTrim(n).split(/[\r\n]+/),r={};ul(i,(function(e){var t=e.split(": "),n=t.shift(),i=t.join(": ");r[n]=i})),e.headerMap=r}}return e}));r?e[s](r):i(null,{requestSentTime:n.requestSentTime,responseFinishedTime:n.responseFinishedTime})}finally{try{t[ol]=null}catch(e){}}}),(function(e){i(e,null)}))}(t)}catch(i){var n=hc.dump(i);n&&-1!==vl(n.toLowerCase(),"c00c023f")||fl(e,Ta,"Failed to monitor XMLHttpRequest 'readystatechange' event handler, monitoring data for this ajax call may be incorrect.",{ajaxDiagnosticsMessage:dl(t),exception:n})}}))}(t)}(a,n,r,o)},hkErr:gl(e,Ca,"Failed to monitor XMLHttpRequest.open, monitoring data for this ajax call may be incorrect.")}),c(XMLHttpRequest,"send",{req:function(t,n){var i=t.inst,r=i[ol];w(i)&&!r.xhrMonitoringState.sendDone&&(C("xhr",r),r.requestSentTime=yc.Now(),i=e.includeCorrelationHeaders(r,void 0,void 0,i),r.xhrMonitoringState.sendDone=!0)},hkErr:gl(e,ka,"Failed to monitor XMLHttpRequest, monitoring data for this ajax call may be incorrect.")}),c(XMLHttpRequest,"abort",{req:function(e){var t=e.inst,n=t[ol];w(t)&&!n.xhrMonitoringState.abortDone&&(n.aborted=1,n.xhrMonitoringState.abortDone=!0)},hkErr:gl(e,Sa,"Failed to monitor XMLHttpRequest.abort, monitoring data for this ajax call may be incorrect.")}),f&&c(XMLHttpRequest,"setRequestHeader",{req:function(e,t,n){var i=e.inst;w(i)&&(i[ol].requestHeaders[t]=n)},hkErr:gl(e,bs,"Failed to monitor XMLHttpRequest.setRequestHeader, monitoring data for this ajax call may be incorrect.")}),l=!0),function(){var t=(n=so(),!n||cl(n.Request)||cl(n.Request[$r])||cl(n[sl])?null:n[sl]);var n;if(!t)return;var r=so(),o=t.polyfill;!1===d.disableFetchTracking?(y.push(Ku(r,sl,{req:function(t,n,r){var a;if(u&&!x(null,n,r)&&(!o||!l)){var s=t.ctx();a=function(t,n){var r=i&&i.telemetryTrace&&i.telemetryTrace.traceID||hc.generateW3CId(),o=hc.generateW3CId().substr(0,16),a=new tl(r,o,e[rl]());a.requestSentTime=yc.Now(),t instanceof Request?a.requestUrl=t?t.url:"":a.requestUrl=t;var s="GET";n&&n.method?s=n.method:t&&t instanceof Request&&(s=t.method);a.method=s;var c={};if(f){new Headers((n?n.headers:0)||t instanceof Request&&t.headers||{}).forEach((function(e,t){c[t]=e}))}return a.requestHeaders=c,C("fetch",a),a}(n,r);var c=e.includeCorrelationHeaders(a,n,r);c!==r&&t.set(1,c),s.data=a}},rsp:function(e,t){var n=e.ctx().data;n&&(e.rslt=e.rslt.then((function(t){return _(e,(t||{}).status,t,n,(function(){var e={statusText:t.statusText,headerMap:null,correlationContext:N(t)};if(m){var n={};t.headers.forEach((function(e,t){n[t]=e})),e.headerMap=n}return e})),t}))["catch"]((function(i){throw _(e,0,t,n,null,{error:i.message}),i})))},hkErr:gl(e,Ca,"Failed to monitor Window.fetch, monitoring data for this fetch call may be incorrect.")})),u=!0):o&&y.push(Ku(r,sl,{req:function(e,t,n){x(null,t,n)}}));o&&(r[sl].polyfill=o)}(),b.length>0&&b){for(var P=void 0,R=0;!P&&R<b.length;)b[R]&&b[R].identifier===oc&&(P=b[R]),R++;P&&(i=P.context)}}},e.teardown=function(){ul(y,(function(e){e.rm()})),y=[],u=!1,l=!1,e.setInitialized(!1)},e.trackDependencyData=function(t,n){e[s](t,n)},e.includeCorrelationHeaders=function(t,n,a,s){var c=e["_currentWindowHost"]||p;if(n){if(vc.canIncludeCorrelationHeader(d,t.getAbsoluteUrl(),c)){if(a||(a={}),a.headers=new Headers(a.headers||n instanceof Request&&n.headers||{}),o){var u="|"+t.traceID+"."+t.spanID;a.headers.set(cc.requestIdHeader,u),f&&(t.requestHeaders[cc.requestIdHeader]=u)}if((h=d.appId||i&&i.appId())&&(a.headers.set(cc.requestContextHeader,cc.requestContextAppIdFormat+h),f&&(t.requestHeaders[cc.requestContextHeader]=cc.requestContextAppIdFormat+h)),r){var l=new nl(t.traceID,t.spanID);a.headers.set(cc.traceParentHeader,l.toString()),f&&(t.requestHeaders[cc.traceParentHeader]=l.toString())}}return a}if(s){if(vc.canIncludeCorrelationHeader(d,t.getAbsoluteUrl(),c)){if(o){u="|"+t.traceID+"."+t.spanID;s.setRequestHeader(cc.requestIdHeader,u),f&&(t.requestHeaders[cc.requestIdHeader]=u)}var h;if((h=d.appId||i&&i.appId())&&(s.setRequestHeader(cc.requestContextHeader,cc.requestContextAppIdFormat+h),f&&(t.requestHeaders[cc.requestContextHeader]=cc.requestContextAppIdFormat+h)),r){l=new nl(t.traceID,t.spanID);s.setRequestHeader(cc.traceParentHeader,l.toString()),f&&(t.requestHeaders[cc.traceParentHeader]=l.toString())}}return s}},e[s]=function(t,n,i){if(-1===v||h<v){d.distributedTracingMode!==Gs.W3C&&d.distributedTracingMode!==Gs.AI_AND_W3C||"string"!=typeof t.id||"."===t.id[t.id.length-1]||(t.id+="."),ra.isNullOrUndefined(t.startTime)&&(t.startTime=new Date);var r=bc.create(t,jc.dataType,jc.envelopeType,e[rl](),n,i);e.core.track(r)}else h===v&&fl(e,os,"Maximum ajax per page view limit reached, ajax monitoring is paused until the next trackPageView(). In order to increase the limit set the maxAjaxCallsPerView configuration parameter.",!0);++h}})),n}return __extends(t,e),t.getDefaultConfig=function(){return{maxAjaxCallsPerView:500,disableAjaxTracking:!1,disableFetchTracking:!0,disableCorrelationHeaders:!1,distributedTracingMode:Gs.AI,correlationHeaderExcludedDomains:["*.blob.core.windows.net","*.blob.core.chinacloudapi.cn","*.blob.core.cloudapi.de","*.blob.core.usgovcloudapi.net"],correlationHeaderDomains:void 0,appId:void 0,enableCorsCorrelation:!1,enableRequestHeaderTracking:!1,enableResponseHeaderTracking:!1,enableAjaxErrorStatusText:!1,enableAjaxPerfTracking:!1,maxAjaxPerfLookupAttempts:3,ajaxPerfLookupDelay:25}},t.getEmptyConfig=function(){var e=this.getDefaultConfig();return ul(ll(e),(function(t){e[t]=void 0})),e},t.prototype.processTelemetry=function(e,t){this.processNext(e,t)},t.identifier="AjaxDependencyPlugin",t}(Ms),bl=function(){function e(){}return e.parse=function(t){if(!t)return{};var n=t.split(e._FIELDS_SEPARATOR),i=ra.arrReduce(n,(function(t,n){var i=n.split(e._FIELD_KEY_VALUE_SEPARATOR);if(2===i.length){var r=i[0].toLowerCase(),o=i[1];t[r]=o}return t}),{});if(ra.objKeys(i).length>0){if(i.endpointsuffix){var r=i.location?i.location+".":"";i.ingestionendpoint=i.ingestionendpoint||"https://"+r+"dc."+i.endpointsuffix}i.ingestionendpoint=i.ingestionendpoint||eu}return i},e._FIELDS_SEPARATOR=";",e._FIELD_KEY_VALUE_SEPARATOR="=",e}(),xl=(null&&Common,function(){function e(e){var t=this;t._snippetVersion=""+(e.sv||e.version||""),e.queue=e.queue||[],e.version=e.version||2;var n=e.config||{};if(n.connectionString){var i=bl.parse(n.connectionString),r=i.ingestionendpoint;n.endpointUrl=r?r+"/v2/track":n.endpointUrl,n.instrumentationKey=i.instrumentationkey||n.instrumentationKey}t.appInsights=new Wc,t.properties=new ju,t.dependencies=new yl,t.core=new rc,t.snippet=e,t.config=n,t.getSKUDefaults()}return e.prototype.trackEvent=function(e,t){this.appInsights.trackEvent(e,t)},e.prototype.trackPageView=function(e){var t=e||{};this.appInsights.trackPageView(t)},e.prototype.trackPageViewPerformance=function(e){var t=e||{};this.appInsights.trackPageViewPerformance(t)},e.prototype.trackException=function(e){!e.exception&&e.error&&(e.exception=e.error),this.appInsights.trackException(e)},e.prototype._onerror=function(e){this.appInsights._onerror(e)},e.prototype.trackTrace=function(e,t){this.appInsights.trackTrace(e,t)},e.prototype.trackMetric=function(e,t){this.appInsights.trackMetric(e,t)},e.prototype.startTrackPage=function(e){this.appInsights.startTrackPage(e)},e.prototype.stopTrackPage=function(e,t,n,i){this.appInsights.stopTrackPage(e,t,n,i)},e.prototype.startTrackEvent=function(e){this.appInsights.startTrackEvent(e)},e.prototype.stopTrackEvent=function(e,t,n){this.appInsights.stopTrackEvent(e,t,n)},e.prototype.addTelemetryInitializer=function(e){return this.appInsights.addTelemetryInitializer(e)},e.prototype.setAuthenticatedUserContext=function(e,t,n){void 0===n&&(n=!1),this.properties.context.user.setAuthenticatedUserContext(e,t,n)},e.prototype.clearAuthenticatedUserContext=function(){this.properties.context.user.clearAuthenticatedUserContext()},e.prototype.trackDependencyData=function(e){this.dependencies.trackDependencyData(e)},e.prototype.flush=function(e){var t=this;void 0===e&&(e=!0),ca(this.core,(function(){return"AISKU.flush"}),(function(){ra.arrForEach(t.core.getTransmissionControls(),(function(t){ra.arrForEach(t,(function(t){t.flush(e)}))}))}),null,e)},e.prototype.onunloadFlush=function(e){void 0===e&&(e=!0),ra.arrForEach(this.core.getTransmissionControls(),(function(t){ra.arrForEach(t,(function(t){t.onunloadFlush?t.onunloadFlush():t.flush(e)}))}))},e.prototype.loadAppInsights=function(e){var t=this;void 0===e&&(e=!1);var n=this;if(e&&n.config.extensions&&n.config.extensions.length>0)throw new Error("Extensions not allowed in legacy mode");return ca(n.core,(function(){return"AISKU.loadAppInsights"}),(function(){var i=[],r=new _u;i.push(r),i.push(n.properties),i.push(n.dependencies),i.push(n.appInsights),n.core.initialize(n.config,i),n.context=n.properties.context,ml&&n.context&&(n.context.internal.sdkSrc=ml),function(t){if(t){var i="";for(var r in ra.isNullOrUndefined(n._snippetVersion)||(i+=n._snippetVersion),e&&(i+=".lg"),n.context&&n.context.internal&&(n.context.internal.snippetVer=i||"-"),n)ra.isString(r)&&!ra.isFunction(n[r])&&"_"!==r.substring(0,1)&&(t[r]=n[r])}}(n.snippet),n.emptyQueue(),n.pollInternalLogs(),n.addHousekeepingBeforeUnload(t)})),n},e.prototype.updateSnippetDefinitions=function(e){for(var t in this)ra.isString(t)&&(e[t]=this[t])},e.prototype.emptyQueue=function(){var e=this;try{if(hc.isArray(e.snippet.queue)){for(var t=e.snippet.queue.length,n=0;n<t;n++){(0,e.snippet.queue[n])()}e.snippet.queue=void 0,delete e.snippet.queue}}catch(e){e&&ra.isFunction(e.toString)&&e.toString()}},e.prototype.pollInternalLogs=function(){this.core.pollInternalLogs()},e.prototype.addHousekeepingBeforeUnload=function(e){if(uo()||po()){var t=function(){e.onunloadFlush(!1);var t=e.appInsights.core["_extensions"][oc];t&&t.context&&t.context._sessionManager&&t.context._sessionManager.backup()};if(!e.appInsights.config.disableFlushOnBeforeUnload){var n=ra.addEventHandler("beforeunload",t);(n=ra.addEventHandler("pagehide",t)||n)||(i=ho())&&i.product&&i.product===ao||e.appInsights.core.logger.throwInternal(ia.CRITICAL,Na,"Could not add handler for beforeunload and pagehide")}e.appInsights.config.disableFlushOnUnload||ra.addEventHandler("pagehide",t)}var i},e.prototype.getSKUDefaults=function(){var e=this;e.config.diagnosticLogInterval=e.config.diagnosticLogInterval&&e.config.diagnosticLogInterval>0?e.config.diagnosticLogInterval:1e4},e}());!function(){var e=null,t=!1,n=["://az416426.vo.msecnd.net/"];try{var i=(document||{}).currentScript;i&&(e=i.src)}catch(e){}if(e)try{var r=e.toLowerCase();if(r)for(var o="",a=0;a<n.length;a++)if(-1!==r.indexof(n[a])){o="cdn"+(a+1),-1===r.indexOf("/scripts/")&&(-1!==r.indexOf("/next/")?o+="-next":-1!==r.indexOf("/beta/")&&(o+="-beta")),ml=o+(t?".mod":"");break}}catch(e){}}();class wl{constructor(e){this.browserLink=e,this.isConnected=!1,this.isLogicalTreeInitialized=!1}watch(){this.timeoutHandle=window.setTimeout(this.onConnectionTimeout.bind(this),wl.timeout)}initialize(){this.isConnected=!0,this.browserLink.logicalTreeInitializedStatusService.isInitializedChanged.subscribe(this.logicalTreeInitializedChanged.bind(this)),this.browserLink.statusService.statusChanged.subscribe(this.statusChanged.bind(this))}logicalTreeInitializedChanged(){this.isLogicalTreeInitialized=this.browserLink.logicalTreeInitializedStatusService.isInitialized}statusChanged(){this.statusDisplayText=this.browserLink.statusService.currentStatus.displayText}initializationFinished(){this.timeoutHandle&&clearTimeout(this.timeoutHandle),this.browserLink.logicalTreeInitializedStatusService.isInitializedChanged.unsubscribe(this.logicalTreeInitializedChanged),this.browserLink.statusService.statusChanged.unsubscribe(this.statusChanged)}onConnectionTimeout(){const e=new Sl;e.isConnected=this.isConnected,e.isLogicalTreeInitialized=this.isLogicalTreeInitialized,e.statusDisplayText=this.statusDisplayText||this.browserLink.statusService.currentStatus.displayText,this.browserLink.statusService.currentStatus={displayText:br("status.connectionTimeOut"),fullText:br("status.connectionTimeOut")},this.browserLink.telemetryService.sendConnectionFailure(e)}}wl.timeout=1e4;class Sl{constructor(){this.name="VS/WebTools/WebLivePreview/BrowserConnectionFailure",this.properties=[]}set isConnected(e){this.properties[Sl.isConnectedPropertyName]=e}get isConnected(){const e=this.properties[Sl.isConnectedPropertyName];return e||!1}set isLogicalTreeInitialized(e){this.properties[Sl.isLogicalTreeInitializedPropertyName]=e}get isLogicalTreeInitialized(){const e=this.properties[Sl.isLogicalTreeInitializedPropertyName];return e||!1}set statusDisplayText(e){this.properties[Sl.statusDisplayText]=e}get statusDisplayText(){return this.properties[Sl.statusDisplayText]}}Sl.isConnectedPropertyName="VS.WebTools.WebLivePreview.IsConnected",Sl.isLogicalTreeInitializedPropertyName="VS.WebTools.WebLivePreview.IsLogicalTreeInitialized",Sl.statusDisplayText="VS.WebTools.WebLivePreview.StatusDisplayText";class Il{constructor(e){this.browserLink=e,this.appInsights=new xl({config:{instrumentationKey:"f144292e-e3b2-4011-ac90-20e5c03fbce5"}}),this.isAppInsightsInitialized=!1,this.connectionFailureWatcher=new wl(e),this.connectionFailureWatcher.watch()}sendChangesApplied(e){this.browserLink.invokeAsync("SendChangesAppliedTelemetryEvent",e)}sendDragAndDropFailed(e,t){this.browserLink.invokeAsync("SendDragAndDropFailedTelemetry",e,t)}sendDragAndDropSucceeded(e){this.browserLink.invokeAsync("SendDragAndDropSucceededTelemetry",e)}sendConnectionFailure(e){this.ensureAppInsightsLoaded(),this.appInsights.trackEvent(e)}sendCloseDialogCanceled(){this.browserLink.invoke("CloseDialogCanceled")}initialize(){this.connectionFailureWatcher.initialize()}initializationFinished(){this.connectionFailureWatcher.initializationFinished()}ensureAppInsightsLoaded(){this.isAppInsightsInitialized||(this.appInsights.loadAppInsights(),this.isAppInsightsInitialized=!0)}}class Cl{constructor(e){this.browserLink=e}getCurrentEditorSelectionPosition(){return Mr(this.browserLink.invokeAsync("GetCurrentEditorSelectionPosition"))}}class Tl{createElement(e,t){return document.createElement(e,t)}}class kl{}kl.toggleWLPMenu="ctrl+alt+m",kl.toggleInteractiveMode="ctrl+alt+i",kl.refreshBrowser="ctrl+alt+enter",kl.tagNavigationBarSelectionLeft="shift+alt+left",kl.tagNavigationBarSelectionRight="shift+alt+right",kl.arrowUp="up",kl.arrowDown="down",kl.arrowLeft="left",kl.arrowRight="right",kl.enterTextEditingMode="ctrl+alt+e",kl.escape="escape",kl.enter="enter";class _l{}_l.normalNavigation=[kl.arrowUp,kl.arrowDown,kl.arrowLeft,kl.arrowRight],_l.menuNavigation=[kl.arrowUp,kl.arrowDown],_l.tagNavBarSelection=[kl.tagNavigationBarSelectionLeft,kl.tagNavigationBarSelectionRight];var Nl=n(441);class El{constructor(e){this.browserLink=e}initialize(){this.browserLink.log("Initializing host services..."),this.browserLink.telemetryService.initialize(),this.browserLink.log("Initializing host auto sync service"),this.browserLink.autoSyncService.initialize(),Nl.bind(kl.refreshBrowser,(e=>{this.browserLink.refreshBrowsersService.refreshAllBrowsers()})),this.browserLink.sourceMapping.ensureUpToDateAsync((()=>{this.browserLink.log("Logical tree initialization detected in host extension"),this.browserLink.telemetryService.initializationFinished(),this.browserLink.log("Host service initialization finished")}))}uninitialize(e){Nl.unbind(kl.refreshBrowser),0===e?this.browserLink.invoke("DisableForPageSession"):1===e?this.browserLink.invoke("DisableForVisualStudioSession"):2===e&&this.browserLink.invoke("Disable")}}class Ll{constructor(e){this.browserLink=e}writeMessage(e,t){this.browserLink.invoke("DiagnosticGenericBrowserMessage",e,t)}writeEvent(e,t){this.browserLink.invoke("DiagnosticEvent",e,t)}writeMessageForEvent(e,t,n){this.browserLink.invoke("DiagnosticMessage",e,t,n)}}class Dl{constructor(e){this.browserLink=e}getActionItems(e){return Mr(this.browserLink.invokeAsync("GetActionPanelItems",e.start.path,e.start.position))}executeMethod(e,t,n){this.browserLink.invokeAsync("ExecuteActionMethodItem",e.start.path,e.start.position,t,n)}updateProperty(e,t,n,i){this.browserLink.invokeAsync("UpdateActionPropertyItem",e.start.path,e.start.position,t,n,i)}}class Al{constructor(e){this.browserLink=e}doDefaultAction(e){this.browserLink.invokeAsync("DoDefaultAction",e.start.path,e.start.position)}}function Pl(e){if(function(){try{return window.self!==window.top}catch(e){return!0}}())return e.log("Skipping host initialization due to IFrame detection"),{applyHtmlChanges:e=>!1,onEditorSelectionChanged:(e,t)=>!1,onUpdateNeededChanged(e){},setStatus:(e,t)=>!1,onConnected(){},onDisconnected(){}};const t=new Il(e);e.addSharedService("telemetryService",t);const n=new Ll(e);e.addSharedService("diagnosticLog",n);const i=new Dr(e,new Tl);e.addSharedService("autoSyncService",i);const r=new Rr(e);e.addSharedService("logicalTreeEditingService",r);const o=new Or(e);e.addSharedService("refreshBrowsersService",o);const a=new Ur(e);e.addSharedService("currentUpdateStatusService",a);const s=new Cl(e);e.addSharedService("currentEditorStateService",s);const c=new El(e);e.addSharedService("hostLifetimeService",c);const u=new Dl(e);e.addSharedService("actionPanelService",u);const l=new Al(e);return e.addSharedService("defaultActionService",l),{applyHtmlChanges:e=>i.applyHtmlChanges(e),onEditorSelectionChanged:function(t,n){try{e.selectionHostingService.setSelectedLogicalNodeBySourcePosition(t,n)}catch(t){var i;const n=t instanceof Error?t.message+"\r\n"+t.stack:"Unknown Error";null===(i=e.diagnosticLog)||void 0===i||i.writeEvent(7548,n)}return!0},onUpdateNeededChanged:function(t){e.updateBrowserButtonService&&(e.updateBrowserButtonService.isButtonEnabled=t)},setStatus:function(t,n){var i;return!(!(null===(i=e.logicalTreeInitializedStatusService)||void 0===i?void 0:i.isInitialized)||!e.statusService)&&(e.statusService.currentStatus={displayText:n,fullText:t},!0)},onConnected(){e.log("Host extension connected"),c.initialize()},onDisconnected:function(){Nl.unbind(kl.refreshBrowser),this.setStatus(br("status.disconnectedFullMessage"),br("status.disconnectedShortMessage")),e.browserLinkConnectionStatusService.isConnected=!1}}}},479:function(e,t,n){e.exports=n(954).default},441:function(e,t,n){var i;!function(r,o,a){if(r){for(var s,c={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},u={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},l={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},p={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},d=1;d<20;++d)c[111+d]="f"+d;for(d=0;d<=9;++d)c[d+96]=d.toString();b.prototype.bind=function(e,t,n){var i=this;return e=e instanceof Array?e:[e],i._bindMultiple.call(i,e,t,n),i},b.prototype.unbind=function(e,t){return this.bind.call(this,e,(function(){}),t)},b.prototype.trigger=function(e,t){var n=this;return n._directMap[e+":"+t]&&n._directMap[e+":"+t]({},e),n},b.prototype.reset=function(){var e=this;return e._callbacks={},e._directMap={},e},b.prototype.stopCallback=function(e,t){if((" "+t.className+" ").indexOf(" mousetrap ")>-1)return!1;if(y(t,this.target))return!1;if("composedPath"in e&&"function"==typeof e.composedPath){var n=e.composedPath()[0];n!==e.target&&(t=n)}return"INPUT"==t.tagName||"SELECT"==t.tagName||"TEXTAREA"==t.tagName||t.isContentEditable},b.prototype.handleKey=function(){var e=this;return e._handleKey.apply(e,arguments)},b.addKeycodes=function(e){for(var t in e)e.hasOwnProperty(t)&&(c[t]=e[t]);s=null},b.init=function(){var e=b(o);for(var t in e)"_"!==t.charAt(0)&&(b[t]=function(t){return function(){return e[t].apply(e,arguments)}}(t))},b.init(),r.Mousetrap=b,1&&e.exports&&(e.exports=b),1&&(void 0===(i=function(){return b}.call(t,n,t,e))||(e.exports=i))}function f(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)}function h(e){if("keypress"==e.type){var t=String.fromCharCode(e.which);return e.shiftKey||(t=t.toLowerCase()),t}return c[e.which]?c[e.which]:u[e.which]?u[e.which]:String.fromCharCode(e.which).toLowerCase()}function g(e){return"shift"==e||"ctrl"==e||"alt"==e||"meta"==e}function v(e,t,n){return n||(n=function(){if(!s)for(var e in s={},c)e>95&&e<112||c.hasOwnProperty(e)&&(s[c[e]]=e);return s}()[e]?"keydown":"keypress"),"keypress"==n&&t.length&&(n="keydown"),n}function m(e,t){var n,i,r,o=[];for(n=function(e){return"+"===e?["+"]:(e=e.replace(/\+{2}/g,"+plus")).split("+")}(e),r=0;r<n.length;++r)i=n[r],p[i]&&(i=p[i]),t&&"keypress"!=t&&l[i]&&(i=l[i],o.push("shift")),g(i)&&o.push(i);return{key:i,modifiers:o,action:t=v(i,o,t)}}function y(e,t){return null!==e&&e!==o&&(e===t||y(e.parentNode,t))}function b(e){var t=this;if(e=e||o,!(t instanceof b))return new b(e);t.target=e,t._callbacks={},t._directMap={};var n,i={},r=!1,a=!1,s=!1;function c(e){e=e||{};var t,n=!1;for(t in i)e[t]?n=!0:i[t]=0;n||(s=!1)}function u(e,n,r,o,a,s){var c,u,l,p,d=[],f=r.type;if(!t._callbacks[e])return[];for("keyup"==f&&g(e)&&(n=[e]),c=0;c<t._callbacks[e].length;++c)if(u=t._callbacks[e][c],(o||!u.seq||i[u.seq]==u.level)&&f==u.action&&("keypress"==f&&!r.metaKey&&!r.ctrlKey||(l=n,p=u.modifiers,l.sort().join(",")===p.sort().join(",")))){var h=!o&&u.combo==a,v=o&&u.seq==o&&u.level==s;(h||v)&&t._callbacks[e].splice(c,1),d.push(u)}return d}function l(e,n,i,r){t.stopCallback(n,n.target||n.srcElement,i,r)||!1===e(n,i)&&(function(e){e.preventDefault?e.preventDefault():e.returnValue=!1}(n),function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}(n))}function p(e){"number"!=typeof e.which&&(e.which=e.keyCode);var n=h(e);n&&("keyup"!=e.type||r!==n?t.handleKey(n,function(e){var t=[];return e.shiftKey&&t.push("shift"),e.altKey&&t.push("alt"),e.ctrlKey&&t.push("ctrl"),e.metaKey&&t.push("meta"),t}(e),e):r=!1)}function d(e,t,o,a){function u(t){return function(){s=t,++i[e],clearTimeout(n),n=setTimeout(c,1e3)}}function p(t){l(o,t,e),"keyup"!==a&&(r=h(t)),setTimeout(c,10)}i[e]=0;for(var d=0;d<t.length;++d){var f=d+1===t.length?p:u(a||m(t[d+1]).action);v(t[d],f,a,e,d)}}function v(e,n,i,r,o){t._directMap[e+":"+i]=n;var a,s=(e=e.replace(/\s+/g," ")).split(" ");s.length>1?d(e,s,n,i):(a=m(e,i),t._callbacks[a.key]=t._callbacks[a.key]||[],u(a.key,a.modifiers,{type:a.action},r,e,o),t._callbacks[a.key][r?"unshift":"push"]({callback:n,modifiers:a.modifiers,action:a.action,seq:r,level:o,combo:e}))}t._handleKey=function(e,t,n){var i,r=u(e,t,n),o={},p=0,d=!1;for(i=0;i<r.length;++i)r[i].seq&&(p=Math.max(p,r[i].level));for(i=0;i<r.length;++i)if(r[i].seq){if(r[i].level!=p)continue;d=!0,o[r[i].seq]=1,l(r[i].callback,n,r[i].combo,r[i].seq)}else d||l(r[i].callback,n,r[i].combo);var f="keypress"==n.type&&a;n.type!=s||g(e)||f||c(o),a=d&&"keydown"==n.type},t._bindMultiple=function(e,t,n){for(var i=0;i<e.length;++i)v(e[i],t,n)},f(e,"keypress",p),f(e,"keydown",p),f(e,"keyup",p)}}("undefined"!=typeof window?window:null,"undefined"!=typeof window?document:null)},349:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(144),r=n(422),o=function(){function e(){this._wrap=new s(this),this._subscriptions=new Array}return Object.defineProperty(e.prototype,"count",{get:function(){return this._subscriptions.length},enumerable:!0,configurable:!0}),e.prototype.subscribe=function(e){var t=this;return e&&this._subscriptions.push(new r.Subscription(e,!1)),function(){t.unsubscribe(e)}},e.prototype.sub=function(e){return this.subscribe(e)},e.prototype.one=function(e){var t=this;return e&&this._subscriptions.push(new r.Subscription(e,!0)),function(){t.unsubscribe(e)}},e.prototype.has=function(e){return!!e&&this._subscriptions.some((function(t){return t.handler==e}))},e.prototype.unsubscribe=function(e){if(e)for(var t=0;t<this._subscriptions.length;t++)if(this._subscriptions[t].handler==e){this._subscriptions.splice(t,1);break}},e.prototype.unsub=function(e){this.unsubscribe(e)},e.prototype._dispatch=function(e,t,n){for(var r=this,o=function(o){var s=new i.EventManagement((function(){return r.unsub(o.handler)})),c=Array.prototype.slice.call(n);if(c.push(s),o.execute(e,t,c),a.cleanup(o),!e&&s.propagationStopped)return"break"},a=this,s=0,c=this._subscriptions.slice();s<c.length;s++){if("break"===o(c[s]))break}},e.prototype.cleanup=function(e){if(e.isOnce&&e.isExecuted){var t=this._subscriptions.indexOf(e);t>-1&&this._subscriptions.splice(t,1)}},e.prototype.asEvent=function(){return this._wrap},e.prototype.clear=function(){this._subscriptions.splice(0,this._subscriptions.length)},e}();t.DispatcherBase=o;var a=function(){function e(){this._events={}}return e.prototype.get=function(e){var t=this._events[e];return t||(t=this.createDispatcher(),this._events[e]=t,t)},e.prototype.remove=function(e){delete this._events[e]},e}();t.EventListBase=a;var s=function(){function e(e){this._subscribe=function(t){return e.subscribe(t)},this._unsubscribe=function(t){return e.unsubscribe(t)},this._one=function(t){return e.one(t)},this._has=function(t){return e.has(t)},this._clear=function(){return e.clear()},this._count=function(){return e.count}}return Object.defineProperty(e.prototype,"count",{get:function(){return this._count()},enumerable:!0,configurable:!0}),e.prototype.subscribe=function(e){return this._subscribe(e)},e.prototype.sub=function(e){return this.subscribe(e)},e.prototype.unsubscribe=function(e){this._unsubscribe(e)},e.prototype.unsub=function(e){this.unsubscribe(e)},e.prototype.one=function(e){return this._one(e)},e.prototype.has=function(e){return this._has(e)},e.prototype.clear=function(){this._clear()},e}();t.DispatcherWrapper=s},210:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(349);t.DispatcherBase=i.DispatcherBase,t.DispatcherWrapper=i.DispatcherWrapper,t.EventListBase=i.EventListBase;var r=n(422);t.Subscription=r.Subscription},144:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this.unsub=e,this.propagationStopped=!1}return e.prototype.stopPropagation=function(){this.propagationStopped=!0},e}();t.EventManagement=n},422:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){this.handler=e,this.isOnce=t,this.isExecuted=!1}return e.prototype.execute=function(e,t,n){if(!this.isOnce||!this.isExecuted){this.isExecuted=!0;var i=this.handler;e?setTimeout((function(){i.apply(t,n)}),1):i.apply(t,n)}},e}();t.Subscription=n},685:function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(210),a=function(e){function t(){return e.call(this)||this}return r(t,e),t.prototype.dispatch=function(e,t){this._dispatch(!1,this,arguments)},t.prototype.dispatchAsync=function(e,t){this._dispatch(!0,this,arguments)},t.prototype.asEvent=function(){return e.prototype.asEvent.call(this)},t}(o.DispatcherBase);t.EventDispatcher=a;var s=function(){function e(){this._events={}}return e.prototype.get=function(e){if(this._events[e])return this._events[e];var t=this.createDispatcher();return this._events[e]=t,t},e.prototype.remove=function(e){delete this._events[e]},e.prototype.createDispatcher=function(){return new a},e}();t.NonUniformEventList=s;var c=function(e){function t(){return e.call(this)||this}return r(t,e),t.prototype.createDispatcher=function(){return new a},t}(o.EventListBase);t.EventList=c;var u=function(){function e(){this._events=new c}return Object.defineProperty(e.prototype,"events",{get:function(){return this._events},enumerable:!0,configurable:!0}),e.prototype.subscribe=function(e,t){this._events.get(e).subscribe(t)},e.prototype.sub=function(e,t){this.subscribe(e,t)},e.prototype.unsubscribe=function(e,t){this._events.get(e).unsubscribe(t)},e.prototype.unsub=function(e,t){this.unsubscribe(e,t)},e.prototype.one=function(e,t){this._events.get(e).one(t)},e.prototype.has=function(e,t){return this._events.get(e).has(t)},e}();t.EventHandlingBase=u},132:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(685);t.EventDispatcher=i.EventDispatcher,t.EventHandlingBase=i.EventHandlingBase,t.EventList=i.EventList,t.NonUniformEventList=i.NonUniformEventList},106:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(141);t.SignalDispatcher=i.SignalDispatcher,t.SignalHandlingBase=i.SignalHandlingBase,t.SignalList=i.SignalList},141:function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(210),a=function(e){function t(){return e.call(this)||this}return r(t,e),t.prototype.dispatch=function(){this._dispatch(!1,this,arguments)},t.prototype.dispatchAsync=function(){this._dispatch(!0,this,arguments)},t.prototype.asEvent=function(){return e.prototype.asEvent.call(this)},t}(o.DispatcherBase);t.SignalDispatcher=a;var s=function(e){function t(){return e.call(this)||this}return r(t,e),t.prototype.createDispatcher=function(){return new a},t}(o.EventListBase);t.SignalList=s;var c=function(){function e(){this._events=new s}return Object.defineProperty(e.prototype,"events",{get:function(){return this._events},enumerable:!0,configurable:!0}),e.prototype.one=function(e,t){this._events.get(e).one(t)},e.prototype.has=function(e,t){return this._events.get(e).has(t)},e.prototype.subscribe=function(e,t){this._events.get(e).subscribe(t)},e.prototype.sub=function(e,t){this.subscribe(e,t)},e.prototype.unsubscribe=function(e,t){this._events.get(e).unsubscribe(t)},e.prototype.unsub=function(e,t){this.unsubscribe(e,t)},e}();t.SignalHandlingBase=c},602:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(699);t.SimpleEventDispatcher=i.SimpleEventDispatcher,t.SimpleEventHandlingBase=i.SimpleEventHandlingBase,t.SimpleEventList=i.SimpleEventList,t.NonUniformSimpleEventList=i.NonUniformSimpleEventList},699:function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(210),a=function(e){function t(){return e.call(this)||this}return r(t,e),t.prototype.dispatch=function(e){this._dispatch(!1,this,arguments)},t.prototype.dispatchAsync=function(e){this._dispatch(!0,this,arguments)},t.prototype.asEvent=function(){return e.prototype.asEvent.call(this)},t}(o.DispatcherBase);t.SimpleEventDispatcher=a;var s=function(){function e(){this._events={}}return e.prototype.get=function(e){if(this._events[e])return this._events[e];var t=this.createDispatcher();return this._events[e]=t,t},e.prototype.remove=function(e){delete this._events[e]},e.prototype.createDispatcher=function(){return new a},e}();t.NonUniformSimpleEventList=s;var c=function(e){function t(){return e.call(this)||this}return r(t,e),t.prototype.createDispatcher=function(){return new a},t}(o.EventListBase);t.SimpleEventList=c;var u=function(){function e(){this._events=new c}return Object.defineProperty(e.prototype,"events",{get:function(){return this._events},enumerable:!0,configurable:!0}),e.prototype.subscribe=function(e,t){this._events.get(e).subscribe(t)},e.prototype.sub=function(e,t){this.subscribe(e,t)},e.prototype.one=function(e,t){this._events.get(e).one(t)},e.prototype.has=function(e,t){return this._events.get(e).has(t)},e.prototype.unsubscribe=function(e,t){this._events.get(e).unsubscribe(t)},e.prototype.unsub=function(e,t){this.unsubscribe(e,t)},e}();t.SimpleEventHandlingBase=u},993:function(e,t,n){"use strict";var i=n(210);i.DispatcherBase,i.DispatcherWrapper,i.EventListBase,i.Subscription;var r=n(132);r.EventDispatcher,r.EventHandlingBase,r.EventList,r.NonUniformEventList;var o=n(602);t.FK=o.SimpleEventDispatcher,o.SimpleEventHandlingBase,o.SimpleEventList,o.NonUniformSimpleEventList;var a=n(106);a.SignalDispatcher,a.SignalHandlingBase,a.SignalList}},t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={exports:{}};return e[i].call(r.exports,r,r.exports,n),r.exports}return n.d=function(e,t){for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n(479)}();;
this.addExtension("Microsoft.WebTools.BrowserLink.LivePreview.LivePreviewExtensionFactory", extension); }} catch(e) {{ this.log("Invalid extension script encountered for extension 'Microsoft.WebTools.BrowserLink.LivePreview.LivePreviewExtensionFactory'."); return; }}
},generateId:function(){return this.nextId++,this.nextId<0&&(this.nextId=0),this.nextId},removeTask:function(n){delete this.callbackTable[n]},addExtension:function(f,e){var o={},s,h,c,l;if(typeof e!="function"){this.log("Extension function definition was not defined as a function object.");return}h=function(n,t){if(typeof n=="undefined")throw new Error("Browser Link: Method call failed, missing method name argument.");if(!t)throw new Error('Method call failed, missing class name. Use the format "namespace."methodName"');return t+"."+n};c=function(n){for(var i=[],t=1;t<n.length;t++)i.push(n[t]);return i};o.json=t;o.initializationData=this.initializationData;o.log=this.log;o.invoke=function(n){var t=h(n,this.factoryName),r=c(arguments);i.invoke(t,!1,r)};o.invokeAsync=function(n){var t=h(n,this.factoryName),r=c(arguments);return i.invoke(t,!0,r)};o.addSharedService=function(n,t){u[n]=t;for(var i=0;i<r.length;i++)r[i][n]=t};for(l in u)o[l]=u[l];r.push(o);s=e(o,n);o.factoryName=s.name=f.toLowerCase();this.extensions[o.factoryName]=s;this.inits.push(s)},reset:function(){this.extensions=[];this.inits=[];this.callbackTable=[];this.nextId=0;this.isUnloading=!1;this.connection=null},initialize:function(){var f,u,e,o;window.browserLink=i;var s="xxxx-xxxx".replace(/x/g,function(){return(Math.random()*16|0).toString(16)}),r=document.getElementById("__browserLink_initializationData"),h={requestId:r.getAttribute("data-requestId"),appName:r.getAttribute("data-appName"),requestMappingFromServer:r.getAttribute("data-requestMappingFromServer"),browserId:s};i.initializationData=h;f=function(){return{requestUrl:document.location.href,browserName:h.appName,userAgent:navigator?navigator.userAgent:null,browserIdKey:"window.browserLink.initializationData.browserId",browserId:s}};o=f();this.connection=n.connection(r.getAttribute("src")+"SignalR",o);this.connection.json=t;this.connection.received(function(t){try{var r=n.parseJSON(t);r.name&&r.args&&i.dispatchCallback(r.name,r.args,r.callbackId)}catch(u){}});this.connection.stateChanged(function(t){if(t.newState===n.signalR.connectionState.disconnected||t.newState===n.signalR.connectionState.reconnecting)for(var r=0;r<i.inits.length;r++)typeof i.inits[r].onDisconnected=="function"&&i.inits[r].onDisconnected();t.newState===n.signalR.connectionState.disconnected&&(i.isReconnecting||i.isUnloading||(i.isReconnecting=!0,window.setTimeout(function(){i.reset();i.initialize()},25)))});u=function(){if(i.isReconnecting){i.isReconnecting=!1;for(var n=0;n<i.inits.length;n++)typeof i.inits[n].onReconnecting=="function"&&i.inits[n].onReconnecting()}else i.addExtensions();i.invoke("Microsoft.WebTools.BrowserLink.CoreExtensionFactory.connected",!0).continueWith(function(){for(var n=0;n<i.inits.length;n++)typeof i.inits[n].onConnected=="function"&&i.inits[n].onConnected()})};e=function(n){var r,u,t,i,f;if(r=function(){return navigator.userAgent.search(/msie /i)>=0||navigator.userAgent.search(/trident/i)>=0?!0:!1},r()&&(u=window.location,t=window.document.createElement("a"),t.href=n,i=function(n){return n&&n.indexOf(".")<0?!0:!1},i(t.hostname)&&!i(u.hostname)))return!1;try{return f=new XMLHttpRequest,f.open("get",n),!0}catch(e){return!1}};e(i.connection.url)?i.connection.start().done(u):i.connection.start({transport:"longPolling",jsonp:!0}).done(u)}};n(window).on("beforeunload",function(){i.isUnloading=!0});if(i.initialize(),window._vwdonbeforeunload)n(window).on("beforeunload",window._vwdonbeforeunload)})($.noConflict(!0),JSON);window._vwdJSON&&(JSON=window._vwdJSON);window._vwdDefine&&(define=window._vwdDefine);